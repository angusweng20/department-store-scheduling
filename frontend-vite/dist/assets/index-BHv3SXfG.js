(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function $v(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var of={exports:{}},Xi={};var ty;function XS(){if(ty)return Xi;ty=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Xi.Fragment=e,Xi.jsx=r,Xi.jsxs=r,Xi}var ny;function QS(){return ny||(ny=1,of.exports=XS()),of.exports}var d=QS(),lf={exports:{}},he={};var ry;function ZS(){if(ry)return he;ry=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function A(k,G,te){this.props=k,this.context=G,this.refs=S,this.updater=te||_}A.prototype.isReactComponent={},A.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function j(){}j.prototype=A.prototype;function N(k,G,te){this.props=k,this.context=G,this.refs=S,this.updater=te||_}var R=N.prototype=new j;R.constructor=N,T(R,A.prototype),R.isPureReactComponent=!0;var L=Array.isArray;function q(){}var B={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function K(k,G,te){var ne=te.ref;return{$$typeof:n,type:k,key:G,ref:ne!==void 0?ne:null,props:te}}function ee(k,G){return K(k.type,G,k.props)}function me(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function pe(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(te){return G[te]})}var ge=/\/+/g;function ke(k,G){return typeof k=="object"&&k!==null&&k.key!=null?pe(""+k.key):G.toString(36)}function be(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(q,q):(k.status="pending",k.then(function(G){k.status==="pending"&&(k.status="fulfilled",k.value=G)},function(G){k.status==="pending"&&(k.status="rejected",k.reason=G)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function z(k,G,te,ne,fe){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var $e=!1;if(k===null)$e=!0;else switch(_e){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(k.$$typeof){case n:case e:$e=!0;break;case y:return $e=k._init,z($e(k._payload),G,te,ne,fe)}}if($e)return fe=fe(k),$e=ne===""?"."+ke(k,0):ne,L(fe)?(te="",$e!=null&&(te=$e.replace(ge,"$&/")+"/"),z(fe,G,te,"",function(ai){return ai})):fe!=null&&(me(fe)&&(fe=ee(fe,te+(fe.key==null||k&&k.key===fe.key?"":(""+fe.key).replace(ge,"$&/")+"/")+$e)),G.push(fe)),1;$e=0;var Gt=ne===""?".":ne+":";if(L(k))for(var dt=0;dt<k.length;dt++)ne=k[dt],_e=Gt+ke(ne,dt),$e+=z(ne,G,te,_e,fe);else if(dt=E(k),typeof dt=="function")for(k=dt.call(k),dt=0;!(ne=k.next()).done;)ne=ne.value,_e=Gt+ke(ne,dt++),$e+=z(ne,G,te,_e,fe);else if(_e==="object"){if(typeof k.then=="function")return z(be(k),G,te,ne,fe);throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return $e}function Q(k,G,te){if(k==null)return k;var ne=[],fe=0;return z(k,ne,"","",function(_e){return G.call(te,_e,fe++)}),ne}function oe(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(te){(k._status===0||k._status===-1)&&(k._status=1,k._result=te)},function(te){(k._status===0||k._status===-1)&&(k._status=2,k._result=te)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Pe={map:Q,forEach:function(k,G,te){Q(k,function(){G.apply(this,arguments)},te)},count:function(k){var G=0;return Q(k,function(){G++}),G},toArray:function(k){return Q(k,function(G){return G})||[]},only:function(k){if(!me(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return he.Activity=b,he.Children=Pe,he.Component=A,he.Fragment=r,he.Profiler=o,he.PureComponent=N,he.StrictMode=s,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,he.__COMPILER_RUNTIME={__proto__:null,c:function(k){return B.H.useMemoCache(k)}},he.cache=function(k){return function(){return k.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(k,G,te){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ne=T({},k.props),fe=k.key;if(G!=null)for(_e in G.key!==void 0&&(fe=""+G.key),G)!J.call(G,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&G.ref===void 0||(ne[_e]=G[_e]);var _e=arguments.length-2;if(_e===1)ne.children=te;else if(1<_e){for(var $e=Array(_e),Gt=0;Gt<_e;Gt++)$e[Gt]=arguments[Gt+2];ne.children=$e}return K(k.type,fe,ne)},he.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},he.createElement=function(k,G,te){var ne,fe={},_e=null;if(G!=null)for(ne in G.key!==void 0&&(_e=""+G.key),G)J.call(G,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=G[ne]);var $e=arguments.length-2;if($e===1)fe.children=te;else if(1<$e){for(var Gt=Array($e),dt=0;dt<$e;dt++)Gt[dt]=arguments[dt+2];fe.children=Gt}if(k&&k.defaultProps)for(ne in $e=k.defaultProps,$e)fe[ne]===void 0&&(fe[ne]=$e[ne]);return K(k,_e,fe)},he.createRef=function(){return{current:null}},he.forwardRef=function(k){return{$$typeof:m,render:k}},he.isValidElement=me,he.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:oe}},he.memo=function(k,G){return{$$typeof:p,type:k,compare:G===void 0?null:G}},he.startTransition=function(k){var G=B.T,te={};B.T=te;try{var ne=k(),fe=B.S;fe!==null&&fe(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(q,Me)}catch(_e){Me(_e)}finally{G!==null&&te.types!==null&&(G.types=te.types),B.T=G}},he.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},he.use=function(k){return B.H.use(k)},he.useActionState=function(k,G,te){return B.H.useActionState(k,G,te)},he.useCallback=function(k,G){return B.H.useCallback(k,G)},he.useContext=function(k){return B.H.useContext(k)},he.useDebugValue=function(){},he.useDeferredValue=function(k,G){return B.H.useDeferredValue(k,G)},he.useEffect=function(k,G){return B.H.useEffect(k,G)},he.useEffectEvent=function(k){return B.H.useEffectEvent(k)},he.useId=function(){return B.H.useId()},he.useImperativeHandle=function(k,G,te){return B.H.useImperativeHandle(k,G,te)},he.useInsertionEffect=function(k,G){return B.H.useInsertionEffect(k,G)},he.useLayoutEffect=function(k,G){return B.H.useLayoutEffect(k,G)},he.useMemo=function(k,G){return B.H.useMemo(k,G)},he.useOptimistic=function(k,G){return B.H.useOptimistic(k,G)},he.useReducer=function(k,G,te){return B.H.useReducer(k,G,te)},he.useRef=function(k){return B.H.useRef(k)},he.useState=function(k){return B.H.useState(k)},he.useSyncExternalStore=function(k,G,te){return B.H.useSyncExternalStore(k,G,te)},he.useTransition=function(){return B.H.useTransition()},he.version="19.2.3",he}var ay;function ph(){return ay||(ay=1,lf.exports=ZS()),lf.exports}var C=ph();const zv=$v(C);var uf={exports:{}},Qi={},cf={exports:{}},df={};var sy;function e1(){return sy||(sy=1,(function(n){function e(z,Q){var oe=z.length;z.push(Q);e:for(;0<oe;){var Me=oe-1>>>1,Pe=z[Me];if(0<o(Pe,Q))z[Me]=Q,z[oe]=Pe,oe=Me;else break e}}function r(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var Q=z[0],oe=z.pop();if(oe!==Q){z[0]=oe;e:for(var Me=0,Pe=z.length,k=Pe>>>1;Me<k;){var G=2*(Me+1)-1,te=z[G],ne=G+1,fe=z[ne];if(0>o(te,oe))ne<Pe&&0>o(fe,te)?(z[Me]=fe,z[ne]=oe,Me=ne):(z[Me]=te,z[G]=oe,Me=G);else if(ne<Pe&&0>o(fe,oe))z[Me]=fe,z[ne]=oe,Me=ne;else break e}}return Q}function o(z,Q){var oe=z.sortIndex-Q.sortIndex;return oe!==0?oe:z.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var g=[],p=[],y=1,b=null,w=3,E=!1,_=!1,T=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var Q=r(p);Q!==null;){if(Q.callback===null)s(p);else if(Q.startTime<=z)s(p),Q.sortIndex=Q.expirationTime,e(g,Q);else break;Q=r(p)}}function L(z){if(T=!1,R(z),!_)if(r(g)!==null)_=!0,q||(q=!0,pe());else{var Q=r(p);Q!==null&&be(L,Q.startTime-z)}}var q=!1,B=-1,J=5,K=-1;function ee(){return S?!0:!(n.unstable_now()-K<J)}function me(){if(S=!1,q){var z=n.unstable_now();K=z;var Q=!0;try{e:{_=!1,T&&(T=!1,j(B),B=-1),E=!0;var oe=w;try{t:{for(R(z),b=r(g);b!==null&&!(b.expirationTime>z&&ee());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,w=b.priorityLevel;var Pe=Me(b.expirationTime<=z);if(z=n.unstable_now(),typeof Pe=="function"){b.callback=Pe,R(z),Q=!0;break t}b===r(g)&&s(g),R(z)}else s(g);b=r(g)}if(b!==null)Q=!0;else{var k=r(p);k!==null&&be(L,k.startTime-z),Q=!1}}break e}finally{b=null,w=oe,E=!1}Q=void 0}}finally{Q?pe():q=!1}}}var pe;if(typeof N=="function")pe=function(){N(me)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ke=ge.port2;ge.port1.onmessage=me,pe=function(){ke.postMessage(null)}}else pe=function(){A(me,0)};function be(z,Q){B=A(function(){z(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(z){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var oe=w;w=Q;try{return z()}finally{w=oe}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var oe=w;w=z;try{return Q()}finally{w=oe}},n.unstable_scheduleCallback=function(z,Q,oe){var Me=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,z){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=oe+Pe,z={id:y++,callback:Q,priorityLevel:z,startTime:oe,expirationTime:Pe,sortIndex:-1},oe>Me?(z.sortIndex=oe,e(p,z),r(g)===null&&z===r(p)&&(T?(j(B),B=-1):T=!0,be(L,oe-Me))):(z.sortIndex=Pe,e(g,z),_||E||(_=!0,q||(q=!0,pe()))),z},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(z){var Q=w;return function(){var oe=w;w=Q;try{return z.apply(this,arguments)}finally{w=oe}}}})(df)),df}var iy;function t1(){return iy||(iy=1,cf.exports=e1()),cf.exports}var ff={exports:{}},Pt={};var oy;function n1(){if(oy)return Pt;oy=1;var n=ph();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,y)},Pt.flushSync=function(g){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=p,s.p=y,s.d.f()}},Pt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Pt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Pt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):y==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Pt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Pt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);s.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Pt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Pt.requestFormReset=function(g){s.d.r(g)},Pt.unstable_batchedUpdates=function(g,p){return g(p)},Pt.useFormState=function(g,p,y){return c.H.useFormState(g,p,y)},Pt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pt.version="19.2.3",Pt}var ly;function r1(){if(ly)return ff.exports;ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ff.exports=n1(),ff.exports}var uy;function a1(){if(uy)return Qi;uy=1;var n=t1(),e=ph(),r=r1();function s(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function c(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(s(188));return a!==t?null:t}for(var i=t,l=a;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return g(f),t;if(h===l)return g(f),a;h=h.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=h;else{for(var v=!1,x=f.child;x;){if(x===i){v=!0,i=f,l=h;break}if(x===l){v=!0,l=f,i=h;break}x=x.sibling}if(!v){for(x=h.child;x;){if(x===i){v=!0,i=h,l=f;break}if(x===l){v=!0,l=h,i=f;break}x=x.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:a}function y(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=y(t),a!==null)return a;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=me&&t[me]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ge?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case q:return"SuspenseList";case K:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case N:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case R:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return a=t.displayName||null,a!==null?a:ke(t.type)||"Memo";case J:a=t._payload,t=t._init;try{return ke(t(a))}catch{}}return null}var be=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],Pe=-1;function k(t){return{current:t}}function G(t){0>Pe||(t.current=Me[Pe],Me[Pe]=null,Pe--)}function te(t,a){Pe++,Me[Pe]=t.current,t.current=a}var ne=k(null),fe=k(null),_e=k(null),$e=k(null);function Gt(t,a){switch(te(_e,a),te(fe,t),te(ne,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Eg(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Eg(a),t=Tg(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ne),te(ne,t)}function dt(){G(ne),G(fe),G(_e)}function ai(t){t.memoizedState!==null&&te($e,t);var a=ne.current,i=Tg(a,t.type);a!==i&&(te(fe,t),te(ne,i))}function ko(t){fe.current===t&&(G(ne),G(fe)),$e.current===t&&(G($e),Wi._currentValue=oe)}var Hu,em;function ca(t){if(Hu===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Hu=a&&a[1]||"",em=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hu+t+em}var qu=!1;function Fu(t,a){if(!t||qu)return"";qu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var $=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){$=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){$=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&$&&typeof H.stack=="string")return[H.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],x=h[1];if(v&&x){var O=v.split(`
`),I=x.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===I.length)for(l=O.length-1,f=I.length-1;1<=l&&0<=f&&O[l]!==I[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==I[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==I[f]){var F=`
`+O[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=f);break}}}finally{qu=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ca(i):""}function Ax(t,a){switch(t.tag){case 26:case 27:case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return t.child!==a&&a!==null?ca("Suspense Fallback"):ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return Fu(t.type,!1);case 11:return Fu(t.type.render,!1);case 1:return Fu(t.type,!0);case 31:return ca("Activity");default:return""}}function tm(t){try{var a="",i=null;do a+=Ax(t,i),i=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Vu=Object.prototype.hasOwnProperty,Gu=n.unstable_scheduleCallback,Wu=n.unstable_cancelCallback,Ox=n.unstable_shouldYield,Rx=n.unstable_requestPaint,un=n.unstable_now,Cx=n.unstable_getCurrentPriorityLevel,nm=n.unstable_ImmediatePriority,rm=n.unstable_UserBlockingPriority,Do=n.unstable_NormalPriority,kx=n.unstable_LowPriority,am=n.unstable_IdlePriority,Dx=n.log,Ux=n.unstable_setDisableYieldValue,si=null,cn=null;function Dr(t){if(typeof Dx=="function"&&Ux(t),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(si,t)}catch{}}var dn=Math.clz32?Math.clz32:Ix,Lx=Math.log,Mx=Math.LN2;function Ix(t){return t>>>=0,t===0?32:31-(Lx(t)/Mx|0)|0}var Uo=256,Lo=262144,Mo=4194304;function da(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Io(t,a,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~h,l!==0?f=da(l):(v&=x,v!==0?f=da(v):i||(i=x&~t,i!==0&&(f=da(i))))):(x=l&~h,x!==0?f=da(x):v!==0?f=da(v):i||(i=l&~t,i!==0&&(f=da(i)))),f===0?0:a!==0&&a!==f&&(a&h)===0&&(h=f&-f,i=a&-a,h>=i||h===32&&(i&4194048)!==0)?a:f}function ii(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Bx(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(){var t=Mo;return Mo<<=1,(Mo&62914560)===0&&(Mo=4194304),t}function Yu(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function oi(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $x(t,a,i,l,f,h){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,I=t.hiddenUpdates;for(i=v&~i;0<i;){var F=31-dn(i),Y=1<<F;x[F]=0,O[F]=-1;var $=I[F];if($!==null)for(I[F]=null,F=0;F<$.length;F++){var H=$[F];H!==null&&(H.lane&=-536870913)}i&=~Y}l!==0&&im(t,l,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~a))}function im(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-dn(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|i&261930}function om(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var l=31-dn(i),f=1<<l;f&a|t[l]&a&&(t[l]|=a),i&=~f}}function lm(t,a){var i=a&-a;return i=(i&42)!==0?1:Ku(i),(i&(t.suspendedLanes|a))!==0?0:i}function Ku(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ju(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function um(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Yg(t.type))}function cm(t,a){var i=Q.p;try{return Q.p=t,a()}finally{Q.p=i}}var Ur=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Ur,Xt="__reactProps$"+Ur,Va="__reactContainer$"+Ur,Xu="__reactEvents$"+Ur,zx="__reactListeners$"+Ur,Px="__reactHandles$"+Ur,dm="__reactResources$"+Ur,li="__reactMarker$"+Ur;function Qu(t){delete t[Ct],delete t[Xt],delete t[Xu],delete t[zx],delete t[Px]}function Ga(t){var a=t[Ct];if(a)return a;for(var i=t.parentNode;i;){if(a=i[Va]||i[Ct]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=kg(t);t!==null;){if(i=t[Ct])return i;t=kg(t)}return a}t=i,i=t.parentNode}return null}function Wa(t){if(t=t[Ct]||t[Va]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function ui(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(s(33))}function Ya(t){var a=t[dm];return a||(a=t[dm]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(t){t[li]=!0}var fm=new Set,hm={};function fa(t,a){Ka(t,a),Ka(t+"Capture",a)}function Ka(t,a){for(hm[t]=a,t=0;t<a.length;t++)fm.add(a[t])}var Hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mm={},pm={};function qx(t){return Vu.call(pm,t)?!0:Vu.call(mm,t)?!1:Hx.test(t)?pm[t]=!0:(mm[t]=!0,!1)}function Bo(t,a,i){if(qx(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function $o(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function ur(t,a,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+l)}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gm(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fx(t,a,i){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,h=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Zu(t){if(!t._valueTracker){var a=gm(t)?"checked":"value";t._valueTracker=Fx(t,a,""+t[a])}}function ym(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),l="";return t&&(l=gm(t)?t.checked?"true":"false":t.value),t=l,t!==i?(a.setValue(t),!0):!1}function zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vx=/[\n"\\]/g;function jn(t){return t.replace(Vx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ec(t,a,i,l,f,h,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),a!=null?v==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Tn(a)):t.value!==""+Tn(a)&&(t.value=""+Tn(a)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),a!=null?tc(t,v,Tn(a)):i!=null?tc(t,v,Tn(i)):l!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Tn(x):t.removeAttribute("name")}function vm(t,a,i,l,f,h,v,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),a!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){Zu(t);return}i=i!=null?""+Tn(i):"",a=a!=null?""+Tn(a):i,x||a===t.value||(t.value=a),t.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Zu(t)}function tc(t,a,i){a==="number"&&zo(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ja(t,a,i,l){if(t=t.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=a.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+Tn(i),a=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function bm(t,a,i){if(a!=null&&(a=""+Tn(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+Tn(i):""}function wm(t,a,i,l){if(a==null){if(l!=null){if(i!=null)throw Error(s(92));if(be(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),a=i}i=Tn(a),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l),Zu(t)}function Xa(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var Gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xm(t,a,i){var l=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,i):typeof i!="number"||i===0||Gx.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function _m(t,a,i){if(a!=null&&typeof a!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&i[f]!==l&&xm(t,f,l)}else for(var h in a)a.hasOwnProperty(h)&&xm(t,h,a[h])}function nc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(t){return Yx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cr(){}var rc=null;function ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qa=null,Za=null;function Sm(t){var a=Wa(t);if(a&&(t=a.stateNode)){var i=t[Xt]||null;e:switch(t=a.stateNode,a.type){case"input":if(ec(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+jn(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var l=i[a];if(l!==t&&l.form===t.form){var f=l[Xt]||null;if(!f)throw Error(s(90));ec(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)l=i[a],l.form===t.form&&ym(l)}break e;case"textarea":bm(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Ja(t,!!i.multiple,a,!1)}}}var sc=!1;function Em(t,a,i){if(sc)return t(a,i);sc=!0;try{var l=t(a);return l}finally{if(sc=!1,(Qa!==null||Za!==null)&&(Al(),Qa&&(a=Qa,t=Za,Za=Qa=null,Sm(a),t)))for(a=0;a<t.length;a++)Sm(t[a])}}function ci(t,a){var i=t.stateNode;if(i===null)return null;var l=i[Xt]||null;if(l===null)return null;i=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,a,typeof i));return i}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(dr)try{var di={};Object.defineProperty(di,"passive",{get:function(){ic=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{ic=!1}var Lr=null,oc=null,Ho=null;function Tm(){if(Ho)return Ho;var t,a=oc,i=a.length,l,f="value"in Lr?Lr.value:Lr.textContent,h=f.length;for(t=0;t<i&&a[t]===f[t];t++);var v=i-t;for(l=1;l<=v&&a[i-l]===f[h-l];l++);return Ho=f.slice(t,1<l?1-l:void 0)}function qo(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Fo(){return!0}function jm(){return!1}function Qt(t){function a(i,l,f,h,v){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(i=t[x],this[x]=i?i(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Fo:jm,this.isPropagationStopped=jm,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),a}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Qt(ha),fi=b({},ha,{view:0,detail:0}),Kx=Qt(fi),lc,uc,hi,Go=b({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(lc=t.screenX-hi.screenX,uc=t.screenY-hi.screenY):uc=lc=0,hi=t),lc)},movementY:function(t){return"movementY"in t?t.movementY:uc}}),Nm=Qt(Go),Jx=b({},Go,{dataTransfer:0}),Xx=Qt(Jx),Qx=b({},fi,{relatedTarget:0}),cc=Qt(Qx),Zx=b({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),e_=Qt(Zx),t_=b({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n_=Qt(t_),r_=b({},ha,{data:0}),Am=Qt(r_),a_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o_(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=i_[t])?!!a[t]:!1}function dc(){return o_}var l_=b({},fi,{key:function(t){if(t.key){var a=a_[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(t){return t.type==="keypress"?qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u_=Qt(l_),c_=b({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=Qt(c_),d_=b({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),f_=Qt(d_),h_=b({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),m_=Qt(h_),p_=b({},Go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g_=Qt(p_),y_=b({},ha,{newState:0,oldState:0}),v_=Qt(y_),b_=[9,13,27,32],fc=dr&&"CompositionEvent"in window,mi=null;dr&&"documentMode"in document&&(mi=document.documentMode);var w_=dr&&"TextEvent"in window&&!mi,Rm=dr&&(!fc||mi&&8<mi&&11>=mi),Cm=" ",km=!1;function Dm(t,a){switch(t){case"keyup":return b_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Um(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function x_(t,a){switch(t){case"compositionend":return Um(a);case"keypress":return a.which!==32?null:(km=!0,Cm);case"textInput":return t=a.data,t===Cm&&km?null:t;default:return null}}function __(t,a){if(es)return t==="compositionend"||!fc&&Dm(t,a)?(t=Tm(),Ho=oc=Lr=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rm&&a.locale!=="ko"?null:a.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!S_[t.type]:a==="textarea"}function Mm(t,a,i,l){Qa?Za?Za.push(l):Za=[l]:Qa=l,a=Ll(a,"onChange"),0<a.length&&(i=new Vo("onChange","change",null,i,l),t.push({event:i,listeners:a}))}var pi=null,gi=null;function E_(t){vg(t,0)}function Wo(t){var a=ui(t);if(ym(a))return t}function Im(t,a){if(t==="change")return a}var Bm=!1;if(dr){var hc;if(dr){var mc="oninput"in document;if(!mc){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),mc=typeof $m.oninput=="function"}hc=mc}else hc=!1;Bm=hc&&(!document.documentMode||9<document.documentMode)}function zm(){pi&&(pi.detachEvent("onpropertychange",Pm),gi=pi=null)}function Pm(t){if(t.propertyName==="value"&&Wo(gi)){var a=[];Mm(a,gi,t,ac(t)),Em(E_,a)}}function T_(t,a,i){t==="focusin"?(zm(),pi=a,gi=i,pi.attachEvent("onpropertychange",Pm)):t==="focusout"&&zm()}function j_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wo(gi)}function N_(t,a){if(t==="click")return Wo(a)}function A_(t,a){if(t==="input"||t==="change")return Wo(a)}function O_(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var fn=typeof Object.is=="function"?Object.is:O_;function yi(t,a){if(fn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),l=Object.keys(a);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!Vu.call(a,f)||!fn(t[f],a[f]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,a){var i=Hm(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=a&&l>=a)return{node:i,offset:a-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hm(i)}}function Fm(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Fm(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=zo(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=zo(t.document)}return a}function pc(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var R_=dr&&"documentMode"in document&&11>=document.documentMode,ts=null,gc=null,vi=null,yc=!1;function Gm(t,a,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yc||ts==null||ts!==zo(l)||(l=ts,"selectionStart"in l&&pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vi&&yi(vi,l)||(vi=l,l=Ll(gc,"onSelect"),0<l.length&&(a=new Vo("onSelect","select",null,a,i),t.push({event:a,listeners:l}),a.target=ts)))}function ma(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var ns={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},vc={},Wm={};dr&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function pa(t){if(vc[t])return vc[t];if(!ns[t])return t;var a=ns[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in Wm)return vc[t]=a[i];return t}var Ym=pa("animationend"),Km=pa("animationiteration"),Jm=pa("animationstart"),C_=pa("transitionrun"),k_=pa("transitionstart"),D_=pa("transitioncancel"),Xm=pa("transitionend"),Qm=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function zn(t,a){Qm.set(t,a),fa(a,[t])}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],rs=0,wc=0;function Ko(){for(var t=rs,a=wc=rs=0;a<t;){var i=Nn[a];Nn[a++]=null;var l=Nn[a];Nn[a++]=null;var f=Nn[a];Nn[a++]=null;var h=Nn[a];if(Nn[a++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}h!==0&&Zm(i,f,h)}}function Jo(t,a,i,l){Nn[rs++]=t,Nn[rs++]=a,Nn[rs++]=i,Nn[rs++]=l,wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xc(t,a,i,l){return Jo(t,a,i,l),Xo(t)}function ga(t,a){return Jo(t,null,null,a),Xo(t)}function Zm(t,a,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,h=t.return;h!==null;)h.childLanes|=i,l=h.alternate,l!==null&&(l.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&a!==null&&(f=31-dn(i),t=h.hiddenUpdates,l=t[f],l===null?t[f]=[a]:l.push(a),a.lane=i|536870912),h):null}function Xo(t){if(50<zi)throw zi=0,Rd=null,Error(s(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var as={};function U_(t,a,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,a,i,l){return new U_(t,a,i,l)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,a){var i=t.alternate;return i===null?(i=hn(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ep(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Qo(t,a,i,l,f,h){var v=0;if(l=t,typeof t=="function")_c(t)&&(v=1);else if(typeof t=="string")v=$S(t,i,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case K:return t=hn(31,i,a,f),t.elementType=K,t.lanes=h,t;case T:return ya(i.children,f,h,a);case S:v=8,f|=24;break;case A:return t=hn(12,i,a,f|2),t.elementType=A,t.lanes=h,t;case L:return t=hn(13,i,a,f),t.elementType=L,t.lanes=h,t;case q:return t=hn(19,i,a,f),t.elementType=q,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:v=10;break e;case j:v=9;break e;case R:v=11;break e;case B:v=14;break e;case J:v=16,l=null;break e}v=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return a=hn(v,i,a,f),a.elementType=t,a.type=l,a.lanes=h,a}function ya(t,a,i,l){return t=hn(7,t,l,a),t.lanes=i,t}function Sc(t,a,i){return t=hn(6,t,null,a),t.lanes=i,t}function tp(t){var a=hn(18,null,null,0);return a.stateNode=t,a}function Ec(t,a,i){return a=hn(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var np=new WeakMap;function An(t,a){if(typeof t=="object"&&t!==null){var i=np.get(t);return i!==void 0?i:(a={value:t,source:a,stack:tm(a)},np.set(t,a),a)}return{value:t,source:a,stack:tm(a)}}var ss=[],is=0,Zo=null,bi=0,On=[],Rn=0,Mr=null,Kn=1,Jn="";function hr(t,a){ss[is++]=bi,ss[is++]=Zo,Zo=t,bi=a}function rp(t,a,i){On[Rn++]=Kn,On[Rn++]=Jn,On[Rn++]=Mr,Mr=t;var l=Kn;t=Jn;var f=32-dn(l)-1;l&=~(1<<f),i+=1;var h=32-dn(a)+f;if(30<h){var v=f-f%5;h=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Kn=1<<32-dn(a)+f|i<<f|l,Jn=h+t}else Kn=1<<h|i<<f|l,Jn=t}function Tc(t){t.return!==null&&(hr(t,1),rp(t,1,0))}function jc(t){for(;t===Zo;)Zo=ss[--is],ss[is]=null,bi=ss[--is],ss[is]=null;for(;t===Mr;)Mr=On[--Rn],On[Rn]=null,Jn=On[--Rn],On[Rn]=null,Kn=On[--Rn],On[Rn]=null}function ap(t,a){On[Rn++]=Kn,On[Rn++]=Jn,On[Rn++]=Mr,Kn=a.id,Jn=a.overflow,Mr=t}var kt=null,Xe=null,Oe=!1,Ir=null,Cn=!1,Nc=Error(s(519));function Br(t){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(An(a,t)),Nc}function sp(t){var a=t.stateNode,i=t.type,l=t.memoizedProps;switch(a[Ct]=t,a[Xt]=l,i){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(i=0;i<Hi.length;i++)Ee(Hi[i],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":Ee("invalid",a),vm(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",a);break;case"textarea":Ee("invalid",a),wm(a,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||l.suppressHydrationWarning===!0||_g(a.textContent,i)?(l.popover!=null&&(Ee("beforetoggle",a),Ee("toggle",a)),l.onScroll!=null&&Ee("scroll",a),l.onScrollEnd!=null&&Ee("scrollend",a),l.onClick!=null&&(a.onclick=cr),a=!0):a=!1,a||Br(t,!0)}function ip(t){for(kt=t.return;kt;)switch(kt.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:kt=kt.return}}function os(t){if(t!==kt)return!1;if(!Oe)return ip(t),Oe=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Vd(t.type,t.memoizedProps)),i=!i),i&&Xe&&Br(t),ip(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Xe=Cg(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Xe=Cg(t)}else a===27?(a=Xe,Qr(t.type)?(t=Jd,Jd=null,Xe=t):Xe=a):Xe=kt?Dn(t.stateNode.nextSibling):null;return!0}function va(){Xe=kt=null,Oe=!1}function Ac(){var t=Ir;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),Ir=null),t}function wi(t){Ir===null?Ir=[t]:Ir.push(t)}var Oc=k(null),ba=null,mr=null;function $r(t,a,i){te(Oc,a._currentValue),a._currentValue=i}function pr(t){t._currentValue=Oc.current,G(Oc)}function Rc(t,a,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===i)break;t=t.return}}function Cc(t,a,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=f;for(var O=0;O<a.length;O++)if(x.context===a[O]){h.lanes|=i,x=h.alternate,x!==null&&(x.lanes|=i),Rc(h.return,i,t),l||(v=null);break e}h=x.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=i,h=v.alternate,h!==null&&(h.lanes|=i),Rc(v,i,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ls(t,a,i,l){t=null;for(var f=a,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=f.type;fn(f.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(f===$e.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Wi):t=[Wi])}f=f.return}t!==null&&Cc(a,t,i,l),a.flags|=262144}function el(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){ba=t,mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dt(t){return op(ba,t)}function tl(t,a){return ba===null&&wa(t),op(t,a)}function op(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},mr===null){if(t===null)throw Error(s(308));mr=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else mr=mr.next=a;return i}var L_=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},M_=n.unstable_scheduleCallback,I_=n.unstable_NormalPriority,vt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new L_,data:new Map,refCount:0}}function xi(t){t.refCount--,t.refCount===0&&M_(I_,function(){t.controller.abort()})}var _i=null,Dc=0,us=0,cs=null;function B_(t,a){if(_i===null){var i=_i=[];Dc=0,us=Md(),cs={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Dc++,a.then(lp,lp),a}function lp(){if(--Dc===0&&_i!==null){cs!==null&&(cs.status="fulfilled");var t=_i;_i=null,us=0,cs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function $_(t,a){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var up=z.S;z.S=function(t,a){G0=un(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&B_(t,a),up!==null&&up(t,a)};var xa=k(null);function Uc(){var t=xa.current;return t!==null?t:Ke.pooledCache}function nl(t,a){a===null?te(xa,xa.current):te(xa,a.pool)}function cp(){var t=Uc();return t===null?null:{parent:vt._currentValue,pool:t}}var ds=Error(s(460)),Lc=Error(s(474)),rl=Error(s(542)),al={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fp(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(cr,cr),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,mp(t),t;default:if(typeof a.status=="string")a.then(cr,cr);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,mp(t),t}throw Sa=a,ds}}function _a(t){try{var a=t._init;return a(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Sa=i,ds):i}}var Sa=null;function hp(){if(Sa===null)throw Error(s(459));var t=Sa;return Sa=null,t}function mp(t){if(t===ds||t===rl)throw Error(s(483))}var fs=null,Si=0;function sl(t){var a=Si;return Si+=1,fs===null&&(fs=[]),fp(fs,t,a)}function Ei(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function il(t,a){throw a.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function pp(t){function a(U,D){if(t){var M=U.deletions;M===null?(U.deletions=[D],U.flags|=16):M.push(D)}}function i(U,D){if(!t)return null;for(;D!==null;)a(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function f(U,D){return U=fr(U,D),U.index=0,U.sibling=null,U}function h(U,D,M){return U.index=M,t?(M=U.alternate,M!==null?(M=M.index,M<D?(U.flags|=67108866,D):M):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,D,M,V){return D===null||D.tag!==6?(D=Sc(M,U.mode,V),D.return=U,D):(D=f(D,M),D.return=U,D)}function O(U,D,M,V){var le=M.type;return le===T?F(U,D,M.props.children,V,M.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&_a(le)===D.type)?(D=f(D,M.props),Ei(D,M),D.return=U,D):(D=Qo(M.type,M.key,M.props,null,U.mode,V),Ei(D,M),D.return=U,D)}function I(U,D,M,V){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Ec(M,U.mode,V),D.return=U,D):(D=f(D,M.children||[]),D.return=U,D)}function F(U,D,M,V,le){return D===null||D.tag!==7?(D=ya(M,U.mode,V,le),D.return=U,D):(D=f(D,M),D.return=U,D)}function Y(U,D,M){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Sc(""+D,U.mode,M),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return M=Qo(D.type,D.key,D.props,null,U.mode,M),Ei(M,D),M.return=U,M;case _:return D=Ec(D,U.mode,M),D.return=U,D;case J:return D=_a(D),Y(U,D,M)}if(be(D)||pe(D))return D=ya(D,U.mode,M,null),D.return=U,D;if(typeof D.then=="function")return Y(U,sl(D),M);if(D.$$typeof===N)return Y(U,tl(U,D),M);il(U,D)}return null}function $(U,D,M,V){var le=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return le!==null?null:x(U,D,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return M.key===le?O(U,D,M,V):null;case _:return M.key===le?I(U,D,M,V):null;case J:return M=_a(M),$(U,D,M,V)}if(be(M)||pe(M))return le!==null?null:F(U,D,M,V,null);if(typeof M.then=="function")return $(U,D,sl(M),V);if(M.$$typeof===N)return $(U,D,tl(U,M),V);il(U,M)}return null}function H(U,D,M,V,le){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return U=U.get(M)||null,x(D,U,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return U=U.get(V.key===null?M:V.key)||null,O(D,U,V,le);case _:return U=U.get(V.key===null?M:V.key)||null,I(D,U,V,le);case J:return V=_a(V),H(U,D,M,V,le)}if(be(V)||pe(V))return U=U.get(M)||null,F(D,U,V,le,null);if(typeof V.then=="function")return H(U,D,M,sl(V),le);if(V.$$typeof===N)return H(U,D,M,tl(D,V),le);il(D,V)}return null}function ae(U,D,M,V){for(var le=null,Ue=null,se=D,we=D=0,Ne=null;se!==null&&we<M.length;we++){se.index>we?(Ne=se,se=null):Ne=se.sibling;var Le=$(U,se,M[we],V);if(Le===null){se===null&&(se=Ne);break}t&&se&&Le.alternate===null&&a(U,se),D=h(Le,D,we),Ue===null?le=Le:Ue.sibling=Le,Ue=Le,se=Ne}if(we===M.length)return i(U,se),Oe&&hr(U,we),le;if(se===null){for(;we<M.length;we++)se=Y(U,M[we],V),se!==null&&(D=h(se,D,we),Ue===null?le=se:Ue.sibling=se,Ue=se);return Oe&&hr(U,we),le}for(se=l(se);we<M.length;we++)Ne=H(se,U,we,M[we],V),Ne!==null&&(t&&Ne.alternate!==null&&se.delete(Ne.key===null?we:Ne.key),D=h(Ne,D,we),Ue===null?le=Ne:Ue.sibling=Ne,Ue=Ne);return t&&se.forEach(function(ra){return a(U,ra)}),Oe&&hr(U,we),le}function ue(U,D,M,V){if(M==null)throw Error(s(151));for(var le=null,Ue=null,se=D,we=D=0,Ne=null,Le=M.next();se!==null&&!Le.done;we++,Le=M.next()){se.index>we?(Ne=se,se=null):Ne=se.sibling;var ra=$(U,se,Le.value,V);if(ra===null){se===null&&(se=Ne);break}t&&se&&ra.alternate===null&&a(U,se),D=h(ra,D,we),Ue===null?le=ra:Ue.sibling=ra,Ue=ra,se=Ne}if(Le.done)return i(U,se),Oe&&hr(U,we),le;if(se===null){for(;!Le.done;we++,Le=M.next())Le=Y(U,Le.value,V),Le!==null&&(D=h(Le,D,we),Ue===null?le=Le:Ue.sibling=Le,Ue=Le);return Oe&&hr(U,we),le}for(se=l(se);!Le.done;we++,Le=M.next())Le=H(se,U,we,Le.value,V),Le!==null&&(t&&Le.alternate!==null&&se.delete(Le.key===null?we:Le.key),D=h(Le,D,we),Ue===null?le=Le:Ue.sibling=Le,Ue=Le);return t&&se.forEach(function(JS){return a(U,JS)}),Oe&&hr(U,we),le}function We(U,D,M,V){if(typeof M=="object"&&M!==null&&M.type===T&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case E:e:{for(var le=M.key;D!==null;){if(D.key===le){if(le=M.type,le===T){if(D.tag===7){i(U,D.sibling),V=f(D,M.props.children),V.return=U,U=V;break e}}else if(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&_a(le)===D.type){i(U,D.sibling),V=f(D,M.props),Ei(V,M),V.return=U,U=V;break e}i(U,D);break}else a(U,D);D=D.sibling}M.type===T?(V=ya(M.props.children,U.mode,V,M.key),V.return=U,U=V):(V=Qo(M.type,M.key,M.props,null,U.mode,V),Ei(V,M),V.return=U,U=V)}return v(U);case _:e:{for(le=M.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){i(U,D.sibling),V=f(D,M.children||[]),V.return=U,U=V;break e}else{i(U,D);break}else a(U,D);D=D.sibling}V=Ec(M,U.mode,V),V.return=U,U=V}return v(U);case J:return M=_a(M),We(U,D,M,V)}if(be(M))return ae(U,D,M,V);if(pe(M)){if(le=pe(M),typeof le!="function")throw Error(s(150));return M=le.call(M),ue(U,D,M,V)}if(typeof M.then=="function")return We(U,D,sl(M),V);if(M.$$typeof===N)return We(U,D,tl(U,M),V);il(U,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,D!==null&&D.tag===6?(i(U,D.sibling),V=f(D,M),V.return=U,U=V):(i(U,D),V=Sc(M,U.mode,V),V.return=U,U=V),v(U)):i(U,D)}return function(U,D,M,V){try{Si=0;var le=We(U,D,M,V);return fs=null,le}catch(se){if(se===ds||se===rl)throw se;var Ue=hn(29,se,null,U.mode);return Ue.lanes=V,Ue.return=U,Ue}}}var Ea=pp(!0),gp=pp(!1),zr=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(t,a,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Xo(t),Zm(t,null,i),a}return Jo(t,l,a,i),Xo(t)}function Ti(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,om(t,i)}}function Bc(t,a){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?f=h=a:h=h.next=a}else f=h=a;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var $c=!1;function ji(){if($c){var t=cs;if(t!==null)throw t}}function Ni(t,a,i,l){$c=!1;var f=t.updateQueue;zr=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var O=x,I=O.next;O.next=null,v===null?h=I:v.next=I,v=O;var F=t.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==v&&(x===null?F.firstBaseUpdate=I:x.next=I,F.lastBaseUpdate=O))}if(h!==null){var Y=f.baseState;v=0,F=I=O=null,x=h;do{var $=x.lane&-536870913,H=$!==x.lane;if(H?(je&$)===$:(l&$)===$){$!==0&&$===us&&($c=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ae=t,ue=x;$=a;var We=i;switch(ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){Y=ae.call(We,Y,$);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,$=typeof ae=="function"?ae.call(We,Y,$):ae,$==null)break e;Y=b({},Y,$);break e;case 2:zr=!0}}$=x.callback,$!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[$]:H.push($))}else H={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(I=F=H,O=Y):F=F.next=H,v|=$;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;H=x,x=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);F===null&&(O=Y),f.baseState=O,f.firstBaseUpdate=I,f.lastBaseUpdate=F,h===null&&(f.shared.lanes=0),Wr|=v,t.lanes=v,t.memoizedState=Y}}function yp(t,a){if(typeof t!="function")throw Error(s(191,t));t.call(a)}function vp(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)yp(i[t],a)}var hs=k(null),ol=k(0);function bp(t,a){t=Er,te(ol,t),te(hs,a),Er=t|a.baseLanes}function zc(){te(ol,Er),te(hs,hs.current)}function Pc(){Er=ol.current,G(hs),G(ol)}var mn=k(null),kn=null;function qr(t){var a=t.alternate;te(ft,ft.current&1),te(mn,t),kn===null&&(a===null||hs.current!==null||a.memoizedState!==null)&&(kn=t)}function Hc(t){te(ft,ft.current),te(mn,t),kn===null&&(kn=t)}function wp(t){t.tag===22?(te(ft,ft.current),te(mn,t),kn===null&&(kn=t)):Fr()}function Fr(){te(ft,ft.current),te(mn,mn.current)}function pn(t){G(mn),kn===t&&(kn=null),G(ft)}var ft=k(0);function ll(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Yd(i)||Kd(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gr=0,ye=null,Ve=null,bt=null,ul=!1,ms=!1,Ta=!1,cl=0,Ai=0,ps=null,z_=0;function st(){throw Error(s(321))}function qc(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!fn(t[i],a[i]))return!1;return!0}function Fc(t,a,i,l,f,h){return gr=h,ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=t===null||t.memoizedState===null?r0:sd,Ta=!1,h=i(l,f),Ta=!1,ms&&(h=_p(a,i,l,f)),xp(t),h}function xp(t){z.H=Ci;var a=Ve!==null&&Ve.next!==null;if(gr=0,bt=Ve=ye=null,ul=!1,Ai=0,ps=null,a)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&el(t)&&(wt=!0))}function _p(t,a,i,l){ye=t;var f=0;do{if(ms&&(ps=null),Ai=0,ms=!1,25<=f)throw Error(s(301));if(f+=1,bt=Ve=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=a0,h=a(i,l)}while(ms);return h}function P_(){var t=z.H,a=t.useState()[0];return a=typeof a.then=="function"?Oi(a):a,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(ye.flags|=1024),a}function Vc(){var t=cl!==0;return cl=0,t}function Gc(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Wc(t){if(ul){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ul=!1}gr=0,bt=Ve=ye=null,ms=!1,Ai=cl=0,ps=null}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ye.memoizedState=bt=t:bt=bt.next=t,bt}function ht(){if(Ve===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var a=bt===null?ye.memoizedState:bt.next;if(a!==null)bt=a,Ve=t;else{if(t===null)throw ye.alternate===null?Error(s(467)):Error(s(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},bt===null?ye.memoizedState=bt=t:bt=bt.next=t}return bt}function dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oi(t){var a=Ai;return Ai+=1,ps===null&&(ps=[]),t=fp(ps,t,a),a=ye,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?r0:sd),t}function fl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oi(t);if(t.$$typeof===N)return Dt(t)}throw Error(s(438,String(t)))}function Yc(t){var a=null,i=ye.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=dl(),ye.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),l=0;l<t;l++)i[l]=ee;return a.index++,i}function yr(t,a){return typeof a=="function"?a(t):a}function hl(t){var a=ht();return Kc(a,Ve,t)}function Kc(t,a,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=t.baseQueue,h=l.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}a.baseQueue=f=h,l.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{a=f.next;var x=v=null,O=null,I=a,F=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(je&Y)===Y:(gr&Y)===Y){var $=I.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===us&&(F=!0);else if((gr&$)===$){I=I.next,$===us&&(F=!0);continue}else Y={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},O===null?(x=O=Y,v=h):O=O.next=Y,ye.lanes|=$,Wr|=$;Y=I.action,Ta&&i(h,Y),h=I.hasEagerState?I.eagerState:i(h,Y)}else $={lane:Y,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},O===null?(x=O=$,v=h):O=O.next=$,ye.lanes|=Y,Wr|=Y;I=I.next}while(I!==null&&I!==a);if(O===null?v=h:O.next=x,!fn(h,t.memoizedState)&&(wt=!0,F&&(i=cs,i!==null)))throw i;t.memoizedState=h,t.baseState=v,t.baseQueue=O,l.lastRenderedState=h}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jc(t){var a=ht(),i=a.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,h=a.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);fn(h,a.memoizedState)||(wt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),i.lastRenderedState=h}return[h,l]}function Sp(t,a,i){var l=ye,f=ht(),h=Oe;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=a();var v=!fn((Ve||f).memoizedState,i);if(v&&(f.memoizedState=i,wt=!0),f=f.queue,Zc(jp.bind(null,l,f,t),[t]),f.getSnapshot!==a||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,gs(9,{destroy:void 0},Tp.bind(null,l,f,i,a),null),Ke===null)throw Error(s(349));h||(gr&127)!==0||Ep(l,a,i)}return i}function Ep(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=ye.updateQueue,a===null?(a=dl(),ye.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Tp(t,a,i,l){a.value=i,a.getSnapshot=l,Np(a)&&Ap(t)}function jp(t,a,i){return i(function(){Np(a)&&Ap(t)})}function Np(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!fn(t,i)}catch{return!0}}function Ap(t){var a=ga(t,2);a!==null&&rn(a,t,2)}function Xc(t){var a=Wt();if(typeof t=="function"){var i=t;if(t=i(),Ta){Dr(!0);try{i()}finally{Dr(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},a}function Op(t,a,i,l){return t.baseState=i,Kc(t,Ve,typeof l=="function"?l:yr)}function H_(t,a,i,l,f){if(gl(t))throw Error(s(485));if(t=a.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};z.T!==null?i(!0):h.isTransition=!1,l(h),i=a.pending,i===null?(h.next=a.pending=h,Rp(a,h)):(h.next=i.next,a.pending=i.next=h)}}function Rp(t,a){var i=a.action,l=a.payload,f=t.state;if(a.isTransition){var h=z.T,v={};z.T=v;try{var x=i(f,l),O=z.S;O!==null&&O(v,x),Cp(t,a,x)}catch(I){Qc(t,a,I)}finally{h!==null&&v.types!==null&&(h.types=v.types),z.T=h}}else try{h=i(f,l),Cp(t,a,h)}catch(I){Qc(t,a,I)}}function Cp(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){kp(t,a,l)},function(l){return Qc(t,a,l)}):kp(t,a,i)}function kp(t,a,i){a.status="fulfilled",a.value=i,Dp(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Rp(t,i)))}function Qc(t,a,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=i,Dp(a),a=a.next;while(a!==l)}t.action=null}function Dp(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Up(t,a){return a}function Lp(t,a){if(Oe){var i=Ke.formState;if(i!==null){e:{var l=ye;if(Oe){if(Xe){t:{for(var f=Xe,h=Cn;f.nodeType!==8;){if(!h){f=null;break t}if(f=Dn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Xe=Dn(f.nextSibling),l=f.data==="F!";break e}}Br(l)}l=!1}l&&(a=i[0])}}return i=Wt(),i.memoizedState=i.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:a},i.queue=l,i=e0.bind(null,ye,l),l.dispatch=i,l=Xc(!1),h=ad.bind(null,ye,!1,l.queue),l=Wt(),f={state:a,dispatch:null,action:t,pending:null},l.queue=f,i=H_.bind(null,ye,f,h,i),f.dispatch=i,l.memoizedState=t,[a,i,!1]}function Mp(t){var a=ht();return Ip(a,Ve,t)}function Ip(t,a,i){if(a=Kc(t,a,Up)[0],t=hl(yr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Oi(a)}catch(v){throw v===ds?rl:v}else l=a;a=ht();var f=a.queue,h=f.dispatch;return i!==a.memoizedState&&(ye.flags|=2048,gs(9,{destroy:void 0},q_.bind(null,f,i),null)),[l,h,t]}function q_(t,a){t.action=a}function Bp(t){var a=ht(),i=Ve;if(i!==null)return Ip(a,i,t);ht(),a=a.memoizedState,i=ht();var l=i.queue.dispatch;return i.memoizedState=t,[a,l,!1]}function gs(t,a,i,l){return t={tag:t,create:i,deps:l,inst:a,next:null},a=ye.updateQueue,a===null&&(a=dl(),ye.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,a.lastEffect=t),t}function $p(){return ht().memoizedState}function ml(t,a,i,l){var f=Wt();ye.flags|=t,f.memoizedState=gs(1|a,{destroy:void 0},i,l===void 0?null:l)}function pl(t,a,i,l){var f=ht();l=l===void 0?null:l;var h=f.memoizedState.inst;Ve!==null&&l!==null&&qc(l,Ve.memoizedState.deps)?f.memoizedState=gs(a,h,i,l):(ye.flags|=t,f.memoizedState=gs(1|a,h,i,l))}function zp(t,a){ml(8390656,8,t,a)}function Zc(t,a){pl(2048,8,t,a)}function F_(t){ye.flags|=4;var a=ye.updateQueue;if(a===null)a=dl(),ye.updateQueue=a,a.events=[t];else{var i=a.events;i===null?a.events=[t]:i.push(t)}}function Pp(t){var a=ht().memoizedState;return F_({ref:a,nextImpl:t}),function(){if((Ie&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function Hp(t,a){return pl(4,2,t,a)}function qp(t,a){return pl(4,4,t,a)}function Fp(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Vp(t,a,i){i=i!=null?i.concat([t]):null,pl(4,4,Fp.bind(null,a,t),i)}function ed(){}function Gp(t,a){var i=ht();a=a===void 0?null:a;var l=i.memoizedState;return a!==null&&qc(a,l[1])?l[0]:(i.memoizedState=[t,a],t)}function Wp(t,a){var i=ht();a=a===void 0?null:a;var l=i.memoizedState;if(a!==null&&qc(a,l[1]))return l[0];if(l=t(),Ta){Dr(!0);try{t()}finally{Dr(!1)}}return i.memoizedState=[l,a],l}function td(t,a,i){return i===void 0||(gr&1073741824)!==0&&(je&261930)===0?t.memoizedState=a:(t.memoizedState=i,t=Y0(),ye.lanes|=t,Wr|=t,i)}function Yp(t,a,i,l){return fn(i,a)?i:hs.current!==null?(t=td(t,i,l),fn(t,a)||(wt=!0),t):(gr&42)===0||(gr&1073741824)!==0&&(je&261930)===0?(wt=!0,t.memoizedState=i):(t=Y0(),ye.lanes|=t,Wr|=t,a)}function Kp(t,a,i,l,f){var h=Q.p;Q.p=h!==0&&8>h?h:8;var v=z.T,x={};z.T=x,ad(t,!1,a,i);try{var O=f(),I=z.S;if(I!==null&&I(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var F=$_(O,l);Ri(t,a,F,vn(t))}else Ri(t,a,l,vn(t))}catch(Y){Ri(t,a,{then:function(){},status:"rejected",reason:Y},vn())}finally{Q.p=h,v!==null&&x.types!==null&&(v.types=x.types),z.T=v}}function V_(){}function nd(t,a,i,l){if(t.tag!==5)throw Error(s(476));var f=Jp(t).queue;Kp(t,f,a,oe,i===null?V_:function(){return Xp(t),i(l)})}function Jp(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:oe},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Xp(t){var a=Jp(t);a.next===null&&(a=t.alternate.memoizedState),Ri(t,a.next.queue,{},vn())}function rd(){return Dt(Wi)}function Qp(){return ht().memoizedState}function Zp(){return ht().memoizedState}function G_(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=vn();t=Pr(i);var l=Hr(a,t,i);l!==null&&(rn(l,a,i),Ti(l,a,i)),a={cache:kc()},t.payload=a;return}a=a.return}}function W_(t,a,i){var l=vn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},gl(t)?t0(a,i):(i=xc(t,a,i,l),i!==null&&(rn(i,t,l),n0(i,a,l)))}function e0(t,a,i){var l=vn();Ri(t,a,i,l)}function Ri(t,a,i,l){var f={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(gl(t))t0(a,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var v=a.lastRenderedState,x=h(v,i);if(f.hasEagerState=!0,f.eagerState=x,fn(x,v))return Jo(t,a,f,0),Ke===null&&Ko(),!1}catch{}if(i=xc(t,a,f,l),i!==null)return rn(i,t,l),n0(i,a,l),!0}return!1}function ad(t,a,i,l){if(l={lane:2,revertLane:Md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gl(t)){if(a)throw Error(s(479))}else a=xc(t,i,l,2),a!==null&&rn(a,t,2)}function gl(t){var a=t.alternate;return t===ye||a!==null&&a===ye}function t0(t,a){ms=ul=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function n0(t,a,i){if((i&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,om(t,i)}}var Ci={readContext:Dt,use:fl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ci.useEffectEvent=st;var r0={readContext:Dt,use:fl,useCallback:function(t,a){return Wt().memoizedState=[t,a===void 0?null:a],t},useContext:Dt,useEffect:zp,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,ml(4194308,4,Fp.bind(null,a,t),i)},useLayoutEffect:function(t,a){return ml(4194308,4,t,a)},useInsertionEffect:function(t,a){ml(4,2,t,a)},useMemo:function(t,a){var i=Wt();a=a===void 0?null:a;var l=t();if(Ta){Dr(!0);try{t()}finally{Dr(!1)}}return i.memoizedState=[l,a],l},useReducer:function(t,a,i){var l=Wt();if(i!==void 0){var f=i(a);if(Ta){Dr(!0);try{i(a)}finally{Dr(!1)}}}else f=a;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=W_.bind(null,ye,t),[l.memoizedState,t]},useRef:function(t){var a=Wt();return t={current:t},a.memoizedState=t},useState:function(t){t=Xc(t);var a=t.queue,i=e0.bind(null,ye,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:ed,useDeferredValue:function(t,a){var i=Wt();return td(i,t,a)},useTransition:function(){var t=Xc(!1);return t=Kp.bind(null,ye,t.queue,!0,!1),Wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var l=ye,f=Wt();if(Oe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=a(),Ke===null)throw Error(s(349));(je&127)!==0||Ep(l,a,i)}f.memoizedState=i;var h={value:i,getSnapshot:a};return f.queue=h,zp(jp.bind(null,l,h,t),[t]),l.flags|=2048,gs(9,{destroy:void 0},Tp.bind(null,l,h,i,a),null),i},useId:function(){var t=Wt(),a=Ke.identifierPrefix;if(Oe){var i=Jn,l=Kn;i=(l&~(1<<32-dn(l)-1)).toString(32)+i,a="_"+a+"R_"+i,i=cl++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=z_++,a="_"+a+"r_"+i.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:rd,useFormState:Lp,useActionState:Lp,useOptimistic:function(t){var a=Wt();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=ad.bind(null,ye,!0,i),i.dispatch=a,[t,a]},useMemoCache:Yc,useCacheRefresh:function(){return Wt().memoizedState=G_.bind(null,ye)},useEffectEvent:function(t){var a=Wt(),i={impl:t};return a.memoizedState=i,function(){if((Ie&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},sd={readContext:Dt,use:fl,useCallback:Gp,useContext:Dt,useEffect:Zc,useImperativeHandle:Vp,useInsertionEffect:Hp,useLayoutEffect:qp,useMemo:Wp,useReducer:hl,useRef:$p,useState:function(){return hl(yr)},useDebugValue:ed,useDeferredValue:function(t,a){var i=ht();return Yp(i,Ve.memoizedState,t,a)},useTransition:function(){var t=hl(yr)[0],a=ht().memoizedState;return[typeof t=="boolean"?t:Oi(t),a]},useSyncExternalStore:Sp,useId:Qp,useHostTransitionStatus:rd,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,a){var i=ht();return Op(i,Ve,t,a)},useMemoCache:Yc,useCacheRefresh:Zp};sd.useEffectEvent=Pp;var a0={readContext:Dt,use:fl,useCallback:Gp,useContext:Dt,useEffect:Zc,useImperativeHandle:Vp,useInsertionEffect:Hp,useLayoutEffect:qp,useMemo:Wp,useReducer:Jc,useRef:$p,useState:function(){return Jc(yr)},useDebugValue:ed,useDeferredValue:function(t,a){var i=ht();return Ve===null?td(i,t,a):Yp(i,Ve.memoizedState,t,a)},useTransition:function(){var t=Jc(yr)[0],a=ht().memoizedState;return[typeof t=="boolean"?t:Oi(t),a]},useSyncExternalStore:Sp,useId:Qp,useHostTransitionStatus:rd,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,a){var i=ht();return Ve!==null?Op(i,Ve,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Zp};a0.useEffectEvent=Pp;function id(t,a,i,l){a=t.memoizedState,i=i(l,a),i=i==null?a:b({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var od={enqueueSetState:function(t,a,i){t=t._reactInternals;var l=vn(),f=Pr(l);f.payload=a,i!=null&&(f.callback=i),a=Hr(t,f,l),a!==null&&(rn(a,t,l),Ti(a,t,l))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var l=vn(),f=Pr(l);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=Hr(t,f,l),a!==null&&(rn(a,t,l),Ti(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=vn(),l=Pr(i);l.tag=2,a!=null&&(l.callback=a),a=Hr(t,l,i),a!==null&&(rn(a,t,i),Ti(a,t,i))}};function s0(t,a,i,l,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,v):a.prototype&&a.prototype.isPureReactComponent?!yi(i,l)||!yi(f,h):!0}function i0(t,a,i,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,l),a.state!==t&&od.enqueueReplaceState(a,a.state,null)}function ja(t,a){var i=a;if("ref"in a){i={};for(var l in a)l!=="ref"&&(i[l]=a[l])}if(t=t.defaultProps){i===a&&(i=b({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function o0(t){Yo(t)}function l0(t){console.error(t)}function u0(t){Yo(t)}function yl(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function c0(t,a,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ld(t,a,i){return i=Pr(i),i.tag=3,i.payload={element:null},i.callback=function(){yl(t,a)},i}function d0(t){return t=Pr(t),t.tag=3,t}function f0(t,a,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;t.payload=function(){return f(h)},t.callback=function(){c0(a,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){c0(a,i,l),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Y_(t,a,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=i.alternate,a!==null&&ls(a,i,f,!0),i=mn.current,i!==null){switch(i.tag){case 31:case 13:return kn===null?Ol():i.alternate===null&&it===0&&(it=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===al?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([l]):a.add(l),Dd(t,l,f)),!1;case 22:return i.flags|=65536,l===al?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([l]):i.add(l)),Dd(t,l,f)),!1}throw Error(s(435,i.tag))}return Dd(t,l,f),Ol(),!1}if(Oe)return a=mn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==Nc&&(t=Error(s(422),{cause:l}),wi(An(t,i)))):(l!==Nc&&(a=Error(s(423),{cause:l}),wi(An(a,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=An(l,i),f=ld(t.stateNode,l,f),Bc(t,f),it!==4&&(it=2)),!1;var h=Error(s(520),{cause:l});if(h=An(h,i),$i===null?$i=[h]:$i.push(h),it!==4&&(it=2),a===null)return!0;l=An(l,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=ld(i.stateNode,l,t),Bc(i,t),!1;case 1:if(a=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yr===null||!Yr.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=d0(f),f0(f,t,i,l),Bc(i,f),!1}i=i.return}while(i!==null);return!1}var ud=Error(s(461)),wt=!1;function Ut(t,a,i,l){a.child=t===null?gp(a,null,i,l):Ea(a,t.child,i,l)}function h0(t,a,i,l,f){i=i.render;var h=a.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return wa(a),l=Fc(t,a,i,v,h,f),x=Vc(),t!==null&&!wt?(Gc(t,a,f),vr(t,a,f)):(Oe&&x&&Tc(a),a.flags|=1,Ut(t,a,l,f),a.child)}function m0(t,a,i,l,f){if(t===null){var h=i.type;return typeof h=="function"&&!_c(h)&&h.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=h,p0(t,a,h,l,f)):(t=Qo(i.type,null,l,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(h=t.child,!yd(t,f)){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:yi,i(v,l)&&t.ref===a.ref)return vr(t,a,f)}return a.flags|=1,t=fr(h,l),t.ref=a.ref,t.return=a,a.child=t}function p0(t,a,i,l,f){if(t!==null){var h=t.memoizedProps;if(yi(h,l)&&t.ref===a.ref)if(wt=!1,a.pendingProps=l=h,yd(t,f))(t.flags&131072)!==0&&(wt=!0);else return a.lanes=t.lanes,vr(t,a,f)}return cd(t,a,i,l,f)}function g0(t,a,i,l){var f=l.children,h=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(l=a.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~h}else l=0,a.child=null;return y0(t,a,h,i,l)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&nl(a,h!==null?h.cachePool:null),h!==null?bp(a,h):zc(),wp(a);else return l=a.lanes=536870912,y0(t,a,h!==null?h.baseLanes|i:i,i,l)}else h!==null?(nl(a,h.cachePool),bp(a,h),Fr(),a.memoizedState=null):(t!==null&&nl(a,null),zc(),Fr());return Ut(t,a,f,i),a.child}function ki(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function y0(t,a,i,l,f){var h=Uc();return h=h===null?null:{parent:vt._currentValue,pool:h},a.memoizedState={baseLanes:i,cachePool:h},t!==null&&nl(a,null),zc(),wp(a),t!==null&&ls(t,a,l,!0),a.childLanes=f,null}function vl(t,a){return a=wl({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function v0(t,a,i){return Ea(a,t.child,null,i),t=vl(a,a.pendingProps),t.flags|=2,pn(a),a.memoizedState=null,t}function K_(t,a,i){var l=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Oe){if(l.mode==="hidden")return t=vl(a,l),a.lanes=536870912,ki(null,t);if(Hc(a),(t=Xe)?(t=Rg(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Kn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},i=tp(t),i.return=a,a.child=i,kt=a,Xe=null)):t=null,t===null)throw Br(a);return a.lanes=536870912,null}return vl(a,l)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Hc(a),f)if(a.flags&256)a.flags&=-257,a=v0(t,a,i);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(s(558));else if(wt||ls(t,a,i,!1),f=(i&t.childLanes)!==0,wt||f){if(l=Ke,l!==null&&(v=lm(l,i),v!==0&&v!==h.retryLane))throw h.retryLane=v,ga(t,v),rn(l,t,v),ud;Ol(),a=v0(t,a,i)}else t=h.treeContext,Xe=Dn(v.nextSibling),kt=a,Oe=!0,Ir=null,Cn=!1,t!==null&&ap(a,t),a=vl(a,l),a.flags|=4096;return a}return t=fr(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function bl(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function cd(t,a,i,l,f){return wa(a),i=Fc(t,a,i,l,void 0,f),l=Vc(),t!==null&&!wt?(Gc(t,a,f),vr(t,a,f)):(Oe&&l&&Tc(a),a.flags|=1,Ut(t,a,i,f),a.child)}function b0(t,a,i,l,f,h){return wa(a),a.updateQueue=null,i=_p(a,l,i,f),xp(t),l=Vc(),t!==null&&!wt?(Gc(t,a,h),vr(t,a,h)):(Oe&&l&&Tc(a),a.flags|=1,Ut(t,a,i,h),a.child)}function w0(t,a,i,l,f){if(wa(a),a.stateNode===null){var h=as,v=i.contextType;typeof v=="object"&&v!==null&&(h=Dt(v)),h=new i(l,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=od,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=l,h.state=a.memoizedState,h.refs={},Mc(a),v=i.contextType,h.context=typeof v=="object"&&v!==null?Dt(v):as,h.state=a.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(id(a,i,v,l),h.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&od.enqueueReplaceState(h,h.state,null),Ni(a,l,h,f),ji(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){h=a.stateNode;var x=a.memoizedProps,O=ja(i,x);h.props=O;var I=h.context,F=i.contextType;v=as,typeof F=="object"&&F!==null&&(v=Dt(F));var Y=i.getDerivedStateFromProps;F=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,F||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||I!==v)&&i0(a,h,l,v),zr=!1;var $=a.memoizedState;h.state=$,Ni(a,l,h,f),ji(),I=a.memoizedState,x||$!==I||zr?(typeof Y=="function"&&(id(a,i,Y,l),I=a.memoizedState),(O=zr||s0(a,i,O,l,$,I,v))?(F||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=I),h.props=l,h.state=I,h.context=v,l=O):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{h=a.stateNode,Ic(t,a),v=a.memoizedProps,F=ja(i,v),h.props=F,Y=a.pendingProps,$=h.context,I=i.contextType,O=as,typeof I=="object"&&I!==null&&(O=Dt(I)),x=i.getDerivedStateFromProps,(I=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==Y||$!==O)&&i0(a,h,l,O),zr=!1,$=a.memoizedState,h.state=$,Ni(a,l,h,f),ji();var H=a.memoizedState;v!==Y||$!==H||zr||t!==null&&t.dependencies!==null&&el(t.dependencies)?(typeof x=="function"&&(id(a,i,x,l),H=a.memoizedState),(F=zr||s0(a,i,F,l,$,H,O)||t!==null&&t.dependencies!==null&&el(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,O)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=H),h.props=l,h.state=H,h.context=O,l=F):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=1024),l=!1)}return h=l,bl(t,a),l=(a.flags&128)!==0,h||l?(h=a.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,t!==null&&l?(a.child=Ea(a,t.child,null,f),a.child=Ea(a,null,i,f)):Ut(t,a,i,f),a.memoizedState=h.state,t=a.child):t=vr(t,a,f),t}function x0(t,a,i,l){return va(),a.flags|=256,Ut(t,a,i,l),a.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:cp()}}function hd(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=yn),t}function _0(t,a,i){var l=a.pendingProps,f=!1,h=(a.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),v&&(f=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,t===null){if(Oe){if(f?qr(a):Fr(),(t=Xe)?(t=Rg(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Kn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},i=tp(t),i.return=a,a.child=i,kt=a,Xe=null)):t=null,t===null)throw Br(a);return Kd(t)?a.lanes=32:a.lanes=536870912,null}var x=l.children;return l=l.fallback,f?(Fr(),f=a.mode,x=wl({mode:"hidden",children:x},f),l=ya(l,f,i,null),x.return=a,l.return=a,x.sibling=l,a.child=x,l=a.child,l.memoizedState=fd(i),l.childLanes=hd(t,v,i),a.memoizedState=dd,ki(null,l)):(qr(a),md(a,x))}var O=t.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(h)a.flags&256?(qr(a),a.flags&=-257,a=pd(t,a,i)):a.memoizedState!==null?(Fr(),a.child=t.child,a.flags|=128,a=null):(Fr(),x=l.fallback,f=a.mode,l=wl({mode:"visible",children:l.children},f),x=ya(x,f,i,null),x.flags|=2,l.return=a,x.return=a,l.sibling=x,a.child=l,Ea(a,t.child,null,i),l=a.child,l.memoizedState=fd(i),l.childLanes=hd(t,v,i),a.memoizedState=dd,a=ki(null,l));else if(qr(a),Kd(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var I=v.dgst;v=I,l=Error(s(419)),l.stack="",l.digest=v,wi({value:l,source:null,stack:null}),a=pd(t,a,i)}else if(wt||ls(t,a,i,!1),v=(i&t.childLanes)!==0,wt||v){if(v=Ke,v!==null&&(l=lm(v,i),l!==0&&l!==O.retryLane))throw O.retryLane=l,ga(t,l),rn(v,t,l),ud;Yd(x)||Ol(),a=pd(t,a,i)}else Yd(x)?(a.flags|=192,a.child=t.child,a=null):(t=O.treeContext,Xe=Dn(x.nextSibling),kt=a,Oe=!0,Ir=null,Cn=!1,t!==null&&ap(a,t),a=md(a,l.children),a.flags|=4096);return a}return f?(Fr(),x=l.fallback,f=a.mode,O=t.child,I=O.sibling,l=fr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,I!==null?x=fr(I,x):(x=ya(x,f,i,null),x.flags|=2),x.return=a,l.return=a,l.sibling=x,a.child=l,ki(null,l),l=a.child,x=t.child.memoizedState,x===null?x=fd(i):(f=x.cachePool,f!==null?(O=vt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=cp(),x={baseLanes:x.baseLanes|i,cachePool:f}),l.memoizedState=x,l.childLanes=hd(t,v,i),a.memoizedState=dd,ki(t.child,l)):(qr(a),i=t.child,t=i.sibling,i=fr(i,{mode:"visible",children:l.children}),i.return=a,i.sibling=null,t!==null&&(v=a.deletions,v===null?(a.deletions=[t],a.flags|=16):v.push(t)),a.child=i,a.memoizedState=null,i)}function md(t,a){return a=wl({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function wl(t,a){return t=hn(22,t,null,a),t.lanes=0,t}function pd(t,a,i){return Ea(a,t.child,null,i),t=md(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function S0(t,a,i){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),Rc(t.return,a,i)}function gd(t,a,i,l,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f,treeForkCount:h}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=f,v.treeForkCount=h)}function E0(t,a,i){var l=a.pendingProps,f=l.revealOrder,h=l.tail;l=l.children;var v=ft.current,x=(v&2)!==0;if(x?(v=v&1|2,a.flags|=128):v&=1,te(ft,v),Ut(t,a,l,i),l=Oe?bi:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,i,a);else if(t.tag===19)S0(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=a.child,f=null;i!==null;)t=i.alternate,t!==null&&ll(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),gd(a,!1,f,i,h,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&ll(t)===null){a.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}gd(a,!0,i,null,h,l);break;case"together":gd(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function vr(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),Wr|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(ls(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,i=fr(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=fr(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function yd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&el(t)))}function J_(t,a,i){switch(a.tag){case 3:Gt(a,a.stateNode.containerInfo),$r(a,vt,t.memoizedState.cache),va();break;case 27:case 5:ai(a);break;case 4:Gt(a,a.stateNode.containerInfo);break;case 10:$r(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Hc(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(a),a.flags|=128,null):(i&a.child.childLanes)!==0?_0(t,a,i):(qr(a),t=vr(t,a,i),t!==null?t.sibling:null);qr(a);break;case 19:var f=(t.flags&128)!==0;if(l=(i&a.childLanes)!==0,l||(ls(t,a,i,!1),l=(i&a.childLanes)!==0),f){if(l)return E0(t,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),te(ft,ft.current),l)break;return null;case 22:return a.lanes=0,g0(t,a,i,a.pendingProps);case 24:$r(a,vt,t.memoizedState.cache)}return vr(t,a,i)}function T0(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)wt=!0;else{if(!yd(t,i)&&(a.flags&128)===0)return wt=!1,J_(t,a,i);wt=(t.flags&131072)!==0}else wt=!1,Oe&&(a.flags&1048576)!==0&&rp(a,bi,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=_a(a.elementType),a.type=t,typeof t=="function")_c(t)?(l=ja(t,l),a.tag=1,a=w0(null,a,t,l,i)):(a.tag=0,a=cd(null,a,t,l,i));else{if(t!=null){var f=t.$$typeof;if(f===R){a.tag=11,a=h0(null,a,t,l,i);break e}else if(f===B){a.tag=14,a=m0(null,a,t,l,i);break e}}throw a=ke(t)||t,Error(s(306,a,""))}}return a;case 0:return cd(t,a,a.type,a.pendingProps,i);case 1:return l=a.type,f=ja(l,a.pendingProps),w0(t,a,l,f,i);case 3:e:{if(Gt(a,a.stateNode.containerInfo),t===null)throw Error(s(387));l=a.pendingProps;var h=a.memoizedState;f=h.element,Ic(t,a),Ni(a,l,null,i);var v=a.memoizedState;if(l=v.cache,$r(a,vt,l),l!==h.cache&&Cc(a,[vt],i,!0),ji(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=x0(t,a,l,i);break e}else if(l!==f){f=An(Error(s(424)),a),wi(f),a=x0(t,a,l,i);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Xe=Dn(t.firstChild),kt=a,Oe=!0,Ir=null,Cn=!0,i=gp(a,null,l,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(va(),l===f){a=vr(t,a,i);break e}Ut(t,a,l,i)}a=a.child}return a;case 26:return bl(t,a),t===null?(i=Mg(a.type,null,a.pendingProps,null))?a.memoizedState=i:Oe||(i=a.type,t=a.pendingProps,l=Ml(_e.current).createElement(i),l[Ct]=a,l[Xt]=t,Lt(l,i,t),Ot(l),a.stateNode=l):a.memoizedState=Mg(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return ai(a),t===null&&Oe&&(l=a.stateNode=Dg(a.type,a.pendingProps,_e.current),kt=a,Cn=!0,f=Xe,Qr(a.type)?(Jd=f,Xe=Dn(l.firstChild)):Xe=f),Ut(t,a,a.pendingProps.children,i),bl(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Oe&&((f=l=Xe)&&(l=jS(l,a.type,a.pendingProps,Cn),l!==null?(a.stateNode=l,kt=a,Xe=Dn(l.firstChild),Cn=!1,f=!0):f=!1),f||Br(a)),ai(a),f=a.type,h=a.pendingProps,v=t!==null?t.memoizedProps:null,l=h.children,Vd(f,h)?l=null:v!==null&&Vd(f,v)&&(a.flags|=32),a.memoizedState!==null&&(f=Fc(t,a,P_,null,null,i),Wi._currentValue=f),bl(t,a),Ut(t,a,l,i),a.child;case 6:return t===null&&Oe&&((t=i=Xe)&&(i=NS(i,a.pendingProps,Cn),i!==null?(a.stateNode=i,kt=a,Xe=null,t=!0):t=!1),t||Br(a)),null;case 13:return _0(t,a,i);case 4:return Gt(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=Ea(a,null,l,i):Ut(t,a,l,i),a.child;case 11:return h0(t,a,a.type,a.pendingProps,i);case 7:return Ut(t,a,a.pendingProps,i),a.child;case 8:return Ut(t,a,a.pendingProps.children,i),a.child;case 12:return Ut(t,a,a.pendingProps.children,i),a.child;case 10:return l=a.pendingProps,$r(a,a.type,l.value),Ut(t,a,l.children,i),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,wa(a),f=Dt(f),l=l(f),a.flags|=1,Ut(t,a,l,i),a.child;case 14:return m0(t,a,a.type,a.pendingProps,i);case 15:return p0(t,a,a.type,a.pendingProps,i);case 19:return E0(t,a,i);case 31:return K_(t,a,i);case 22:return g0(t,a,i,a.pendingProps);case 24:return wa(a),l=Dt(vt),t===null?(f=Uc(),f===null&&(f=Ke,h=kc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),a.memoizedState={parent:l,cache:f},Mc(a),$r(a,vt,f)):((t.lanes&i)!==0&&(Ic(t,a),Ni(a,null,null,i),ji()),f=t.memoizedState,h=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),$r(a,vt,l)):(l=h.cache,$r(a,vt,l),l!==f.cache&&Cc(a,[vt],i,!0))),Ut(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function br(t){t.flags|=4}function vd(t,a,i,l,f){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Q0())t.flags|=8192;else throw Sa=al,Lc}else t.flags&=-16777217}function j0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pg(a))if(Q0())t.flags|=8192;else throw Sa=al,Lc}function xl(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?sm():536870912,t.lanes|=a,ws|=a)}function Di(t,a){if(!Oe)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Qe(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(a)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,a}function X_(t,a,i){var l=a.pendingProps;switch(jc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(a),null;case 1:return Qe(a),null;case 3:return i=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),pr(vt),dt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(os(a)?br(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ac())),Qe(a),null;case 26:var f=a.type,h=a.memoizedState;return t===null?(br(a),h!==null?(Qe(a),j0(a,h)):(Qe(a),vd(a,f,null,l,i))):h?h!==t.memoizedState?(br(a),Qe(a),j0(a,h)):(Qe(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&br(a),Qe(a),vd(a,f,t,l,i)),null;case 27:if(ko(a),i=_e.current,f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&br(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return Qe(a),null}t=ne.current,os(a)?sp(a):(t=Dg(f,l,i),a.stateNode=t,br(a))}return Qe(a),null;case 5:if(ko(a),f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&br(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return Qe(a),null}if(h=ne.current,os(a))sp(a);else{var v=Ml(_e.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}h[Ct]=a,h[Xt]=l;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=h;e:switch(Lt(h,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&br(a)}}return Qe(a),vd(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,i),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&br(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(s(166));if(t=_e.current,os(a)){if(t=a.stateNode,i=a.memoizedProps,l=null,f=kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ct]=a,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||_g(t.nodeValue,i)),t||Br(a,!0)}else t=Ml(t).createTextNode(l),t[Ct]=a,a.stateNode=t}return Qe(a),null;case 31:if(i=a.memoizedState,t===null||t.memoizedState!==null){if(l=os(a),i!==null){if(t===null){if(!l)throw Error(s(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qe(a),t=!1}else i=Ac(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return a.flags&256?(pn(a),a):(pn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Qe(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=os(a),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ct]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qe(a),f=!1}else f=Ac(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(pn(a),a):(pn(a),null)}return pn(a),(a.flags&128)!==0?(a.lanes=i,a):(i=l!==null,t=t!==null&&t.memoizedState!==null,i&&(l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)),i!==t&&i&&(a.child.flags|=8192),xl(a,a.updateQueue),Qe(a),null);case 4:return dt(),t===null&&zd(a.stateNode.containerInfo),Qe(a),null;case 10:return pr(a.type),Qe(a),null;case 19:if(G(ft),l=a.memoizedState,l===null)return Qe(a),null;if(f=(a.flags&128)!==0,h=l.rendering,h===null)if(f)Di(l,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(h=ll(t),h!==null){for(a.flags|=128,Di(l,!1),t=h.updateQueue,a.updateQueue=t,xl(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)ep(i,t),i=i.sibling;return te(ft,ft.current&1|2),Oe&&hr(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&un()>jl&&(a.flags|=128,f=!0,Di(l,!1),a.lanes=4194304)}else{if(!f)if(t=ll(h),t!==null){if(a.flags|=128,f=!0,t=t.updateQueue,a.updateQueue=t,xl(a,t),Di(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Oe)return Qe(a),null}else 2*un()-l.renderingStartTime>jl&&i!==536870912&&(a.flags|=128,f=!0,Di(l,!1),a.lanes=4194304);l.isBackwards?(h.sibling=a.child,a.child=h):(t=l.last,t!==null?t.sibling=h:a.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=un(),t.sibling=null,i=ft.current,te(ft,f?i&1|2:i&1),Oe&&hr(a,l.treeForkCount),t):(Qe(a),null);case 22:case 23:return pn(a),Pc(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(i&536870912)!==0&&(a.flags&128)===0&&(Qe(a),a.subtreeFlags&6&&(a.flags|=8192)):Qe(a),i=a.updateQueue,i!==null&&xl(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048),t!==null&&G(xa),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),pr(vt),Qe(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Q_(t,a){switch(jc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return pr(vt),dt(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return ko(a),null;case 31:if(a.memoizedState!==null){if(pn(a),a.alternate===null)throw Error(s(340));va()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(pn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));va()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return G(ft),null;case 4:return dt(),null;case 10:return pr(a.type),null;case 22:case 23:return pn(a),Pc(),t!==null&&G(xa),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return pr(vt),null;case 25:return null;default:return null}}function N0(t,a){switch(jc(a),a.tag){case 3:pr(vt),dt();break;case 26:case 27:case 5:ko(a);break;case 4:dt();break;case 31:a.memoizedState!==null&&pn(a);break;case 13:pn(a);break;case 19:G(ft);break;case 10:pr(a.type);break;case 22:case 23:pn(a),Pc(),t!==null&&G(xa);break;case 24:pr(vt)}}function Ui(t,a){try{var i=a.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var h=i.create,v=i.inst;l=h(),v.destroy=l}i=i.next}while(i!==f)}}catch(x){qe(a,a.return,x)}}function Vr(t,a,i){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,f=a;var O=i,I=x;try{I()}catch(F){qe(f,O,F)}}}l=l.next}while(l!==h)}}catch(F){qe(a,a.return,F)}}function A0(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{vp(a,i)}catch(l){qe(t,t.return,l)}}}function O0(t,a,i){i.props=ja(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){qe(t,a,l)}}function Li(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){qe(t,a,f)}}function Xn(t,a){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){qe(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){qe(t,a,f)}else i.current=null}function R0(t){var a=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){qe(t,t.return,f)}}function bd(t,a,i){try{var l=t.stateNode;wS(l,t.type,i,a),l[Xt]=a}catch(f){qe(t,t.return,f)}}function C0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=cr));else if(l!==4&&(l===27&&Qr(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(xd(t,a,i),t=t.sibling;t!==null;)xd(t,a,i),t=t.sibling}function _l(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(l!==4&&(l===27&&Qr(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(_l(t,a,i),t=t.sibling;t!==null;)_l(t,a,i),t=t.sibling}function k0(t){var a=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Lt(a,l,i),a[Ct]=t,a[Xt]=i}catch(h){qe(t,t.return,h)}}var wr=!1,xt=!1,_d=!1,D0=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Z_(t,a){if(t=t.containerInfo,qd=ql,t=Vm(t),pc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var v=0,x=-1,O=-1,I=0,F=0,Y=t,$=null;t:for(;;){for(var H;Y!==i||f!==0&&Y.nodeType!==3||(x=v+f),Y!==h||l!==0&&Y.nodeType!==3||(O=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(H=Y.firstChild)!==null;)$=Y,Y=H;for(;;){if(Y===t)break t;if($===i&&++I===f&&(x=v),$===h&&++F===l&&(O=v),(H=Y.nextSibling)!==null)break;Y=$,$=Y.parentNode}Y=H}i=x===-1||O===-1?null:{start:x,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fd={focusedElem:t,selectionRange:i},ql=!1,Rt=a;Rt!==null;)if(a=Rt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Rt=t;else for(;Rt!==null;){switch(a=Rt,h=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=a,f=h.memoizedProps,h=h.memoizedState,l=i.stateNode;try{var ae=ja(i.type,f);t=l.getSnapshotBeforeUpdate(ae,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ue){qe(i,i.return,ue)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Wd(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=a.sibling,t!==null){t.return=a.return,Rt=t;break}Rt=a.return}}function U0(t,a,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:_r(t,i),l&4&&Ui(5,i);break;case 1:if(_r(t,i),l&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(v){qe(i,i.return,v)}else{var f=ja(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(v){qe(i,i.return,v)}}l&64&&A0(i),l&512&&Li(i,i.return);break;case 3:if(_r(t,i),l&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{vp(t,a)}catch(v){qe(i,i.return,v)}}break;case 27:a===null&&l&4&&k0(i);case 26:case 5:_r(t,i),a===null&&l&4&&R0(i),l&512&&Li(i,i.return);break;case 12:_r(t,i);break;case 31:_r(t,i),l&4&&I0(t,i);break;case 13:_r(t,i),l&4&&B0(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=lS.bind(null,i),AS(t,i))));break;case 22:if(l=i.memoizedState!==null||wr,!l){a=a!==null&&a.memoizedState!==null||xt,f=wr;var h=xt;wr=l,(xt=a)&&!h?Sr(t,i,(i.subtreeFlags&8772)!==0):_r(t,i),wr=f,xt=h}break;case 30:break;default:_r(t,i)}}function L0(t){var a=t.alternate;a!==null&&(t.alternate=null,L0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Qu(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,Zt=!1;function xr(t,a,i){for(i=i.child;i!==null;)M0(t,a,i),i=i.sibling}function M0(t,a,i){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(si,i)}catch{}switch(i.tag){case 26:xt||Xn(i,a),xr(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xt||Xn(i,a);var l=et,f=Zt;Qr(i.type)&&(et=i.stateNode,Zt=!1),xr(t,a,i),Fi(i.stateNode),et=l,Zt=f;break;case 5:xt||Xn(i,a);case 6:if(l=et,f=Zt,et=null,xr(t,a,i),et=l,Zt=f,et!==null)if(Zt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(i.stateNode)}catch(h){qe(i,a,h)}else try{et.removeChild(i.stateNode)}catch(h){qe(i,a,h)}break;case 18:et!==null&&(Zt?(t=et,Ag(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),As(t)):Ag(et,i.stateNode));break;case 4:l=et,f=Zt,et=i.stateNode.containerInfo,Zt=!0,xr(t,a,i),et=l,Zt=f;break;case 0:case 11:case 14:case 15:Vr(2,i,a),xt||Vr(4,i,a),xr(t,a,i);break;case 1:xt||(Xn(i,a),l=i.stateNode,typeof l.componentWillUnmount=="function"&&O0(i,a,l)),xr(t,a,i);break;case 21:xr(t,a,i);break;case 22:xt=(l=xt)||i.memoizedState!==null,xr(t,a,i),xt=l;break;default:xr(t,a,i)}}function I0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{As(t)}catch(i){qe(a,a.return,i)}}}function B0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{As(t)}catch(i){qe(a,a.return,i)}}function eS(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new D0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new D0),a;default:throw Error(s(435,t.tag))}}function Sl(t,a){var i=eS(t);a.forEach(function(l){if(!i.has(l)){i.add(l);var f=uS.bind(null,t,l);l.then(f,f)}})}function en(t,a){var i=a.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],h=t,v=a,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Qr(x.type)){et=x.stateNode,Zt=!1;break e}break;case 5:et=x.stateNode,Zt=!1;break e;case 3:case 4:et=x.stateNode.containerInfo,Zt=!0;break e}x=x.return}if(et===null)throw Error(s(160));M0(h,v,f),et=null,Zt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)$0(a,t),a=a.sibling}var Pn=null;function $0(t,a){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(a,t),tn(t),l&4&&(Vr(3,t,t.return),Ui(3,t),Vr(5,t,t.return));break;case 1:en(a,t),tn(t),l&512&&(xt||i===null||Xn(i,i.return)),l&64&&wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=Pn;if(en(a,t),tn(t),l&512&&(xt||i===null||Xn(i,i.return)),l&4){var h=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[li]||h[Ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),Lt(h,l,i),h[Ct]=t,Ot(h),l=h;break e;case"link":var v=$g("link","href",f).get(l+(i.href||""));if(v){for(var x=0;x<v.length;x++)if(h=v[x],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(x,1);break t}}h=f.createElement(l),Lt(h,l,i),f.head.appendChild(h);break;case"meta":if(v=$g("meta","content",f).get(l+(i.content||""))){for(x=0;x<v.length;x++)if(h=v[x],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(x,1);break t}}h=f.createElement(l),Lt(h,l,i),f.head.appendChild(h);break;default:throw Error(s(468,l))}h[Ct]=t,Ot(h),l=h}t.stateNode=l}else zg(f,t.type,t.stateNode);else t.stateNode=Bg(f,l,t.memoizedProps);else h!==l?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,l===null?zg(f,t.type,t.stateNode):Bg(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bd(t,t.memoizedProps,i.memoizedProps)}break;case 27:en(a,t),tn(t),l&512&&(xt||i===null||Xn(i,i.return)),i!==null&&l&4&&bd(t,t.memoizedProps,i.memoizedProps);break;case 5:if(en(a,t),tn(t),l&512&&(xt||i===null||Xn(i,i.return)),t.flags&32){f=t.stateNode;try{Xa(f,"")}catch(ae){qe(t,t.return,ae)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,bd(t,f,i!==null?i.memoizedProps:f)),l&1024&&(_d=!0);break;case 6:if(en(a,t),tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(ae){qe(t,t.return,ae)}}break;case 3:if($l=null,f=Pn,Pn=Il(a.containerInfo),en(a,t),Pn=f,tn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{As(a.containerInfo)}catch(ae){qe(t,t.return,ae)}_d&&(_d=!1,z0(t));break;case 4:l=Pn,Pn=Il(t.stateNode.containerInfo),en(a,t),tn(t),Pn=l;break;case 12:en(a,t),tn(t);break;case 31:en(a,t),tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sl(t,l)));break;case 13:en(a,t),tn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Tl=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sl(t,l)));break;case 22:f=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,I=wr,F=xt;if(wr=I||f,xt=F||O,en(a,t),xt=F,wr=I,tn(t),l&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||O||wr||xt||Na(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){O=i=a;try{if(h=O.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=O.stateNode;var Y=O.memoizedProps.style,$=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ae){qe(O,O.return,ae)}}}else if(a.tag===6){if(i===null){O=a;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(ae){qe(O,O.return,ae)}}}else if(a.tag===18){if(i===null){O=a;try{var H=O.stateNode;f?Og(H,!0):Og(O.stateNode,!1)}catch(ae){qe(O,O.return,ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Sl(t,i))));break;case 19:en(a,t),tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sl(t,l)));break;case 30:break;case 21:break;default:en(a,t),tn(t)}}function tn(t){var a=t.flags;if(a&2){try{for(var i,l=t.return;l!==null;){if(C0(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,h=wd(t);_l(t,h,f);break;case 5:var v=i.stateNode;i.flags&32&&(Xa(v,""),i.flags&=-33);var x=wd(t);_l(t,x,v);break;case 3:case 4:var O=i.stateNode.containerInfo,I=wd(t);xd(t,I,O);break;default:throw Error(s(161))}}catch(F){qe(t,t.return,F)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function z0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;z0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function _r(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)U0(t,a.alternate,a),a=a.sibling}function Na(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Vr(4,a,a.return),Na(a);break;case 1:Xn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&O0(a,a.return,i),Na(a);break;case 27:Fi(a.stateNode);case 26:case 5:Xn(a,a.return),Na(a);break;case 22:a.memoizedState===null&&Na(a);break;case 30:Na(a);break;default:Na(a)}t=t.sibling}}function Sr(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=t,h=a,v=h.flags;switch(h.tag){case 0:case 11:case 15:Sr(f,h,i),Ui(4,h);break;case 1:if(Sr(f,h,i),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){qe(l,l.return,I)}if(l=h,f=l.updateQueue,f!==null){var x=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)yp(O[f],x)}catch(I){qe(l,l.return,I)}}i&&v&64&&A0(h),Li(h,h.return);break;case 27:k0(h);case 26:case 5:Sr(f,h,i),i&&l===null&&v&4&&R0(h),Li(h,h.return);break;case 12:Sr(f,h,i);break;case 31:Sr(f,h,i),i&&v&4&&I0(f,h);break;case 13:Sr(f,h,i),i&&v&4&&B0(f,h);break;case 22:h.memoizedState===null&&Sr(f,h,i),Li(h,h.return);break;case 30:break;default:Sr(f,h,i)}a=a.sibling}}function Sd(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&xi(i))}function Ed(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&xi(t))}function Hn(t,a,i,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)P0(t,a,i,l),a=a.sibling}function P0(t,a,i,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(t,a,i,l),f&2048&&Ui(9,a);break;case 1:Hn(t,a,i,l);break;case 3:Hn(t,a,i,l),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&xi(t)));break;case 12:if(f&2048){Hn(t,a,i,l),t=a.stateNode;try{var h=a.memoizedProps,v=h.id,x=h.onPostCommit;typeof x=="function"&&x(v,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){qe(a,a.return,O)}}else Hn(t,a,i,l);break;case 31:Hn(t,a,i,l);break;case 13:Hn(t,a,i,l);break;case 23:break;case 22:h=a.stateNode,v=a.alternate,a.memoizedState!==null?h._visibility&2?Hn(t,a,i,l):Mi(t,a):h._visibility&2?Hn(t,a,i,l):(h._visibility|=2,ys(t,a,i,l,(a.subtreeFlags&10256)!==0||!1)),f&2048&&Sd(v,a);break;case 24:Hn(t,a,i,l),f&2048&&Ed(a.alternate,a);break;default:Hn(t,a,i,l)}}function ys(t,a,i,l,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=t,v=a,x=i,O=l,I=v.flags;switch(v.tag){case 0:case 11:case 15:ys(h,v,x,O,f),Ui(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?ys(h,v,x,O,f):Mi(h,v):(F._visibility|=2,ys(h,v,x,O,f)),f&&I&2048&&Sd(v.alternate,v);break;case 24:ys(h,v,x,O,f),f&&I&2048&&Ed(v.alternate,v);break;default:ys(h,v,x,O,f)}a=a.sibling}}function Mi(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,l=a,f=l.flags;switch(l.tag){case 22:Mi(i,l),f&2048&&Sd(l.alternate,l);break;case 24:Mi(i,l),f&2048&&Ed(l.alternate,l);break;default:Mi(i,l)}a=a.sibling}}var Ii=8192;function vs(t,a,i){if(t.subtreeFlags&Ii)for(t=t.child;t!==null;)H0(t,a,i),t=t.sibling}function H0(t,a,i){switch(t.tag){case 26:vs(t,a,i),t.flags&Ii&&t.memoizedState!==null&&zS(i,Pn,t.memoizedState,t.memoizedProps);break;case 5:vs(t,a,i);break;case 3:case 4:var l=Pn;Pn=Il(t.stateNode.containerInfo),vs(t,a,i),Pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ii,Ii=16777216,vs(t,a,i),Ii=l):vs(t,a,i));break;default:vs(t,a,i)}}function q0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Bi(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];Rt=l,V0(l,t)}q0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F0(t),t=t.sibling}function F0(t){switch(t.tag){case 0:case 11:case 15:Bi(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:Bi(t);break;case 12:Bi(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,El(t)):Bi(t);break;default:Bi(t)}}function El(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];Rt=l,V0(l,t)}q0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Vr(8,a,a.return),El(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,El(a));break;default:El(a)}t=t.sibling}}function V0(t,a){for(;Rt!==null;){var i=Rt;switch(i.tag){case 0:case 11:case 15:Vr(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xi(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Rt=l;else e:for(i=t;Rt!==null;){l=Rt;var f=l.sibling,h=l.return;if(L0(l),l===i){Rt=null;break e}if(f!==null){f.return=h,Rt=f;break e}Rt=h}}}var tS={getCacheForType:function(t){var a=Dt(vt),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i},cacheSignal:function(){return Dt(vt).controller.signal}},nS=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ke=null,Se=null,je=0,He=0,gn=null,Gr=!1,bs=!1,Td=!1,Er=0,it=0,Wr=0,Aa=0,jd=0,yn=0,ws=0,$i=null,nn=null,Nd=!1,Tl=0,G0=0,jl=1/0,Nl=null,Yr=null,St=0,Kr=null,xs=null,Tr=0,Ad=0,Od=null,W0=null,zi=0,Rd=null;function vn(){return(Ie&2)!==0&&je!==0?je&-je:z.T!==null?Md():um()}function Y0(){if(yn===0)if((je&536870912)===0||Oe){var t=Lo;Lo<<=1,(Lo&3932160)===0&&(Lo=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function rn(t,a,i){(t===Ke&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(_s(t,0),Jr(t,je,yn,!1)),oi(t,i),((Ie&2)===0||t!==Ke)&&(t===Ke&&((Ie&2)===0&&(Aa|=i),it===4&&Jr(t,je,yn,!1)),Qn(t))}function K0(t,a,i){if((Ie&6)!==0)throw Error(s(327));var l=!i&&(a&127)===0&&(a&t.expiredLanes)===0||ii(t,a),f=l?sS(t,a):kd(t,a,!0),h=l;do{if(f===0){bs&&!l&&Jr(t,a,0,!1);break}else{if(i=t.current.alternate,h&&!rS(i)){f=kd(t,a,!1),h=!1;continue}if(f===2){if(h=a,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var x=t;f=$i;var O=x.current.memoizedState.isDehydrated;if(O&&(_s(x,v).flags|=256),v=kd(x,v,!1),v!==2){if(Td&&!O){x.errorRecoveryDisabledLanes|=h,Aa|=h,f=4;break e}h=nn,nn=f,h!==null&&(nn===null?nn=h:nn.push.apply(nn,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){_s(t,0),Jr(t,a,0,!0);break}e:{switch(l=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Jr(l,a,yn,!Gr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=Tl+300-un(),10<f)){if(Jr(l,a,yn,!Gr),Io(l,0,!0)!==0)break e;Tr=a,l.timeoutHandle=jg(J0.bind(null,l,i,nn,Nl,Nd,a,yn,Aa,ws,Gr,h,"Throttled",-0,0),f);break e}J0(l,i,nn,Nl,Nd,a,yn,Aa,ws,Gr,h,null,-0,0)}}break}while(!0);Qn(t)}function J0(t,a,i,l,f,h,v,x,O,I,F,Y,$,H){if(t.timeoutHandle=-1,Y=a.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cr},H0(a,h,Y);var ae=(h&62914560)===h?Tl-un():(h&4194048)===h?G0-un():0;if(ae=PS(Y,ae),ae!==null){Tr=h,t.cancelPendingCommit=ae(ag.bind(null,t,a,h,i,l,f,v,x,O,F,Y,null,$,H)),Jr(t,h,v,!I);return}}ag(t,a,h,i,l,f,v,x,O)}function rS(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],h=f.getSnapshot;f=f.value;try{if(!fn(h(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Jr(t,a,i,l){a&=~jd,a&=~Aa,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var f=a;0<f;){var h=31-dn(f),v=1<<h;l[h]=-1,f&=~v}i!==0&&im(t,i,a)}function Al(){return(Ie&6)===0?(Pi(0),!1):!0}function Cd(){if(Se!==null){if(He===0)var t=Se.return;else t=Se,mr=ba=null,Wc(t),fs=null,Si=0,t=Se;for(;t!==null;)N0(t.alternate,t),t=t.return;Se=null}}function _s(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,SS(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Tr=0,Cd(),Ke=t,Se=i=fr(t.current,null),je=a,He=0,gn=null,Gr=!1,bs=ii(t,a),Td=!1,ws=yn=jd=Aa=Wr=it=0,nn=$i=null,Nd=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var f=31-dn(l),h=1<<f;a|=t[f],l&=~h}return Er=a,Ko(),i}function X0(t,a){ye=null,z.H=Ci,a===ds||a===rl?(a=hp(),He=3):a===Lc?(a=hp(),He=4):He=a===ud?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gn=a,Se===null&&(it=1,yl(t,An(a,t.current)))}function Q0(){var t=mn.current;return t===null?!0:(je&4194048)===je?kn===null:(je&62914560)===je||(je&536870912)!==0?t===kn:!1}function Z0(){var t=z.H;return z.H=Ci,t===null?Ci:t}function eg(){var t=z.A;return z.A=tS,t}function Ol(){it=4,Gr||(je&4194048)!==je&&mn.current!==null||(bs=!0),(Wr&134217727)===0&&(Aa&134217727)===0||Ke===null||Jr(Ke,je,yn,!1)}function kd(t,a,i){var l=Ie;Ie|=2;var f=Z0(),h=eg();(Ke!==t||je!==a)&&(Nl=null,_s(t,a)),a=!1;var v=it;e:do try{if(He!==0&&Se!==null){var x=Se,O=gn;switch(He){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(a=!0);var I=He;if(He=0,gn=null,Ss(t,x,O,I),i&&bs){v=0;break e}break;default:I=He,He=0,gn=null,Ss(t,x,O,I)}}aS(),v=it;break}catch(F){X0(t,F)}while(!0);return a&&t.shellSuspendCounter++,mr=ba=null,Ie=l,z.H=f,z.A=h,Se===null&&(Ke=null,je=0,Ko()),v}function aS(){for(;Se!==null;)tg(Se)}function sS(t,a){var i=Ie;Ie|=2;var l=Z0(),f=eg();Ke!==t||je!==a?(Nl=null,jl=un()+500,_s(t,a)):bs=ii(t,a);e:do try{if(He!==0&&Se!==null){a=Se;var h=gn;t:switch(He){case 1:He=0,gn=null,Ss(t,a,h,1);break;case 2:case 9:if(dp(h)){He=0,gn=null,ng(a);break}a=function(){He!==2&&He!==9||Ke!==t||(He=7),Qn(t)},h.then(a,a);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:dp(h)?(He=0,gn=null,ng(a)):(He=0,gn=null,Ss(t,a,h,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var x=Se;if(v?Pg(v):x.stateNode.complete){He=0,gn=null;var O=x.sibling;if(O!==null)Se=O;else{var I=x.return;I!==null?(Se=I,Rl(I)):Se=null}break t}}He=0,gn=null,Ss(t,a,h,5);break;case 6:He=0,gn=null,Ss(t,a,h,6);break;case 8:Cd(),it=6;break e;default:throw Error(s(462))}}iS();break}catch(F){X0(t,F)}while(!0);return mr=ba=null,z.H=l,z.A=f,Ie=i,Se!==null?0:(Ke=null,je=0,Ko(),it)}function iS(){for(;Se!==null&&!Ox();)tg(Se)}function tg(t){var a=T0(t.alternate,t,Er);t.memoizedProps=t.pendingProps,a===null?Rl(t):Se=a}function ng(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=b0(i,a,a.pendingProps,a.type,void 0,je);break;case 11:a=b0(i,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:Wc(a);default:N0(i,a),a=Se=ep(a,Er),a=T0(i,a,Er)}t.memoizedProps=t.pendingProps,a===null?Rl(t):Se=a}function Ss(t,a,i,l){mr=ba=null,Wc(a),fs=null,Si=0;var f=a.return;try{if(Y_(t,f,a,i,je)){it=1,yl(t,An(i,t.current)),Se=null;return}}catch(h){if(f!==null)throw Se=f,h;it=1,yl(t,An(i,t.current)),Se=null;return}a.flags&32768?(Oe||l===1?t=!0:bs||(je&536870912)!==0?t=!1:(Gr=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rg(a,t)):Rl(a)}function Rl(t){var a=t;do{if((a.flags&32768)!==0){rg(a,Gr);return}t=a.return;var i=X_(a.alternate,a,Er);if(i!==null){Se=i;return}if(a=a.sibling,a!==null){Se=a;return}Se=a=t}while(a!==null);it===0&&(it=5)}function rg(t,a){do{var i=Q_(t.alternate,t);if(i!==null){i.flags&=32767,Se=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){Se=t;return}Se=t=i}while(t!==null);it=6,Se=null}function ag(t,a,i,l,f,h,v,x,O){t.cancelPendingCommit=null;do Cl();while(St!==0);if((Ie&6)!==0)throw Error(s(327));if(a!==null){if(a===t.current)throw Error(s(177));if(h=a.lanes|a.childLanes,h|=wc,$x(t,i,h,v,x,O),t===Ke&&(Se=Ke=null,je=0),xs=a,Kr=t,Tr=i,Ad=h,Od=f,W0=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cS(Do,function(){return ug(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,f=Q.p,Q.p=2,v=Ie,Ie|=4;try{Z_(t,a,i)}finally{Ie=v,Q.p=f,z.T=l}}St=1,sg(),ig(),og()}}function sg(){if(St===1){St=0;var t=Kr,a=xs,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var l=Q.p;Q.p=2;var f=Ie;Ie|=4;try{$0(a,t);var h=Fd,v=Vm(t.containerInfo),x=h.focusedElem,O=h.selectionRange;if(v!==x&&x&&x.ownerDocument&&Fm(x.ownerDocument.documentElement,x)){if(O!==null&&pc(x)){var I=O.start,F=O.end;if(F===void 0&&(F=I),"selectionStart"in x)x.selectionStart=I,x.selectionEnd=Math.min(F,x.value.length);else{var Y=x.ownerDocument||document,$=Y&&Y.defaultView||window;if($.getSelection){var H=$.getSelection(),ae=x.textContent.length,ue=Math.min(O.start,ae),We=O.end===void 0?ue:Math.min(O.end,ae);!H.extend&&ue>We&&(v=We,We=ue,ue=v);var U=qm(x,ue),D=qm(x,We);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var M=Y.createRange();M.setStart(U.node,U.offset),H.removeAllRanges(),ue>We?(H.addRange(M),H.extend(D.node,D.offset)):(M.setEnd(D.node,D.offset),H.addRange(M))}}}}for(Y=[],H=x;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var V=Y[x];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ql=!!qd,Fd=qd=null}finally{Ie=f,Q.p=l,z.T=i}}t.current=a,St=2}}function ig(){if(St===2){St=0;var t=Kr,a=xs,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var l=Q.p;Q.p=2;var f=Ie;Ie|=4;try{U0(t,a.alternate,a)}finally{Ie=f,Q.p=l,z.T=i}}St=3}}function og(){if(St===4||St===3){St=0,Rx();var t=Kr,a=xs,i=Tr,l=W0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?St=5:(St=0,xs=Kr=null,lg(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Yr=null),Ju(i),a=a.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(si,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=z.T,f=Q.p,Q.p=2,z.T=null;try{for(var h=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];h(x.value,{componentStack:x.stack})}}finally{z.T=a,Q.p=f}}(Tr&3)!==0&&Cl(),Qn(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===Rd?zi++:(zi=0,Rd=t):zi=0,Pi(0)}}function lg(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,xi(a)))}function Cl(){return sg(),ig(),og(),ug()}function ug(){if(St!==5)return!1;var t=Kr,a=Ad;Ad=0;var i=Ju(Tr),l=z.T,f=Q.p;try{Q.p=32>i?32:i,z.T=null,i=Od,Od=null;var h=Kr,v=Tr;if(St=0,xs=Kr=null,Tr=0,(Ie&6)!==0)throw Error(s(331));var x=Ie;if(Ie|=4,F0(h.current),P0(h,h.current,v,i),Ie=x,Pi(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(si,h)}catch{}return!0}finally{Q.p=f,z.T=l,lg(t,a)}}function cg(t,a,i){a=An(i,a),a=ld(t.stateNode,a,2),t=Hr(t,a,2),t!==null&&(oi(t,2),Qn(t))}function qe(t,a,i){if(t.tag===3)cg(t,t,i);else for(;a!==null;){if(a.tag===3){cg(a,t,i);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){t=An(i,t),i=d0(2),l=Hr(a,i,2),l!==null&&(f0(i,l,a,t),oi(l,2),Qn(l));break}}a=a.return}}function Dd(t,a,i){var l=t.pingCache;if(l===null){l=t.pingCache=new nS;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(i)||(Td=!0,f.add(i),t=oS.bind(null,t,a,i),a.then(t,t))}function oS(t,a,i){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Ke===t&&(je&i)===i&&(it===4||it===3&&(je&62914560)===je&&300>un()-Tl?(Ie&2)===0&&_s(t,0):jd|=i,ws===je&&(ws=0)),Qn(t)}function dg(t,a){a===0&&(a=sm()),t=ga(t,a),t!==null&&(oi(t,a),Qn(t))}function lS(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),dg(t,i)}function uS(t,a){var i=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(a),dg(t,i)}function cS(t,a){return Gu(t,a)}var kl=null,Es=null,Ud=!1,Dl=!1,Ld=!1,Xr=0;function Qn(t){t!==Es&&t.next===null&&(Es===null?kl=Es=t:Es=Es.next=t),Dl=!0,Ud||(Ud=!0,fS())}function Pi(t,a){if(!Ld&&Dl){Ld=!0;do for(var i=!1,l=kl;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var v=l.suspendedLanes,x=l.pingedLanes;h=(1<<31-dn(42|t)+1)-1,h&=f&~(v&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,pg(l,h))}else h=je,h=Io(l,l===Ke?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ii(l,h)||(i=!0,pg(l,h));l=l.next}while(i);Ld=!1}}function dS(){fg()}function fg(){Dl=Ud=!1;var t=0;Xr!==0&&_S()&&(t=Xr);for(var a=un(),i=null,l=kl;l!==null;){var f=l.next,h=hg(l,a);h===0?(l.next=null,i===null?kl=f:i.next=f,f===null&&(Es=i)):(i=l,(t!==0||(h&3)!==0)&&(Dl=!0)),l=f}St!==0&&St!==5||Pi(t),Xr!==0&&(Xr=0)}function hg(t,a){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-dn(h),x=1<<v,O=f[v];O===-1?((x&i)===0||(x&l)!==0)&&(f[v]=Bx(x,a)):O<=a&&(t.expiredLanes|=x),h&=~x}if(a=Ke,i=je,i=Io(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===a&&(He===2||He===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wu(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||ii(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(l!==null&&Wu(l),Ju(i)){case 2:case 8:i=rm;break;case 32:i=Do;break;case 268435456:i=am;break;default:i=Do}return l=mg.bind(null,t),i=Gu(i,l),t.callbackPriority=a,t.callbackNode=i,a}return l!==null&&l!==null&&Wu(l),t.callbackPriority=2,t.callbackNode=null,2}function mg(t,a){if(St!==0&&St!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Cl()&&t.callbackNode!==i)return null;var l=je;return l=Io(t,t===Ke?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(K0(t,l,a),hg(t,un()),t.callbackNode!=null&&t.callbackNode===i?mg.bind(null,t):null)}function pg(t,a){if(Cl())return null;K0(t,a,!0)}function fS(){ES(function(){(Ie&6)!==0?Gu(nm,dS):fg()})}function Md(){if(Xr===0){var t=us;t===0&&(t=Uo,Uo<<=1,(Uo&261888)===0&&(Uo=256)),Xr=t}return Xr}function gg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Po(""+t)}function yg(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function hS(t,a,i,l,f){if(a==="submit"&&i&&i.stateNode===f){var h=gg((f[Xt]||null).action),v=l.submitter;v&&(a=(a=v[Xt]||null)?gg(a.formAction):v.getAttribute("formAction"),a!==null&&(h=a,v=null));var x=new Vo("action","action",null,l,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var O=v?yg(f,v):new FormData(f);nd(i,{pending:!0,data:O,method:f.method,action:h},null,O)}}else typeof h=="function"&&(x.preventDefault(),O=v?yg(f,v):new FormData(f),nd(i,{pending:!0,data:O,method:f.method,action:h},h,O))},currentTarget:f}]})}}for(var Id=0;Id<bc.length;Id++){var Bd=bc[Id],mS=Bd.toLowerCase(),pS=Bd[0].toUpperCase()+Bd.slice(1);zn(mS,"on"+pS)}zn(Ym,"onAnimationEnd"),zn(Km,"onAnimationIteration"),zn(Jm,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(C_,"onTransitionRun"),zn(k_,"onTransitionStart"),zn(D_,"onTransitionCancel"),zn(Xm,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hi));function vg(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var h=void 0;if(a)for(var v=l.length-1;0<=v;v--){var x=l[v],O=x.instance,I=x.currentTarget;if(x=x.listener,O!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=I;try{h(f)}catch(F){Yo(F)}f.currentTarget=null,h=O}else for(v=0;v<l.length;v++){if(x=l[v],O=x.instance,I=x.currentTarget,x=x.listener,O!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=I;try{h(f)}catch(F){Yo(F)}f.currentTarget=null,h=O}}}}function Ee(t,a){var i=a[Xu];i===void 0&&(i=a[Xu]=new Set);var l=t+"__bubble";i.has(l)||(bg(a,t,2,!1),i.add(l))}function $d(t,a,i){var l=0;a&&(l|=4),bg(i,t,l,a)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Ul]){t[Ul]=!0,fm.forEach(function(i){i!=="selectionchange"&&(gS.has(i)||$d(i,!1,t),$d(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Ul]||(a[Ul]=!0,$d("selectionchange",!1,a))}}function bg(t,a,i,l){switch(Yg(a)){case 2:var f=FS;break;case 8:f=VS;break;default:f=tf}i=f.bind(null,a,i,t),f=void 0,!ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(a,i,{capture:!0,passive:f}):t.addEventListener(a,i,!0):f!==void 0?t.addEventListener(a,i,{passive:f}):t.addEventListener(a,i,!1)}function Pd(t,a,i,l,f){var h=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===f)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;x!==null;){if(v=Ga(x),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=h=v;continue e}x=x.parentNode}}l=l.return}Em(function(){var I=h,F=ac(i),Y=[];e:{var $=Qm.get(t);if($!==void 0){var H=Vo,ae=t;switch(t){case"keypress":if(qo(i)===0)break e;case"keydown":case"keyup":H=u_;break;case"focusin":ae="focus",H=cc;break;case"focusout":ae="blur",H=cc;break;case"beforeblur":case"afterblur":H=cc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=f_;break;case Ym:case Km:case Jm:H=e_;break;case Xm:H=m_;break;case"scroll":case"scrollend":H=Kx;break;case"wheel":H=g_;break;case"copy":case"cut":case"paste":H=n_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Om;break;case"toggle":case"beforetoggle":H=v_}var ue=(a&4)!==0,We=!ue&&(t==="scroll"||t==="scrollend"),U=ue?$!==null?$+"Capture":null:$;ue=[];for(var D=I,M;D!==null;){var V=D;if(M=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||M===null||U===null||(V=ci(D,U),V!=null&&ue.push(qi(D,V,M))),We)break;D=D.return}0<ue.length&&($=new H($,ae,null,i,F),Y.push({event:$,listeners:ue}))}}if((a&7)===0){e:{if($=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",$&&i!==rc&&(ae=i.relatedTarget||i.fromElement)&&(Ga(ae)||ae[Va]))break e;if((H||$)&&($=F.window===F?F:($=F.ownerDocument)?$.defaultView||$.parentWindow:window,H?(ae=i.relatedTarget||i.toElement,H=I,ae=ae?Ga(ae):null,ae!==null&&(We=u(ae),ue=ae.tag,ae!==We||ue!==5&&ue!==27&&ue!==6)&&(ae=null)):(H=null,ae=I),H!==ae)){if(ue=Nm,V="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ue=Om,V="onPointerLeave",U="onPointerEnter",D="pointer"),We=H==null?$:ui(H),M=ae==null?$:ui(ae),$=new ue(V,D+"leave",H,i,F),$.target=We,$.relatedTarget=M,V=null,Ga(F)===I&&(ue=new ue(U,D+"enter",ae,i,F),ue.target=M,ue.relatedTarget=We,V=ue),We=V,H&&ae)t:{for(ue=yS,U=H,D=ae,M=0,V=U;V;V=ue(V))M++;V=0;for(var le=D;le;le=ue(le))V++;for(;0<M-V;)U=ue(U),M--;for(;0<V-M;)D=ue(D),V--;for(;M--;){if(U===D||D!==null&&U===D.alternate){ue=U;break t}U=ue(U),D=ue(D)}ue=null}else ue=null;H!==null&&wg(Y,$,H,ue,!1),ae!==null&&We!==null&&wg(Y,We,ae,ue,!0)}}e:{if($=I?ui(I):window,H=$.nodeName&&$.nodeName.toLowerCase(),H==="select"||H==="input"&&$.type==="file")var Ue=Im;else if(Lm($))if(Bm)Ue=A_;else{Ue=j_;var se=T_}else H=$.nodeName,!H||H.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?I&&nc(I.elementType)&&(Ue=Im):Ue=N_;if(Ue&&(Ue=Ue(t,I))){Mm(Y,Ue,i,F);break e}se&&se(t,$,I),t==="focusout"&&I&&$.type==="number"&&I.memoizedProps.value!=null&&tc($,"number",$.value)}switch(se=I?ui(I):window,t){case"focusin":(Lm(se)||se.contentEditable==="true")&&(ts=se,gc=I,vi=null);break;case"focusout":vi=gc=ts=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Gm(Y,i,F);break;case"selectionchange":if(R_)break;case"keydown":case"keyup":Gm(Y,i,F)}var we;if(fc)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else es?Dm(t,i)&&(Ne="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(Rm&&i.locale!=="ko"&&(es||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&es&&(we=Tm()):(Lr=F,oc="value"in Lr?Lr.value:Lr.textContent,es=!0)),se=Ll(I,Ne),0<se.length&&(Ne=new Am(Ne,t,null,i,F),Y.push({event:Ne,listeners:se}),we?Ne.data=we:(we=Um(i),we!==null&&(Ne.data=we)))),(we=w_?x_(t,i):__(t,i))&&(Ne=Ll(I,"onBeforeInput"),0<Ne.length&&(se=new Am("onBeforeInput","beforeinput",null,i,F),Y.push({event:se,listeners:Ne}),se.data=we)),hS(Y,t,I,i,F)}vg(Y,a)})}function qi(t,a,i){return{instance:t,listener:a,currentTarget:i}}function Ll(t,a){for(var i=a+"Capture",l=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=ci(t,i),f!=null&&l.unshift(qi(t,f,h)),f=ci(t,a),f!=null&&l.push(qi(t,f,h))),t.tag===3)return l;t=t.return}return[]}function yS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wg(t,a,i,l,f){for(var h=a._reactName,v=[];i!==null&&i!==l;){var x=i,O=x.alternate,I=x.stateNode;if(x=x.tag,O!==null&&O===l)break;x!==5&&x!==26&&x!==27||I===null||(O=I,f?(I=ci(i,h),I!=null&&v.unshift(qi(i,I,O))):f||(I=ci(i,h),I!=null&&v.push(qi(i,I,O)))),i=i.return}v.length!==0&&t.push({event:a,listeners:v})}var vS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function xg(t){return(typeof t=="string"?t:""+t).replace(vS,`
`).replace(bS,"")}function _g(t,a){return a=xg(a),xg(t)===a}function Ge(t,a,i,l,f,h){switch(i){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Xa(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Xa(t,""+l);break;case"className":$o(t,"class",l);break;case"tabIndex":$o(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(t,i,l);break;case"style":_m(t,l,h);break;case"data":if(a!=="object"){$o(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Po(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(a!=="input"&&Ge(t,a,"name",f.name,f,null),Ge(t,a,"formEncType",f.formEncType,f,null),Ge(t,a,"formMethod",f.formMethod,f,null),Ge(t,a,"formTarget",f.formTarget,f,null)):(Ge(t,a,"encType",f.encType,f,null),Ge(t,a,"method",f.method,f,null),Ge(t,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Po(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=cr);break;case"onScroll":l!=null&&Ee("scroll",t);break;case"onScrollEnd":l!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=Po(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Bo(t,"popover",l);break;case"xlinkActuate":ur(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ur(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ur(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ur(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ur(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ur(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ur(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ur(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ur(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bo(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Wx.get(i)||i,Bo(t,i,l))}}function Hd(t,a,i,l,f,h){switch(i){case"style":_m(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Xa(t,l):(typeof l=="number"||typeof l=="bigint")&&Xa(t,""+l);break;case"onScroll":l!=null&&Ee("scroll",t);break;case"onScrollEnd":l!=null&&Ee("scrollend",t);break;case"onClick":l!=null&&(t.onclick=cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hm.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),h=t[Xt]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(a,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Bo(t,i,l)}}}function Lt(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var l=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var v=i[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ge(t,a,h,v,i,null)}}f&&Ge(t,a,"srcSet",i.srcSet,i,null),l&&Ge(t,a,"src",i.src,i,null);return;case"input":Ee("invalid",t);var x=h=v=f=null,O=null,I=null;for(l in i)if(i.hasOwnProperty(l)){var F=i[l];if(F!=null)switch(l){case"name":f=F;break;case"type":v=F;break;case"checked":O=F;break;case"defaultChecked":I=F;break;case"value":h=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,a));break;default:Ge(t,a,l,F,i,null)}}vm(t,h,x,O,I,v,f,!1);return;case"select":Ee("invalid",t),l=v=h=null;for(f in i)if(i.hasOwnProperty(f)&&(x=i[f],x!=null))switch(f){case"value":h=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:Ge(t,a,f,x,i,null)}a=h,i=v,t.multiple=!!l,a!=null?Ja(t,!!l,a,!1):i!=null&&Ja(t,!!l,i,!0);return;case"textarea":Ee("invalid",t),h=f=l=null;for(v in i)if(i.hasOwnProperty(v)&&(x=i[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":f=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ge(t,a,v,x,i,null)}wm(t,l,f,h);return;case"option":for(O in i)i.hasOwnProperty(O)&&(l=i[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ge(t,a,O,l,i,null));return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(l=0;l<Hi.length;l++)Ee(Hi[l],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in i)if(i.hasOwnProperty(I)&&(l=i[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ge(t,a,I,l,i,null)}return;default:if(nc(a)){for(F in i)i.hasOwnProperty(F)&&(l=i[F],l!==void 0&&Hd(t,a,F,l,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(l=i[x],l!=null&&Ge(t,a,x,l,i,null))}function wS(t,a,i,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,x=null,O=null,I=null,F=null;for(H in i){var Y=i[H];if(i.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":O=Y;default:l.hasOwnProperty(H)||Ge(t,a,H,null,l,Y)}}for(var $ in l){var H=l[$];if(Y=i[$],l.hasOwnProperty($)&&(H!=null||Y!=null))switch($){case"type":h=H;break;case"name":f=H;break;case"checked":I=H;break;case"defaultChecked":F=H;break;case"value":v=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,a));break;default:H!==Y&&Ge(t,a,$,H,l,Y)}}ec(t,v,x,O,I,F,h,f);return;case"select":H=v=x=$=null;for(h in i)if(O=i[h],i.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":H=O;default:l.hasOwnProperty(h)||Ge(t,a,h,null,l,O)}for(f in l)if(h=l[f],O=i[f],l.hasOwnProperty(f)&&(h!=null||O!=null))switch(f){case"value":$=h;break;case"defaultValue":x=h;break;case"multiple":v=h;default:h!==O&&Ge(t,a,f,h,l,O)}a=x,i=v,l=H,$!=null?Ja(t,!!i,$,!1):!!l!=!!i&&(a!=null?Ja(t,!!i,a,!0):Ja(t,!!i,i?[]:"",!1));return;case"textarea":H=$=null;for(x in i)if(f=i[x],i.hasOwnProperty(x)&&f!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ge(t,a,x,null,l,f)}for(v in l)if(f=l[v],h=i[v],l.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":$=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Ge(t,a,v,f,l,h)}bm(t,$,H);return;case"option":for(var ae in i)$=i[ae],i.hasOwnProperty(ae)&&$!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:Ge(t,a,ae,null,l,$));for(O in l)$=l[O],H=i[O],l.hasOwnProperty(O)&&$!==H&&($!=null||H!=null)&&(O==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":Ge(t,a,O,$,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in i)$=i[ue],i.hasOwnProperty(ue)&&$!=null&&!l.hasOwnProperty(ue)&&Ge(t,a,ue,null,l,$);for(I in l)if($=l[I],H=i[I],l.hasOwnProperty(I)&&$!==H&&($!=null||H!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,a));break;default:Ge(t,a,I,$,l,H)}return;default:if(nc(a)){for(var We in i)$=i[We],i.hasOwnProperty(We)&&$!==void 0&&!l.hasOwnProperty(We)&&Hd(t,a,We,void 0,l,$);for(F in l)$=l[F],H=i[F],!l.hasOwnProperty(F)||$===H||$===void 0&&H===void 0||Hd(t,a,F,$,l,H);return}}for(var U in i)$=i[U],i.hasOwnProperty(U)&&$!=null&&!l.hasOwnProperty(U)&&Ge(t,a,U,null,l,$);for(Y in l)$=l[Y],H=i[Y],!l.hasOwnProperty(Y)||$===H||$==null&&H==null||Ge(t,a,Y,$,l,H)}function Sg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var f=i[l],h=f.transferSize,v=f.initiatorType,x=f.duration;if(h&&x&&Sg(v)){for(v=0,x=f.responseEnd,l+=1;l<i.length;l++){var O=i[l],I=O.startTime;if(I>x)break;var F=O.transferSize,Y=O.initiatorType;F&&Sg(Y)&&(O=O.responseEnd,v+=F*(O<x?1:(x-I)/(O-I)))}if(--l,a+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qd=null,Fd=null;function Ml(t){return t.nodeType===9?t:t.ownerDocument}function Eg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tg(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Vd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gd=null;function _S(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var jg=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(t){return Ng.resolve(null).then(t).catch(TS)}:jg;function TS(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function Ag(t,a){var i=a,l=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(l===0){t.removeChild(f),As(a);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Fi(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Fi(i);for(var h=i.firstChild;h;){var v=h.nextSibling,x=h.nodeName;h[li]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=v}}else i==="body"&&Fi(t.ownerDocument.body);i=f}while(i);As(a)}function Og(t,a){var i=t;t=0;do{var l=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=l}while(i)}function Wd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wd(i),Qu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function jS(t,a,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function NS(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function Rg(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function AS(t,a){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||i.readyState!=="loading")a();else{var l=function(){a(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Jd=null;function Cg(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(a===0)return Dn(t.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}t=t.nextSibling}return null}function kg(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return t;a--}else i!=="/$"&&i!=="/&"||a++}t=t.previousSibling}return null}function Dg(t,a,i){switch(a=Ml(i),t){case"html":if(t=a.documentElement,!t)throw Error(s(452));return t;case"head":if(t=a.head,!t)throw Error(s(453));return t;case"body":if(t=a.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fi(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Qu(t)}var Un=new Map,Ug=new Set;function Il(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var jr=Q.d;Q.d={f:OS,r:RS,D:CS,C:kS,L:DS,m:US,X:MS,S:LS,M:IS};function OS(){var t=jr.f(),a=Al();return t||a}function RS(t){var a=Wa(t);a!==null&&a.tag===5&&a.type==="form"?Xp(a):jr.r(t)}var Ts=typeof document>"u"?null:document;function Lg(t,a,i){var l=Ts;if(l&&typeof a=="string"&&a){var f=jn(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Ug.has(f)||(Ug.add(f),t={rel:t,crossOrigin:i,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),Lt(a,"link",t),Ot(a),l.head.appendChild(a)))}}function CS(t){jr.D(t),Lg("dns-prefetch",t,null)}function kS(t,a){jr.C(t,a),Lg("preconnect",t,a)}function DS(t,a,i){jr.L(t,a,i);var l=Ts;if(l&&t&&a){var f='link[rel="preload"][as="'+jn(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+jn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+jn(i.imageSizes)+'"]')):f+='[href="'+jn(t)+'"]';var h=f;switch(a){case"style":h=js(t);break;case"script":h=Ns(t)}Un.has(h)||(t=b({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),Un.set(h,t),l.querySelector(f)!==null||a==="style"&&l.querySelector(Vi(h))||a==="script"&&l.querySelector(Gi(h))||(a=l.createElement("link"),Lt(a,"link",t),Ot(a),l.head.appendChild(a)))}}function US(t,a){jr.m(t,a);var i=Ts;if(i&&t){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(t)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ns(t)}if(!Un.has(h)&&(t=b({rel:"modulepreload",href:t},a),Un.set(h,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Gi(h)))return}l=i.createElement("link"),Lt(l,"link",t),Ot(l),i.head.appendChild(l)}}}function LS(t,a,i){jr.S(t,a,i);var l=Ts;if(l&&t){var f=Ya(l).hoistableStyles,h=js(t);a=a||"default";var v=f.get(h);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Vi(h)))x.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":a},i),(i=Un.get(h))&&Xd(t,i);var O=v=l.createElement("link");Ot(O),Lt(O,"link",t),O._p=new Promise(function(I,F){O.onload=I,O.onerror=F}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Bl(v,a,l)}v={type:"stylesheet",instance:v,count:1,state:x},f.set(h,v)}}}function MS(t,a){jr.X(t,a);var i=Ts;if(i&&t){var l=Ya(i).hoistableScripts,f=Ns(t),h=l.get(f);h||(h=i.querySelector(Gi(f)),h||(t=b({src:t,async:!0},a),(a=Un.get(f))&&Qd(t,a),h=i.createElement("script"),Ot(h),Lt(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function IS(t,a){jr.M(t,a);var i=Ts;if(i&&t){var l=Ya(i).hoistableScripts,f=Ns(t),h=l.get(f);h||(h=i.querySelector(Gi(f)),h||(t=b({src:t,async:!0,type:"module"},a),(a=Un.get(f))&&Qd(t,a),h=i.createElement("script"),Ot(h),Lt(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function Mg(t,a,i,l){var f=(f=_e.current)?Il(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=js(i.href),i=Ya(f).hoistableStyles,l=i.get(a),l||(l={type:"style",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=js(i.href);var h=Ya(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(Vi(t)))&&!h._p&&(v.instance=h,v.state.loading=5),Un.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Un.set(t,i),h||BS(f,t,i,v.state))),a&&l===null)throw Error(s(528,""));return v}if(a&&l!==null)throw Error(s(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ns(i),i=Ya(f).hoistableScripts,l=i.get(a),l||(l={type:"script",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function js(t){return'href="'+jn(t)+'"'}function Vi(t){return'link[rel="stylesheet"]['+t+"]"}function Ig(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function BS(t,a,i,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Lt(a,"link",i),Ot(a),t.head.appendChild(a))}function Ns(t){return'[src="'+jn(t)+'"]'}function Gi(t){return"script[async]"+t}function Bg(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+jn(i.href)+'"]');if(l)return a.instance=l,Ot(l),l;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),Lt(l,"style",f),Bl(l,i.precedence,t),a.instance=l;case"stylesheet":f=js(i.href);var h=t.querySelector(Vi(f));if(h)return a.state.loading|=4,a.instance=h,Ot(h),h;l=Ig(i),(f=Un.get(f))&&Xd(l,f),h=(t.ownerDocument||t).createElement("link"),Ot(h);var v=h;return v._p=new Promise(function(x,O){v.onload=x,v.onerror=O}),Lt(h,"link",l),a.state.loading|=4,Bl(h,i.precedence,t),a.instance=h;case"script":return h=Ns(i.src),(f=t.querySelector(Gi(h)))?(a.instance=f,Ot(f),f):(l=i,(f=Un.get(h))&&(l=b({},i),Qd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ot(f),Lt(f,"link",l),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Bl(l,i.precedence,t));return a.instance}function Bl(t,a,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===a)h=x;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function Xd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Qd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var $l=null;function $g(t,a,i){if($l===null){var l=new Map,f=$l=new Map;f.set(i,l)}else f=$l,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var h=i[f];if(!(h[li]||h[Ct]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(a)||"";v=t+v;var x=l.get(v);x?x.push(h):l.set(v,[h])}}return l}function zg(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function $S(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Pg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zS(t,a,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=js(l.href),h=a.querySelector(Vi(f));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=zl.bind(t),a.then(t,t)),i.state.loading|=4,i.instance=h,Ot(h);return}h=a.ownerDocument||a,l=Ig(l),(f=Un.get(f))&&Xd(l,f),h=h.createElement("link"),Ot(h);var v=h;v._p=new Promise(function(x,O){v.onload=x,v.onerror=O}),Lt(h,"link",l),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=zl.bind(t),a.addEventListener("load",i),a.addEventListener("error",i))}}var Zd=0;function PS(t,a){return t.stylesheets&&t.count===0&&Hl(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var l=setTimeout(function(){if(t.stylesheets&&Hl(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+a);0<t.imgBytes&&Zd===0&&(Zd=62500*xS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hl(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Zd?50:800)+a);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pl=null;function Hl(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pl=new Map,a.forEach(HS,t),Pl=null,zl.call(t))}function HS(t,a){if(!(a.state.loading&4)){var i=Pl.get(t);if(i)var l=i.get(null);else{i=new Map,Pl.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}f=a.instance,v=f.getAttribute("data-precedence"),h=i.get(v)||l,h===l&&i.set(null,f),i.set(v,f),this.count++,l=zl.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Wi={$$typeof:N,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function qS(t,a,i,l,f,h,v,x,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.hiddenUpdates=Yu(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Hg(t,a,i,l,f,h,v,x,O,I,F,Y){return t=new qS(t,a,i,v,O,I,F,Y,x),a=1,h===!0&&(a|=24),h=hn(3,null,null,a),t.current=h,h.stateNode=t,a=kc(),a.refCount++,t.pooledCache=a,a.refCount++,h.memoizedState={element:l,isDehydrated:i,cache:a},Mc(h),t}function qg(t){return t?(t=as,t):as}function Fg(t,a,i,l,f,h){f=qg(f),l.context===null?l.context=f:l.pendingContext=f,l=Pr(a),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Hr(t,l,a),i!==null&&(rn(i,t,a),Ti(i,t,a))}function Vg(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function ef(t,a){Vg(t,a),(t=t.alternate)&&Vg(t,a)}function Gg(t){if(t.tag===13||t.tag===31){var a=ga(t,67108864);a!==null&&rn(a,t,67108864),ef(t,67108864)}}function Wg(t){if(t.tag===13||t.tag===31){var a=vn();a=Ku(a);var i=ga(t,a);i!==null&&rn(i,t,a),ef(t,a)}}var ql=!0;function FS(t,a,i,l){var f=z.T;z.T=null;var h=Q.p;try{Q.p=2,tf(t,a,i,l)}finally{Q.p=h,z.T=f}}function VS(t,a,i,l){var f=z.T;z.T=null;var h=Q.p;try{Q.p=8,tf(t,a,i,l)}finally{Q.p=h,z.T=f}}function tf(t,a,i,l){if(ql){var f=nf(l);if(f===null)Pd(t,a,l,Fl,i),Kg(t,l);else if(WS(f,t,a,i,l))l.stopPropagation();else if(Kg(t,l),a&4&&-1<GS.indexOf(t)){for(;f!==null;){var h=Wa(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=da(h.pendingLanes);if(v!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var O=1<<31-dn(v);x.entanglements[1]|=O,v&=~O}Qn(h),(Ie&6)===0&&(jl=un()+500,Pi(0))}}break;case 31:case 13:x=ga(h,2),x!==null&&rn(x,h,2),Al(),ef(h,2)}if(h=nf(l),h===null&&Pd(t,a,l,Fl,i),h===f)break;f=h}f!==null&&l.stopPropagation()}else Pd(t,a,l,null,i)}}function nf(t){return t=ac(t),rf(t)}var Fl=null;function rf(t){if(Fl=null,t=Ga(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=c(a),t!==null)return t;t=null}else if(i===31){if(t=m(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Fl=t,null}function Yg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cx()){case nm:return 2;case rm:return 8;case Do:case kx:return 32;case am:return 268435456;default:return 32}default:return 32}}var af=!1,Zr=null,ea=null,ta=null,Yi=new Map,Ki=new Map,na=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(t,a){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Yi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(a.pointerId)}}function Ji(t,a,i,l,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:a,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},a!==null&&(a=Wa(a),a!==null&&Gg(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function WS(t,a,i,l,f){switch(a){case"focusin":return Zr=Ji(Zr,t,a,i,l,f),!0;case"dragenter":return ea=Ji(ea,t,a,i,l,f),!0;case"mouseover":return ta=Ji(ta,t,a,i,l,f),!0;case"pointerover":var h=f.pointerId;return Yi.set(h,Ji(Yi.get(h)||null,t,a,i,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Ki.set(h,Ji(Ki.get(h)||null,t,a,i,l,f)),!0}return!1}function Jg(t){var a=Ga(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=c(i),a!==null){t.blockedOn=a,cm(t.priority,function(){Wg(i)});return}}else if(a===31){if(a=m(i),a!==null){t.blockedOn=a,cm(t.priority,function(){Wg(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vl(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=nf(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);rc=l,i.target.dispatchEvent(l),rc=null}else return a=Wa(i),a!==null&&Gg(a),t.blockedOn=i,!1;a.shift()}return!0}function Xg(t,a,i){Vl(t)&&i.delete(a)}function YS(){af=!1,Zr!==null&&Vl(Zr)&&(Zr=null),ea!==null&&Vl(ea)&&(ea=null),ta!==null&&Vl(ta)&&(ta=null),Yi.forEach(Xg),Ki.forEach(Xg)}function Gl(t,a){t.blockedOn===a&&(t.blockedOn=null,af||(af=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YS)))}var Wl=null;function Qg(t){Wl!==t&&(Wl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wl===t&&(Wl=null);for(var a=0;a<t.length;a+=3){var i=t[a],l=t[a+1],f=t[a+2];if(typeof l!="function"){if(rf(l||i)===null)continue;break}var h=Wa(i);h!==null&&(t.splice(a,3),a-=3,nd(h,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function As(t){function a(O){return Gl(O,t)}Zr!==null&&Gl(Zr,t),ea!==null&&Gl(ea,t),ta!==null&&Gl(ta,t),Yi.forEach(a),Ki.forEach(a);for(var i=0;i<na.length;i++){var l=na[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<na.length&&(i=na[0],i.blockedOn===null);)Jg(i),i.blockedOn===null&&na.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],h=i[l+1],v=f[Xt]||null;if(typeof h=="function")v||Qg(i);else if(v){var x=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Xt]||null)x=v.formAction;else if(rf(f)!==null)continue}else x=v.action;typeof x=="function"?i[l+1]=x:(i.splice(l,3),l-=3),Qg(i)}}}function Zg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function sf(t){this._internalRoot=t}Yl.prototype.render=sf.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));var i=a.current,l=vn();Fg(i,l,t,a,null,null)},Yl.prototype.unmount=sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Fg(t.current,2,null,t,null,null),Al(),a[Va]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var a=um();t={blockedOn:null,target:t,priority:a};for(var i=0;i<na.length&&a!==0&&a<na[i].priority;i++);na.splice(i,0,t),i===0&&Jg(t)}};var ey=e.version;if(ey!=="19.2.3")throw Error(s(527,ey,"19.2.3"));Q.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(a),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var KS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{si=Kl.inject(KS),cn=Kl}catch{}}return Qi.createRoot=function(t,a){if(!o(t))throw Error(s(299));var i=!1,l="",f=o0,h=l0,v=u0;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Hg(t,1,!1,null,null,i,l,null,f,h,v,Zg),t[Va]=a.current,zd(t),new sf(a)},Qi.hydrateRoot=function(t,a,i){if(!o(t))throw Error(s(299));var l=!1,f="",h=o0,v=l0,x=u0,O=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),a=Hg(t,1,!0,a,i??null,l,f,O,h,v,x,Zg),a.context=qg(null),i=a.current,l=vn(),l=Ku(l),f=Pr(l),f.callback=null,Hr(i,f,l),i=l,a.current.lanes=i,oi(a,i),Qn(a),t[Va]=a.current,zd(t),new Yl(a)},Qi.version="19.2.3",Qi}var cy;function s1(){if(cy)return uf.exports;cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uf.exports=a1(),uf.exports}var i1=s1();var dy="popstate";function o1(n={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return Bf("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:co(o)}return u1(e,r,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l1(){return Math.random().toString(36).substring(2,10)}function fy(n,e){return{usr:n.state,key:n.key,idx:e}}function Bf(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Js(e):e,state:r,key:e&&e.key||s||l1()}}function co({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Js(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function u1(n,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",g=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function b(){m="POP";let S=y(),A=S==null?null:S-p;p=S,g&&g({action:m,location:T.location,delta:A})}function w(S,A){m="PUSH";let j=Bf(T.location,S,A);p=y()+1;let N=fy(j,p),R=T.createHref(j);try{c.pushState(N,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(R)}u&&g&&g({action:m,location:T.location,delta:1})}function E(S,A){m="REPLACE";let j=Bf(T.location,S,A);p=y();let N=fy(j,p),R=T.createHref(j);c.replaceState(N,"",R),u&&g&&g({action:m,location:T.location,delta:0})}function _(S){return c1(S)}let T={get action(){return m},get location(){return n(o,c)},listen(S){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(dy,b),g=S,()=>{o.removeEventListener(dy,b),g=null}},createHref(S){return e(o,S)},createURL:_,encodeLocation(S){let A=_(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:E,go(S){return c.go(S)}};return T}function c1(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),at(r,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:co(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Pv(n,e,r="/"){return d1(n,e,r,!1)}function d1(n,e,r,s){let o=typeof e=="string"?Js(e):e,u=Rr(o.pathname||"/",r);if(u==null)return null;let c=Hv(n);f1(c);let m=null;for(let g=0;m==null&&g<c.length;++g){let p=S1(u);m=x1(c[g],p,s)}return m}function Hv(n,e=[],r=[],s="",o=!1){let u=(c,m,g=o,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&g)return;at(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Ar([s,y.relativePath]),w=r.concat(y);c.children&&c.children.length>0&&(at(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Hv(c.children,e,w,b,g)),!(c.path==null&&!c.index)&&e.push({path:b,score:b1(b,c.index),routesMeta:w})};return n.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let g of qv(c.path))u(c,m,!0,g)}),e}function qv(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=qv(s.join("/")),m=[];return m.push(...c.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...c),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function f1(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:w1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var h1=/^:[\w-]+$/,m1=3,p1=2,g1=1,y1=10,v1=-2,hy=n=>n==="*";function b1(n,e){let r=n.split("/"),s=r.length;return r.some(hy)&&(s+=v1),e&&(s+=p1),r.filter(o=>!hy(o)).reduce((o,u)=>o+(h1.test(u)?m1:u===""?g1:y1),s)}function w1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function x1(n,e,r=!1){let{routesMeta:s}=n,o={},u="/",c=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",b=mu({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),w=g.route;if(!b&&p&&r&&!s[s.length-1].route.index&&(b=mu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Ar([u,b.pathname]),pathnameBase:N1(Ar([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Ar([u,b.pathnameBase]))}return c}function mu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=_1(n.path,n.caseSensitive,n.end),o=e.match(r);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:b},w)=>{if(y==="*"){let _=m[w]||"";c=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const E=m[w];return b&&!E?p[y]=void 0:p[y]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function _1(n,e=!1,r=!0){Gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function S1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E1=n=>Fv.test(n);function T1(n,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof n=="string"?Js(n):n,u;if(r)if(E1(r))u=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?u=my(r.substring(1),"/"):u=my(r,e)}else u=e;return{pathname:u,search:A1(s),hash:O1(o)}}function my(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function hf(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j1(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Vv(n){let e=j1(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Gv(n,e,r,s=!1){let o;typeof n=="string"?o=Js(n):(o={...n},at(!o.pathname||!o.pathname.includes("?"),hf("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),hf("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),hf("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=r;else{let b=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=T1(o,m),p=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var Ar=n=>n.join("/").replace(/\/\/+/g,"/"),N1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,R1=class{constructor(n,e,r,s=!1){this.status=n,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function C1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function k1(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yv(n,e){let r=n;if(typeof r!="string"||!Fv.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,o=!1;if(Wv)try{let u=new URL(window.location.href),c=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=Rr(c.pathname,e);c.origin===u.origin&&m!=null?r=m+c.search+c.hash:o=!0}catch{Gn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var D1=["GET",...Kv];new Set(D1);var Xs=C.createContext(null);Xs.displayName="DataRouter";var Eu=C.createContext(null);Eu.displayName="DataRouterState";var U1=C.createContext(!1),Jv=C.createContext({isTransitioning:!1});Jv.displayName="ViewTransition";var L1=C.createContext(new Map);L1.displayName="Fetchers";var M1=C.createContext(null);M1.displayName="Await";var $n=C.createContext(null);$n.displayName="Navigation";var wo=C.createContext(null);wo.displayName="Location";var sr=C.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var gh=C.createContext(null);gh.displayName="RouteError";var Xv="REACT_ROUTER_ERROR",I1="REDIRECT",B1="ROUTE_ERROR_RESPONSE";function $1(n){if(n.startsWith(`${Xv}:${I1}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function z1(n){if(n.startsWith(`${Xv}:${B1}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new R1(e.status,e.statusText,e.data)}catch{}}function P1(n,{relative:e}={}){at(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=C.useContext($n),{hash:o,pathname:u,search:c}=_o(n,{relative:e}),m=u;return r!=="/"&&(m=u==="/"?r:Ar([r,u])),s.createHref({pathname:m,search:c,hash:o})}function xo(){return C.useContext(wo)!=null}function la(){return at(xo(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(wo).location}var Qv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(n){C.useContext($n).static||C.useLayoutEffect(n)}function Tu(){let{isDataRoute:n}=C.useContext(sr);return n?tE():H1()}function H1(){at(xo(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Xs),{basename:e,navigator:r}=C.useContext($n),{matches:s}=C.useContext(sr),{pathname:o}=la(),u=JSON.stringify(Vv(s)),c=C.useRef(!1);return Zv(()=>{c.current=!0}),C.useCallback((g,p={})=>{if(Gn(c.current,Qv),!c.current)return;if(typeof g=="number"){r.go(g);return}let y=Gv(g,JSON.parse(u),o,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ar([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,u,o,n])}C.createContext(null);function q1(){let{matches:n}=C.useContext(sr),e=n[n.length-1];return e?e.params:{}}function _o(n,{relative:e}={}){let{matches:r}=C.useContext(sr),{pathname:s}=la(),o=JSON.stringify(Vv(r));return C.useMemo(()=>Gv(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function F1(n,e){return eb(n,e)}function eb(n,e,r,s,o){at(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext($n),{matches:c}=C.useContext(sr),m=c[c.length-1],g=m?m.params:{},p=m?m.pathname:"/",y=m?m.pathnameBase:"/",b=m&&m.route;{let j=b&&b.path||"";nb(p,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=la(),E;if(e){let j=typeof e=="string"?Js(e):e;at(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=w;let _=E.pathname||"/",T=_;if(y!=="/"){let j=y.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=Pv(n,{pathname:T});Gn(b||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Gn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=K1(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:Ar([y,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Ar([y,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,r,s,o);return e&&A?C.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},A):A}function V1(){let n=eE(),e=C1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:o},r):null,c)}var G1=C.createElement(V1,null),tb=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=z1(n.digest);r&&(n=r)}let e=n!==void 0?C.createElement(sr.Provider,{value:this.props.routeContext},C.createElement(gh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?C.createElement(W1,{error:n},e):e}};tb.contextType=U1;var mf=new WeakMap;function W1({children:n,error:e}){let{basename:r}=C.useContext($n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=$1(e.digest);if(s){let o=mf.get(e);if(o)throw o;let u=Yv(s.location,r);if(Wv&&!mf.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw mf.set(e,c),c}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function Y1({routeContext:n,match:e,children:r}){let s=C.useContext(Xs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(sr.Provider,{value:n},r)}function K1(n,e=[],r=null,s=null,o=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let u=n,c=r?.errors;if(c!=null){let y=u.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);at(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(r)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:w,errors:E}=r,_=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||_){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=r&&s?(y,b)=>{s(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:k1(r.matches),errorInfo:b})}:void 0;return u.reduceRight((y,b,w)=>{let E,_=!1,T=null,S=null;r&&(E=c&&b.route.id?c[b.route.id]:void 0,T=b.route.errorElement||G1,m&&(g<0&&w===0?(nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):g===w&&(_=!0,S=b.route.hydrateFallbackElement||null)));let A=e.concat(u.slice(0,w+1)),j=()=>{let N;return E?N=T:_?N=S:b.route.Component?N=C.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=y,C.createElement(Y1,{match:b,routeContext:{outlet:y,matches:A,isDataRoute:r!=null},children:N})};return r&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?C.createElement(tb,{location:r.location,revalidation:r.revalidation,component:T,error:E,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:p}):j()},null)}function yh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(n){let e=C.useContext(Xs);return at(e,yh(n)),e}function X1(n){let e=C.useContext(Eu);return at(e,yh(n)),e}function Q1(n){let e=C.useContext(sr);return at(e,yh(n)),e}function vh(n){let e=Q1(n),r=e.matches[e.matches.length-1];return at(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function Z1(){return vh("useRouteId")}function eE(){let n=C.useContext(gh),e=X1("useRouteError"),r=vh("useRouteError");return n!==void 0?n:e.errors?.[r]}function tE(){let{router:n}=J1("useNavigate"),e=vh("useNavigate"),r=C.useRef(!1);return Zv(()=>{r.current=!0}),C.useCallback(async(o,u={})=>{Gn(r.current,Qv),r.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var py={};function nb(n,e,r){!e&&!py[n]&&(py[n]=!0,Gn(!1,r))}C.memo(nE);function nE({routes:n,future:e,state:r,onError:s}){return eb(n,void 0,r,s,e)}function Mn(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rE({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){at(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof r=="string"&&(r=Js(r));let{pathname:p="/",search:y="",hash:b="",state:w=null,key:E="default"}=r,_=C.useMemo(()=>{let T=Rr(p,m);return T==null?null:{location:{pathname:T,search:y,hash:b,state:w,key:E},navigationType:s}},[m,p,y,b,w,E,s]);return Gn(_!=null,`<Router basename="${m}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:C.createElement($n.Provider,{value:g},C.createElement(wo.Provider,{children:e,value:_}))}function aE({children:n,location:e}){return F1($f(n),e)}function $f(n,e=[]){let r=[];return C.Children.forEach(n,(s,o)=>{if(!C.isValidElement(s))return;let u=[...e,o];if(s.type===C.Fragment){r.push.apply(r,$f(s.props.children,u));return}at(s.type===Mn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=$f(s.props.children,u)),r.push(c)}),r}var su="get",iu="application/x-www-form-urlencoded";function ju(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function sE(n){return ju(n)&&n.tagName.toLowerCase()==="button"}function iE(n){return ju(n)&&n.tagName.toLowerCase()==="form"}function oE(n){return ju(n)&&n.tagName.toLowerCase()==="input"}function lE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uE(n,e){return n.button===0&&(!e||e==="_self")&&!lE(n)}var Jl=null;function cE(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var dE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pf(n){return n!=null&&!dE.has(n)?(Gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):n}function fE(n,e){let r,s,o,u,c;if(iE(n)){let m=n.getAttribute("action");s=m?Rr(m,e):null,r=n.getAttribute("method")||su,o=pf(n.getAttribute("enctype"))||iu,u=new FormData(n)}else if(sE(n)||oE(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(s=g?Rr(g,e):null,r=n.getAttribute("formmethod")||m.getAttribute("method")||su,o=pf(n.getAttribute("formenctype"))||pf(m.getAttribute("enctype"))||iu,u=new FormData(m,n),!cE()){let{name:p,type:y,value:b}=n;if(y==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(ju(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=su,s=null,o=iu,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hE(n,e,r,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Rr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function mE(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gE(n,e,r){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await mE(u,r);return c.links?c.links():[]}return[]}));return wE(s.flat(1).filter(pE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(n,e,r,s,o,u){let c=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,m=(g,p)=>r[p].pathname!==g.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>c(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let y=s.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(c(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yE(n,e,{includeHydrateFallback:r}={}){return vE(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function vE(n){return[...new Set(n)]}function bE(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function wE(n,e){let r=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(bE(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function rb(){let n=C.useContext(Xs);return bh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xE(){let n=C.useContext(Eu);return bh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wh=C.createContext(void 0);wh.displayName="FrameworkContext";function ab(){let n=C.useContext(wh);return bh(n,"You must render this element inside a <HydratedRouter> element"),n}function _E(n,e){let r=C.useContext(wh),[s,o]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,w=C.useRef(null);C.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=A=>{A.forEach(j=>{c(j.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[n]),C.useEffect(()=>{if(s){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[s]);let E=()=>{o(!0)},_=()=>{o(!1),c(!1)};return r?n!=="intent"?[u,w,{}]:[u,w,{onFocus:Zi(m,E),onBlur:Zi(g,_),onMouseEnter:Zi(p,E),onMouseLeave:Zi(y,_),onTouchStart:Zi(b,E)}]:[!1,w,{}]}function Zi(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function SE({page:n,...e}){let{router:r}=rb(),s=C.useMemo(()=>Pv(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?C.createElement(TE,{page:n,matches:s,...e}):null}function EE(n){let{manifest:e,routeModules:r}=ab(),[s,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return gE(n,e,r).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,r]),s}function TE({page:n,matches:e,...r}){let s=la(),{future:o,manifest:u,routeModules:c}=ab(),{basename:m}=rb(),{loaderData:g,matches:p}=xE(),y=C.useMemo(()=>gy(n,e,p,u,s,"data"),[n,e,p,u,s]),b=C.useMemo(()=>gy(n,e,p,u,s,"assets"),[n,e,p,u,s]),w=C.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let T=new Set,S=!1;if(e.forEach(j=>{let N=u.routes[j.route.id];!N||!N.hasLoader||(!y.some(R=>R.route.id===j.route.id)&&j.route.id in g&&c[j.route.id]?.shouldRevalidate||N.hasClientLoader?S=!0:T.add(j.route.id))}),T.size===0)return[];let A=hE(n,m,o.unstable_trailingSlashAwareDataRequests,"data");return S&&T.size>0&&A.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,y,e,n,c]),E=C.useMemo(()=>yE(b,u),[b,u]),_=EE(b);return C.createElement(C.Fragment,null,w.map(T=>C.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),E.map(T=>C.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),_.map(({key:T,link:S})=>C.createElement("link",{key:T,nonce:r.nonce,...S})))}function jE(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NE&&(window.__reactRouterVersion="7.12.0")}catch{}function AE({basename:n,children:e,unstable_useTransitions:r,window:s}){let o=C.useRef();o.current==null&&(o.current=o1({window:s,v5Compat:!0}));let u=o.current,[c,m]=C.useState({action:u.action,location:u.location}),g=C.useCallback(p=>{r===!1?m(p):C.startTransition(()=>m(p))},[r]);return C.useLayoutEffect(()=>u.listen(g),[u,g]),C.createElement(rE,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:r})}var sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=C.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:g,to:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},_){let{basename:T,unstable_useTransitions:S}=C.useContext($n),A=typeof p=="string"&&sb.test(p),j=Yv(p,T);p=j.to;let N=P1(p,{relative:o}),[R,L,q]=_E(s,E),B=kE(p,{replace:c,state:m,target:g,preventScrollReset:y,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:S});function J(ee){e&&e(ee),ee.defaultPrevented||B(ee)}let K=C.createElement("a",{...E,...q,href:j.absoluteURL||N,onClick:j.isExternal||u?e:J,ref:jE(_,L),target:g,"data-discover":!A&&r==="render"?"true":void 0});return R&&!A?C.createElement(C.Fragment,null,K,C.createElement(SE,{page:N})):K});an.displayName="Link";var OE=C.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:g,...p},y){let b=_o(c,{relative:p.relative}),w=la(),E=C.useContext(Eu),{navigator:_,basename:T}=C.useContext($n),S=E!=null&&IE(b)&&m===!0,A=_.encodeLocation?_.encodeLocation(b).pathname:b.pathname,j=w.pathname,N=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(j=j.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&T&&(N=Rr(N,T)||N);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=j===A||!o&&j.startsWith(A)&&j.charAt(R)==="/",q=N!=null&&(N===A||!o&&N.startsWith(A)&&N.charAt(A.length)==="/"),B={isActive:L,isPending:q,isTransitioning:S},J=L?e:void 0,K;typeof s=="function"?K=s(B):K=[s,L?"active":null,q?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(B):u;return C.createElement(an,{...p,"aria-current":J,className:K,ref:y,style:ee,to:c,viewTransition:m},typeof g=="function"?g(B):g)});OE.displayName="NavLink";var RE=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:c=su,action:m,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},_)=>{let{unstable_useTransitions:T}=C.useContext($n),S=LE(),A=ME(m,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",N=typeof m=="string"&&sb.test(m),R=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,B=q?.getAttribute("formmethod")||c,J=()=>S(q||L.currentTarget,{fetcherKey:e,method:B,navigate:r,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w});T&&r!==!1?C.startTransition(()=>J()):J()};return C.createElement("form",{ref:_,method:j,action:A,onSubmit:s?g:R,...E,"data-discover":!N&&n==="render"?"true":void 0})});RE.displayName="Form";function CE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ib(n){let e=C.useContext(Xs);return at(e,CE(n)),e}function kE(n,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Tu(),y=la(),b=_o(n,{relative:u});return C.useCallback(w=>{if(uE(w,e)){w.preventDefault();let E=r!==void 0?r:co(y)===co(b),_=()=>p(n,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});g?C.startTransition(()=>_()):_()}},[y,p,b,r,s,e,n,o,u,c,m,g])}var DE=0,UE=()=>`__${String(++DE)}__`;function LE(){let{router:n}=ib("useSubmit"),{basename:e}=C.useContext($n),r=Z1(),s=n.fetch,o=n.navigate;return C.useCallback(async(u,c={})=>{let{action:m,method:g,encType:p,formData:y,body:b}=fE(u,e);if(c.navigate===!1){let w=c.fetcherKey||UE();await s(w,r,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,r])}function ME(n,{relative:e}={}){let{basename:r}=C.useContext($n),s=C.useContext(sr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._o(n||".",{relative:e})},c=la();if(n==null){u.search=c.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Ar([r,u.pathname])),co(u)}function IE(n,{relative:e}={}){let r=C.useContext(Jv);at(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ib("useViewTransitionState"),o=_o(n,{relative:e});if(!r.isTransitioning)return!1;let u=Rr(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=Rr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return mu(o.pathname,c)!=null||mu(o.pathname,u)!=null}var Bt=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Yt={searchParams:"URLSearchParams"in Bt,iterable:"Symbol"in Bt&&"iterator"in Symbol,blob:"FileReader"in Bt&&"Blob"in Bt&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in Bt,arrayBuffer:"ArrayBuffer"in Bt};function BE(n){return n&&DataView.prototype.isPrototypeOf(n)}if(Yt.arrayBuffer)var $E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],zE=ArrayBuffer.isView||function(n){return n&&$E.indexOf(Object.prototype.toString.call(n))>-1};function Qs(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||n==="")throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function xh(n){return typeof n!="string"&&(n=String(n)),n}function _h(n){var e={next:function(){var r=n.shift();return{done:r===void 0,value:r}}};return Yt.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Nt(n){this.map={},n instanceof Nt?n.forEach(function(e,r){this.append(r,e)},this):Array.isArray(n)?n.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(e){this.append(e,n[e])},this)}Nt.prototype.append=function(n,e){n=Qs(n),e=xh(e);var r=this.map[n];this.map[n]=r?r+", "+e:e};Nt.prototype.delete=function(n){delete this.map[Qs(n)]};Nt.prototype.get=function(n){return n=Qs(n),this.has(n)?this.map[n]:null};Nt.prototype.has=function(n){return this.map.hasOwnProperty(Qs(n))};Nt.prototype.set=function(n,e){this.map[Qs(n)]=xh(e)};Nt.prototype.forEach=function(n,e){for(var r in this.map)this.map.hasOwnProperty(r)&&n.call(e,this.map[r],r,this)};Nt.prototype.keys=function(){var n=[];return this.forEach(function(e,r){n.push(r)}),_h(n)};Nt.prototype.values=function(){var n=[];return this.forEach(function(e){n.push(e)}),_h(n)};Nt.prototype.entries=function(){var n=[];return this.forEach(function(e,r){n.push([r,e])}),_h(n)};Yt.iterable&&(Nt.prototype[Symbol.iterator]=Nt.prototype.entries);function gf(n){if(!n._noBody){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}}function ob(n){return new Promise(function(e,r){n.onload=function(){e(n.result)},n.onerror=function(){r(n.error)}})}function PE(n){var e=new FileReader,r=ob(e);return e.readAsArrayBuffer(n),r}function HE(n){var e=new FileReader,r=ob(e),s=/charset=([A-Za-z0-9_-]+)/.exec(n.type),o=s?s[1]:"utf-8";return e.readAsText(n,o),r}function qE(n){for(var e=new Uint8Array(n),r=new Array(e.length),s=0;s<e.length;s++)r[s]=String.fromCharCode(e[s]);return r.join("")}function yy(n){if(n.slice)return n.slice(0);var e=new Uint8Array(n.byteLength);return e.set(new Uint8Array(n)),e.buffer}function lb(){return this.bodyUsed=!1,this._initBody=function(n){this.bodyUsed=this.bodyUsed,this._bodyInit=n,n?typeof n=="string"?this._bodyText=n:Yt.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:Yt.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:Yt.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():Yt.arrayBuffer&&Yt.blob&&BE(n)?(this._bodyArrayBuffer=yy(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Yt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||zE(n))?this._bodyArrayBuffer=yy(n):this._bodyText=n=Object.prototype.toString.call(n):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Yt.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Yt.blob&&(this.blob=function(){var n=gf(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=gf(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Yt.blob)return this.blob().then(PE);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var n=gf(this);if(n)return n;if(this._bodyBlob)return HE(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(qE(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Yt.formData&&(this.formData=function(){return this.text().then(GE)}),this.json=function(){return this.text().then(JSON.parse)},this}var FE=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function VE(n){var e=n.toUpperCase();return FE.indexOf(e)>-1?e:n}function Ha(n,e){if(!(this instanceof Ha))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(n instanceof Ha){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,e.headers||(this.headers=new Nt(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,!r&&n._bodyInit!=null&&(r=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new Nt(e.headers)),this.method=VE(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in Bt){var u=new AbortController;return u.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ha.prototype.clone=function(){return new Ha(this,{body:this._bodyInit})};function GE(n){var e=new FormData;return n.trim().split("&").forEach(function(r){if(r){var s=r.split("="),o=s.shift().replace(/\+/g," "),u=s.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(u))}}),e}function WE(n){var e=new Nt,r=n.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(s){return s.indexOf(`
`)===0?s.substr(1,s.length):s}).forEach(function(s){var o=s.split(":"),u=o.shift().trim();if(u){var c=o.join(":").trim();try{e.append(u,c)}catch(m){console.warn("Response "+m.message)}}}),e}lb.call(Ha.prototype);function ar(n,e){if(!(this instanceof ar))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new Nt(e.headers),this.url=e.url||"",this._initBody(n)}lb.call(ar.prototype);ar.prototype.clone=function(){return new ar(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Nt(this.headers),url:this.url})};ar.error=function(){var n=new ar(null,{status:200,statusText:""});return n.ok=!1,n.status=0,n.type="error",n};var YE=[301,302,303,307,308];ar.redirect=function(n,e){if(YE.indexOf(e)===-1)throw new RangeError("Invalid status code");return new ar(null,{status:e,headers:{location:n}})};var Ua=Bt.DOMException;try{new Ua}catch{Ua=function(e,r){this.message=e,this.name=r;var s=Error(e);this.stack=s.stack},Ua.prototype=Object.create(Error.prototype),Ua.prototype.constructor=Ua}function ub(n,e){return new Promise(function(r,s){var o=new Ha(n,e);if(o.signal&&o.signal.aborted)return s(new Ua("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var p={statusText:u.statusText,headers:WE(u.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(u.status<200||u.status>599)?p.status=200:p.status=u.status,p.url="responseURL"in u?u.responseURL:p.headers.get("X-Request-URL");var y="response"in u?u.response:u.responseText;setTimeout(function(){r(new ar(y,p))},0)},u.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},u.onabort=function(){setTimeout(function(){s(new Ua("Aborted","AbortError"))},0)};function m(p){try{return p===""&&Bt.location.href?Bt.location.href:p}catch{return p}}if(u.open(o.method,m(o.url),!0),o.credentials==="include"?u.withCredentials=!0:o.credentials==="omit"&&(u.withCredentials=!1),"responseType"in u&&(Yt.blob?u.responseType="blob":Yt.arrayBuffer&&(u.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof Nt||Bt.Headers&&e.headers instanceof Bt.Headers)){var g=[];Object.getOwnPropertyNames(e.headers).forEach(function(p){g.push(Qs(p)),u.setRequestHeader(p,xh(e.headers[p]))}),o.headers.forEach(function(p,y){g.indexOf(y)===-1&&u.setRequestHeader(y,p)})}else o.headers.forEach(function(p,y){u.setRequestHeader(y,p)});o.signal&&(o.signal.addEventListener("abort",c),u.onreadystatechange=function(){u.readyState===4&&o.signal.removeEventListener("abort",c)}),u.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}ub.polyfill=!0;Bt.fetch||(Bt.fetch=ub,Bt.Headers=Nt,Bt.Request=Ha,Bt.Response=ar);var zf=function(n,e){return zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},zf(n,e)};function Te(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zf(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ze=function(){return Ze=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},Ze.apply(this,arguments)};function Nu(n,e){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(r[s[o]]=n[s[o]]);return r}function X(n,e,r,s){function o(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function m(y){try{p(s.next(y))}catch(b){c(b)}}function g(y){try{p(s.throw(y))}catch(b){c(b)}}function p(y){y.done?u(y.value):o(y.value).then(m,g)}p((s=s.apply(n,e||[])).next())})}function Z(n,e){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=m(0),c.throw=m(1),c.return=m(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(p){return function(y){return g([p,y])}}function g(p){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(n,r)}catch(y){p=[6,y],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function So(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],s=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var s=r.call(n),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(m){c={error:m}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(c)throw c.error}}return u}function mt(n,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return n.concat(u||Array.prototype.slice.call(e))}function KE(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var La;(function(n){n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR"})(La||(La={}));var JE=(function(){function n(e){e===void 0&&(e=La.INFO),this.logLevel=e,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return n.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<=La.DEBUG&&(e.unshift("[DEBUG]"),this._debug.apply(this,mt([],Re(e),!1)))},n.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<=La.INFO&&(e.unshift("[INFO]"),this._info.apply(this,mt([],Re(e),!1)))},n.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<=La.WARN&&(e.unshift("[WARN]"),this._warn.apply(this,mt([],Re(e),!1)))},n.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<=La.ERROR&&(e.unshift("[ERROR]"),this._error.apply(this,mt([],Re(e),!1)))},n})(),Ce=new JE(3),XE=function(n,e){this._driver=n,this.liff=e,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},QE=function(n,e){this._driver=n,this.liff=e,this.hooks=this._driver.hooks},ZE=(function(){function n(e,r){this.pluginCtx=new QE(e,r),this.moduleCtx=new XE(e,r)}return Object.defineProperty(n.prototype,"pluginContext",{get:function(){return this.pluginCtx},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"moduleContext",{get:function(){return this.moduleCtx},enumerable:!1,configurable:!0}),n})(),e2=(function(){function n(){this.modules=new Map,this.hooks={},this.internalHooks={}}return n.prototype.addModule=function(e,r){this.modules.set(e,r),r.hooks&&(this.hooks[e]=Object.entries(r.hooks).reduce((function(s,o){var u,c=Re(o,2),m=c[0],g=c[1];return Ze(Ze({},s),((u={})[m]=g.on.bind(g),u))}),{})),"internalHooks"in r&&r.internalHooks&&(this.internalHooks[e]=Object.entries(r.internalHooks).reduce((function(s,o){var u,c=Re(o,2),m=c[0],g=c[1];return Ze(Ze({},s),((u={})[m]=g.on.bind(g),u))}),{}))},n.prototype.hasModule=function(e){return this.modules.has(e)},n})(),xe=function(){},vy=function(n){return n instanceof xe},cb=(function(n){function e(r,s,o){var u=n.call(this)||this;return u.driver=r,u.contextHolder=s,u.option=o,u}return Te(e,n),e.prototype.install=function(){return this.factory(this.driver,this.contextHolder)},Object.defineProperty(e.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),e.prototype.factory=function(r,s){var o=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(u,c){if(!u||typeof u.install!="function"||typeof u.name!="string")return Ce.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var m=vy(u)?u.name:"".concat(o).concat(u.name);if(r.hasModule(m))return this;var g=vy(u)?u.install.call(u,s.moduleContext,c):u.install.call(u,s.pluginContext,c);return this["".concat(m)]?(Ce.warn("There is a duplicate plugin name. `".concat(m,"` plugin namespace will be override.")),this["".concat(m)]=g):g!==void 0&&(this["".concat(m)]=g),r.addModule(m,u),this}},e})(xe),db,t2=new Promise((function(n){db=n})),$t="UNKNOWN",jt="UNAUTHORIZED",tt="INVALID_ARGUMENT",pt="INIT_FAILED",ze="FORBIDDEN",ir="INVALID_CONFIG",Oa="INVALID_ID_TOKEN",Pf="CREATE_SUBWINDOW_FAILED",Hf="EXCEPTION_IN_SUBWINDOW",fb="liffEvent",Wn="LIFF_STORE",pu="https://liff.".concat("line.me","/"),qf="https://miniapp.".concat("line.me","/"),De={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},by="isInClient",Sh=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],n2=5,r2=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],a2="liff://subwindow",Ye={INIT:"init",SUBMIT:"submit",CANCEL:"cancel",CLOSE:"close",ERROR:"error"},s2=100,hb=100,mb="liff.subwindow",gu="healthCheck",i2=["profile","chat_message.write","openid","email"];function wy(n){return window.atob(n.replace(/-/g,"+").replace(/_/g,"/"))}var yf={decode:wy,encode:function(n){return window.btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(n){var e=wy(n).split("").map((function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)})).join("");return decodeURIComponent(e)}};function Bn(n,e){if(n===e)return 0;for(var r=n.split("."),s=e.split("."),o=Math.max(r.length,s.length),u=0;u<o;u++){r[u]||(r[u]="0"),s[u]||(s[u]="0");var c=parseInt(r[u])-parseInt(s[u]);if(c!==0)return c>0?1:-1}return 0}function xy(n){var e=n.replace("#","").match(/.{2}/g)||[];if(e.length!==4)return Ce.warn("convertArgbToRgba: Received invalid ARGB color"),"";var r=(function(c){var m=Ba(c);return Math.round(m/255*100)/100})(e[0]),s=Ba(e[1]),o=Ba(e[2]),u=Ba(e[3]);return"rgba(".concat(s,", ").concat(o,", ").concat(u,", ").concat(r,")")}function Ba(n){return parseInt(n,16)}function _y(n){var e=n.replace("#","").match(/.{2}/g)||[];if(e.length!==3)return Ce.warn("convertArgbToRgba: Received invalid hex color"),"";var r=Ba(e[0]),s=Ba(e[1]),o=Ba(e[2]);return"".concat(r,", ").concat(s,", ").concat(o)}function Sy(n){for(var e=n.length,r=new ArrayBuffer(e),s=new Uint8Array(r),o=0;o<e;o++)s[o]=n.charCodeAt(o);return r}var Eh={get:function(n){var e=new RegExp("(?:(?:^|.*;\\s*)".concat(n,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return document.cookie.replace(e,"$1")},set:function(n,e,r){var s=n+"="+e;if(r)for(var o in r){var u=r[o]?"=".concat(r[o]):"";s+="; ".concat(o).concat(u)}Ce.debug("set cookie",s),document.cookie=s},remove:function(n,e){var r="".concat(n,"=; expires=Thu, 01 Jan 1970 00:00:00 GMT");if(e)for(var s in e)r+="; ".concat(s,"=").concat(e[s]);document.cookie=r}},o2=new Set(["400","401","403","404","429","500"]),pb=(function(n){function e(r,s,o){var u=n.call(this,s,o)||this;return u.code=r,u}return Te(e,n),e})(Error);function W(n,e,r){return r?.cause&&console.error("This is the cause of LiffError described below.",r.cause),new pb(n,e||"",r||{})}function Th(n){var e=n.match(/([^-]+)-[^-]+/);return e&&e[1]}function l2(n){var e="";return n.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach((function(r){e+=String.fromCharCode(parseInt(r))})),window.btoa(e)}var gb=(function(){function n(){this.map={}}return n.prototype.clear=function(){this.map={}},n.prototype.getItem=function(e){var r=this.map[e];return r===void 0?null:r},n.prototype.setItem=function(e,r){this.map[e]=r},n.prototype.removeItem=function(e){delete this.map[e]},n.prototype.key=function(e){var r=Object.keys(this.map)[e];return r===void 0?null:r},Object.defineProperty(n.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),n})(),vf,Ft={parse:function(n){return n.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter((function(e){return e.length>0})).reduce((function(e,r){var s=Re(r.split("=").map(decodeURIComponent),2),o=s[0],u=s[1],c=e[o];return Array.isArray(c)?c.push(u):Object.prototype.hasOwnProperty.call(e,o)?e[o]=[c,u]:e[o]=u,e}),{})},stringify:function(n){return Object.keys(n).map((function(e){var r=n[e],s=function(o){return o!==void 0?"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(o)):encodeURIComponent(e)};return Array.isArray(r)?r.map((function(o){return s(o)})).join("&"):s(r)})).join("&")}},Ey="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u2(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function Ws(n){for(var e="",r=0;r<n;r++)e+=Ey[Math.floor(u2()*Ey.length)];return e}function yb(n){var e=new URL(n),r=e.hash.slice(1).split("&").filter((function(s){return!Sh.some((function(o){return s.startsWith("".concat(o,"="))}))})).join("&");return e.hash=r,e.toString()}function c2(n){var e=new URL(n);return e.toString().replace(new RegExp(String.raw(Ty||(Ty=KE(["^",""],["^",""])),e.origin)),"")}var d2=function(n){var e=yb(n);if(e!==n){var r=c2(e);window.history.replaceState(history.state,"",r)}};function fo(n,e){if(!n)throw new Error("addParamsToUrl: invalid URL");var r=new URL(n);return Object.entries(e).forEach((function(s){var o=Re(s,2),u=o[0],c=o[1];r.searchParams.set(u,c)})),r.toString()}var Ty,jy=((vf={})[pu]=function(){var n=Ny(pu);return new RegExp("^".concat(n,"(\\d+-\\w+)"))},vf[qf]=function(){var n=Ny(qf);return new RegExp("^".concat(n,"((\\d+-\\w+)|(\\w+$))"))},vf);function jh(n){for(var e in jy){var r=n.match(jy[e]());if(r)return r[1]}return null}function Ny(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f2(n){var e=n.match(/^(https?:\/\/.*?)\//);return e&&e[1]||""}function Ff(n){return n.startsWith("line:")}function Nh(n){return n===void 0&&(n=window.navigator.userAgent),/ipad/.test(n.toLowerCase())}function vb(n){return n===void 0&&(n=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(n)}function bb(n){return n===void 0&&(n=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(n)}function h2(n){return n===void 0&&(n=window.navigator.userAgent),/LIFF\/SubWindow/.test(n)}var wb=function(){return typeof window>"u"},Xl=null;function Be(){return Xl===null&&(Xl=bb()||vb()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem("".concat(Wn,":").concat(by))==="1",sessionStorage.setItem("".concat(Wn,":").concat(by),Xl?"1":"0")),!!Xl}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"isInClient"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return Be()}},e})(xe);function ct(){var n;return(n=window.__liffConfig)!==null&&n!==void 0?n:{}}function m2(n){window.__liffConfig=n}function p2(n,e){if(!e)throw W(ir,"liffId is necessary for liff.init()");var r=(Be()?sessionStorage:localStorage).getItem("".concat(Wn,":").concat(e,":").concat(n));try{return r===null?null:JSON.parse(r)}catch{return null}}function ln(n){return p2(n,ct().liffId)}function En(n,e){var r=ct().liffId;if(!r)throw W(ir,"liffId is necessary for liff.init()");(Be()?sessionStorage:localStorage).setItem("".concat(Wn,":").concat(r,":").concat(n),JSON.stringify(e))}function At(){return ln(De.CONTEXT)}function Ah(n){En(De.CONTEXT,n)}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getContext"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return At()}},e})(xe);function xb(){return((At()||{}).d||{}).aId}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getAId"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return xb()}},e})(xe);function _b(){return((At()||{}).d||{}).autoplay||!1}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getIsVideoAutoPlay"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return _b()}},e})(xe);function Sb(){return(At()||{}).profilePlus}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getProfilePlus"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return Sb()}},e})(xe);function g2(){return!!ln(De.IS_SUBSEQUENT_LIFF_APP)}function y2(n){En(De.IS_SUBSEQUENT_LIFF_APP,n)}function v2(){return ln(De.APP_DATA)}function Vf(n){En(De.APP_DATA,n)}function b2(){return ln(De.MST_VERIFIER)}function w2(n){En(De.MST_VERIFIER,n)}function x2(){return ln(De.MSIT)}function _2(n){En(De.MSIT,n)}function Au(){return ln(De.MST)}function S2(n){En(De.MST,n)}function Eb(){return ln(De.MST_CHALLENGE)}function E2(n){En(De.MST_CHALLENGE,n)}function T2(){return ln(De.CLIENT_ID)}function Tb(n){En(De.CLIENT_ID,n)}function j2(){return ln(De.RAW_CONTEXT)}function Eo(){return ln(De.FEATURE_TOKEN)}function Ay(n){En(De.FEATURE_TOKEN,n)}function Ou(){return ln(De.ID_TOKEN)}function jb(n){En(De.ID_TOKEN,n)}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getIDToken"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return Ou()}},e})(xe);function or(){return ln(De.ACCESS_TOKEN)}function Oh(n){En(De.ACCESS_TOKEN,n)}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getAccessToken"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return or()}},e})(xe);function Nb(n){var e=ct().liffId;if(!e)throw W(ir,"liffId is necessary for liff.init()");(Be()?sessionStorage:localStorage).removeItem("".concat(Wn,":").concat(e,":").concat(n))}function Ab(){return ln(De.LOGIN_TMP)}function N2(n){En(De.LOGIN_TMP,n)}function Oy(){Nb(De.LOGIN_TMP)}function Ob(n){var e=ct();Eh.set("".concat(Wn,":").concat(De.EXPIRES,":").concat(e.liffId),n.getTime(),{expires:n.toUTCString(),path:"/",secure:null})}function A2(){var n=ct();return Eh.get("".concat(Wn,":").concat(De.EXPIRES,":").concat(n.liffId))}function O2(){var n=ct();Eh.remove("".concat(Wn,":").concat(De.EXPIRES,":").concat(n.liffId),{path:"/"})}function Ru(){return ln(De.DECODED_ID_TOKEN)}function Rb(n){En(De.DECODED_ID_TOKEN,n)}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getDecodedIDToken"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return Ru()}},e})(xe);function R2(){Object.keys(De).forEach((function(n){Nb(De[n])})),O2()}function zt(){return!!or()}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"isLoggedIn"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return zt()}},e})(xe);function Cu(){return"2.27.3"}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getVersion"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return"2.27.3"}},e})(xe);var C2=(function(){function n(){}return n.prototype.invoke=function(){return h2()},n})(),k2=(function(){function n(e){this.storage=e}return Object.defineProperty(n,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),n.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(mb)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},n.prototype.getInSubWindow=function(){var e=this.storage.getItem("".concat(Wn,":").concat(this.getLiffId(),":").concat(n.IN_SUB_WINDOW_KEY));return e!==null&&JSON.parse(e)},n.prototype.getSubWindowIdentifier=function(){var e,r,s="liff.subwindow.identifier",o=new URLSearchParams(window.location.search);return o.get(s)||(e=s,(r=o.get("liff.state"))?new URLSearchParams(r).get(e):null)||null},n.prototype.setInSubWindow=function(e){this.storage.setItem("".concat(Wn,":").concat(this.getLiffId(),":").concat(n.IN_SUB_WINDOW_KEY),String(e))},n.prototype.getLiffId=function(){var e=ct().liffId;if(!e)throw W(ir,"liffId is necessary for liff.init()");return e},n})(),D2=(function(n){function e(){var r=n.call(this)||this;return wb()?r.impl={invoke:function(){return!1}}:Be()?r.impl=new C2:r.impl=new k2(window.sessionStorage),r}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.impl.invoke.bind(this.impl)},e})(xe),Cb=new D2,tr=Cb.install();function lr(){var n=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return n?n[0].slice(5):null}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getLineVersion"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return lr()}},e})(xe);var bf;function Vt(){if(!bf){var n=window.navigator.userAgent.toLowerCase();bf=/iphone|ipad|ipod/.test(n)?"ios":/android/.test(n)?"android":"web"}return bf}(function(n){function e(){return n.call(this)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getOS"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return Vt()}},e})(xe);function kb(n){var e,r=At();return(e=r?.availability)===null||e===void 0?void 0:e[n]}function In(n,e,r){var s=kb(n),o=r||n;if(!s)return{available:!1,error:{code:ze,message:"".concat(o," is not allowed in this LIFF app")}};var u=s.minVer,c=s.unsupportedFromVer,m=!u||(function(p,y){var b=lr();return!!b&&!(y&&Bn(b,y)>0)&&Bn(b,p)>=0})(u,c),g=Be();return g&&!m?{available:!1,error:{code:ze,message:"".concat(o," is unavailable in this client version.")}}:s.permission?g&&m||e?{available:!0}:{available:!1,error:{code:ze,message:"".concat(o," is not allowed in external browser")}}:{available:!1,error:{code:ze,message:"".concat(o," is not allowed in this LIFF app")}}}var Ry=function(){return zt()?!bb()&&vb()?{available:!1,error:{code:ze,message:"Subwindow is not supported in this browser"}}:tr()?{available:!1,error:{code:ze,message:"this api can be only called in parent window"}}:In("subwindowOpen",!0):{available:!1,error:{code:jt,message:"Need access_token for api call, Please login first"}}},U2=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen","createShortcutOnHomeScreen","internalCreateShortcutOnHomeScreen","iap"],bn={scanCode:function(){return In("scanCode")},getAdvertisingId:function(){return In("getAdvertisingId")},bluetoothLeFunction:function(){return In("bluetoothLeFunction")},shareTargetPicker:function(){return tr()?{available:!1,error:{code:ze,message:"this api can be only called in parent window"}}:zt()?In("shareTargetPicker",!0):{available:!1,error:{code:jt,message:"Need access_token for api call, Please login first"}}},multipleLiffTransition:function(){var n=kb("multipleLiffTransition");return n&&n.permission?Be()?{available:!0}:{available:!1,error:{code:ze,message:"multipleLiffTransition is available only in the LINE App browser"}}:{available:!1,error:{code:ze,message:"multipleLiffTransition is not allowed in this LIFF app"}}},subwindowOpen:Ry,scanCodeV2:function(){if(!zt())return{available:!1,error:{code:jt,message:"Need access_token for api call, Please login first"}};var n=Ry();return n.available?In("scanCodeV2",!0):n},addToHomeScreen:function(){return tr()?{available:!1,error:{code:ze,message:"this api can be only called in parent window"}}:In("addToHomeScreen")},skipChannelVerificationScreen:function(){var n=At();return n?n.type==="square_chat"?{available:!1,error:{code:ze,message:"skipChannelVerificationScreen is not allowed in OpenChat"}}:In("skipChannelVerificationScreen"):{available:!1,error:{code:ze,message:"Context is not found"}}},createShortcutOnHomeScreen:function(){if(tr())return{available:!1,error:{code:ze,message:"this api can be only called in parent window"}};if(!zt())return{available:!1,error:{code:jt,message:"Need access_token for api call, Please login first"}};var n=Vt();return n!=="android"&&n!=="ios"?{available:!1,error:{code:ze,message:"this api can be only called in mobile device"}}:In("addToHomeV2",!0,"createShortcutOnHomeScreen")},internalCreateShortcutOnHomeScreen:function(){if(tr())return{available:!1,error:{code:ze,message:"this api can be only called in parent window"}};if(!zt())return{available:!1,error:{code:jt,message:"Need access_token for api call, Please login first"}};var n=Vt();if(n!=="android"&&n!=="ios")return{available:!1,error:{code:ze,message:"this api can be only called in mobile device"}};var e=In("addToHomeV2",!0,"internalCreateShortcutOnHomeScreen");return e.available?In("addToHomeLineScheme",!0,"internalCreateShortcutOnHomeScreen"):e},iap:function(){return Be()?zt()?tr()?{available:!1,error:{code:ze,message:"this api can be only called in parent window"}}:In("iap",!1,"In-App Purchase"):{available:!1,error:{code:jt,message:"Need access_token for api call, Please login first"}}:{available:!1,error:{code:ze,message:"In-App Purchase is not allowed in external browser"}}}},Ln=function(n){return function(){var e=n();if(!e.available)throw W(e.error.code,e.error.message)}},Or={scanCode:Ln(bn.scanCode),getAdvertisingId:Ln(bn.getAdvertisingId),bluetoothLeFunction:Ln(bn.bluetoothLeFunction),shareTargetPicker:Ln(bn.shareTargetPicker),multipleLiffTransition:Ln(bn.multipleLiffTransition),subwindowOpen:Ln(bn.subwindowOpen),scanCodeV2:Ln(bn.scanCodeV2),addToHomeScreen:Ln(bn.addToHomeScreen),skipChannelVerificationScreen:Ln(bn.skipChannelVerificationScreen),createShortcutOnHomeScreen:Ln(bn.createShortcutOnHomeScreen),internalCreateShortcutOnHomeScreen:Ln(bn.internalCreateShortcutOnHomeScreen),iap:Ln(bn.iap)};function To(n){if(!(function(r){return U2.some((function(s){return s===r}))})(n))throw W(tt,"Unexpected API name.");var e=bn[n];return!e||e().available}(function(n){function e(){var r=n.apply(this,mt([],Re(arguments),!1))||this;return r.hooks={},r}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"isApiAvailable"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(r){return To(r)}},e})(xe);var L2=(function(){function n(){}return n.prototype.invoke=function(e){var r=Or[e];return!!r&&(r(),!0)},n})(),M2=(function(){function n(e){this.liff=e}return n.prototype.invoke=function(e){return this.liff.checkFeature(e)},n})(),wf=(function(){function n(e){Bn(Cu(),n.SDK_VERSION_SUPPORTING_NEW)>=0?this.impl=new L2:this.impl=new M2(e)}return Object.defineProperty(n,"SDK_VERSION_SUPPORTING_NEW",{get:function(){return"2.11.0"},enumerable:!1,configurable:!0}),n.prototype.invoke=function(e){return this.impl.invoke(e)},n})(),Gf=function(n,e){return Gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Gf(n,e)};function I2(n,e,r,s){return new(r||(r=Promise))((function(o,u){function c(p){try{g(s.next(p))}catch(y){u(y)}}function m(p){try{g(s.throw(p))}catch(y){u(y)}}function g(p){var y;p.done?o(p.value):(y=p.value,y instanceof r?y:new r((function(b){b(y)}))).then(c,m)}g((s=s.apply(n,[])).next())}))}function B2(n,e){var r,s,o,u,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(g){return function(p){return(function(y){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(o=2&y[0]?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[2&y[0],o.value]),y[0]){case 0:case 1:o=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,s=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(o=c.trys,!((o=o.length>0&&o[o.length-1])||y[0]!==6&&y[0]!==2)){c=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){c.label=y[1];break}if(y[0]===6&&c.label<o[1]){c.label=o[1],o=y;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(y);break}o[2]&&c.ops.pop(),c.trys.pop();continue}y=e.call(n,c)}catch(b){y=[6,b],s=0}finally{r=o=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}})([g,p])}}}var Db=!1,$2=function(){return Db},z2=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return(function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function o(){this.constructor=r}Gf(r,s),r.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)})(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"_legacyExtensionsEnabled"},enumerable:!1,configurable:!0}),e.prototype.install=function(){Db=!0},e})(xe);function P2(){var n;return Vt()==="ios"?(n=lr())&&Bn(n,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js"}function H2(){return $2()?(function(){return I2(this,void 0,void 0,(function(){return B2(this,(function(n){switch(n.label){case 0:return[3,2];case 1:return[2,n.sent().default];case 2:return[2,new Promise((function(e,r){var s=document.createElement("script"),o=P2();s.onload=function(){var u=window.liffClientExtension;u?e(u):r(W(pt,"Unable to load client features. (Extension is empty)"))},s.onerror=function(u){r(W(pt,"Unable to load client features.",{cause:u}))},s.src=o,s.type="text/javascript",document.body.appendChild(s)}))]}}))}))})():Promise.resolve(void 0)}function Rh(){R2()}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"logout"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return Rh()}},e})(xe);var q2=/([\x90\x9D\x81\x8D\x8F<"{|}>\\^`]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/,Ub=function(n){if(q2.test(n))throw W(tt,"invalid URL.");var e=new URL(n),r=e.username,s=e.password,o=e.hash,u=e.search;return{username:r,password:s,pathname:e.pathname,hash:o,origin:e.origin,search:u}},Cy=function(n){return n.substring(1).split("&").filter((function(e){return!/^liff\./.test(e)&&!!e}))},F2=function(n,e){var r=n.substring(e.length);return r==="/"?"":(r.length>0&&r[0]!=="/"&&(r="/"+r),r)},ky=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},V2=function(n,e){var r=(function(s,o){for(var u=mt([],Re(s),!1),c=0;c<o.length;c++){var m=o[c],g=u.indexOf(m);g>-1&&u.splice(g,1)}return u})((function(s){var o,u,c=s.replace(/\+/g,"%2B"),m=new URLSearchParams(c),g=[];try{for(var p=So(m.entries()),y=p.next();!y.done;y=p.next()){var b=Re(y.value,2),w=b[0],E=b[1];g.push("".concat(ky(w),"=").concat(ky(E)))}}catch(T){o={error:T}}finally{try{y&&!y.done&&(u=p.return)&&u.call(p)}finally{if(o)throw o.error}}if(g.length===0)return[""];var _=s.split("&");return g.map((function(T,S){return T.endsWith("=")&&!_[S].endsWith("=")?T.slice(0,-1):T}))})(Cy(n).join("&")),Cy(e)).join("&");return r!==""?"?".concat(r):""},G2=function(n){var e=new RegExp("^".concat(Sh.join("|"))),r=n.substring(1).split("&").filter((function(s){return!e.test(s)&&!!s})).join("&");return r?"#".concat(r):""},Lb=function(n,e){return e.indexOf(n)===0&&(n.endsWith("/")&&(n=n.substring(0,n.length-1)),e[n.length]===void 0||e[n.length]==="/")},Ch=function(n,e){var r=Ub(n),s=new URL(e);if(r.username!==s.username||r.password!==s.password||s.origin!==r.origin||!Lb(s.pathname,r.pathname))throw W(tt,"invalid URL.")},W2=(function(n){function e(){var r=n.apply(this,mt([],Re(arguments),!1))||this;return r.extraParams="",r.getAndValidateContext=function(){var s=At();if(!s)throw W(pt,"Could not get Context from server.");if(!s.endpointUrl)throw W(pt,"Could not get endpointUrl from server.");if(!s.permanentLinkPattern)throw W(pt,"Could not get permanentLinkPattern from server.");return s},r.createUrl=function(){var s=r.getAndValidateContext(),o=window.location,u=o.pathname,c=o.search,m=o.hash,g=o.origin,p=new URL(s.endpointUrl);if(p.origin!==g||!Lb(p.pathname,u))throw W(ir,"Current page is not under entrypoint.");var y=u.substring(p.pathname.length);y.length>0&&y[0]!=="/"&&(y="/"+y);var b=new RegExp("^".concat(Sh.join("|"))),w=m.substring(1).split("&").filter((function(q){return!b.test(q)&&!!q})).join("&"),E=w===p.hash.substring(1)?"":w,_=function(q){return q.substring(1).split("&").filter((function(B){return!/liff\.state/.test(B)&&!!B}))},T=_(c),S=_(p.search);r.extraParams&&T.push(r.extraParams);for(var A=0;A<S.length;A++){var j=S[A],N=T.indexOf(j);N>-1&&T.splice(N,1)}var R=T.join("&"),L="".concat(y).concat(R!==""?"?".concat(R):"").concat(E?"#".concat(E):"");return"".concat(pu).concat(ct().liffId).concat(L)},r.createUrlBy=function(s){return X(r,void 0,void 0,(function(){var o,u,c,m,g,p;return Z(this,(function(y){if(!(o=ct().liffId))throw W(pt,"Should run after liff init.");return u=this.getAndValidateContext(),Ch(s,u.endpointUrl),c=Ub(s),m=new URL(u.endpointUrl),g=u.miniDomainAllowed?qf:pu,p=u.miniDomainAllowed&&u.miniAppId?u.miniAppId:o,[2,g.concat(p,F2(c.pathname,m.pathname),V2(c.search,m.search),G2(c.hash))]}))}))},r.setExtraQueryParam=function(s){r.extraParams=s},r.install=function(){return{createUrl:r.createUrl,createUrlBy:r.createUrlBy,setExtraQueryParam:r.setExtraQueryParam}},r}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),e})(xe),Y2=new W2;function K2(n){return X(this,void 0,void 0,(function(){var e,r,s;return Z(this,(function(o){switch(o.label){case 0:if(!n.ok)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.json()];case 2:return[2,o.sent()];case 3:return o.sent(),[2,n];case 4:return e=String(n.status),r=o2.has(e)?e:$t,[4,n.json().catch((function(){throw W(r,n.statusText)}))];case 5:throw s=o.sent(),W(s.error||s.errorCode||r,s.error_description||s.message)}}))}))}function Mb(n){var e=(function(r){if(r)return r;var s=or();if(!s)throw W(jt,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(s)}})(n&&n.headers);return Ze(Ze({},n),{headers:e})}function gt(n,e){var r;try{r=Mb(e)}catch(s){return Promise.reject(s)}return fetch(n,r).then(K2)}function J2(n,e){var r;try{r=Mb(e)}catch(s){return Promise.reject(s)}return fetch(n,r)}function ot(n){var e=n.subdomain,r=e===void 0?"api":e,s=n.pathname;return"https://".concat(r,".").concat("line.me","/").concat(s)}var X2={token:ot({pathname:"oauth2/v2.1/token"}),certs:ot({pathname:"oauth2/v2.1/certs"}),"openid-configuration":ot({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:ot({subdomain:"access",pathname:"liff/v1/authorize"}),profile:ot({pathname:"v2/profile"}),message:ot({pathname:"message/v3/share"}),friendship:ot({pathname:"friendship/v1/status"}),shareTargetPicker:ot({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:ot({pathname:"liff/v2/apps"}),shareTargetPickerResult:ot({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:ot({pathname:"liff/v2/apps"}),subWindowGetMSIT:ot({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:ot({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:ot({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:ot({pathname:"liff/v2/sub/result"}),subWindowGetAppData:ot({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(n){return ot({pathname:"liff/v2/sub/".concat(n,"/origin")})},accessTokenVerify:ot({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:ot({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"}),permanentLink:ot({subdomain:"liff",pathname:"liff/v2/permanentLink"}),createShortcutOnHomeScreen:ot({subdomain:"liff-shortcut",pathname:"api/shortcut"}),iapVirtualConfirm:ot({pathname:"iap/v1/product/virtualConfirm"})};function rt(n){return X2[n]}function kh(n){return gt("".concat(rt("accessTokenVerify"),"?access_token=").concat(encodeURIComponent(n)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var Ib="liff.subwindow.identifier",Wf="liff.subwindow.cryptokey",ou=Ze(Ze({},Ye),{GET_DATA:"getData",SET_DATA:"setData",NOT_FOUND:"notFound",TEARDOWN:"teardown"}),yu={BROADCAST:"broadcast",COMMAND:"command"},ao={MAIN:"main",SUB:"sub"},Bb=function(n){return X(void 0,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey("jwk",{kty:"oct",k:n,alg:"A128GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])];case 1:return[2,r.sent()];case 2:throw e=r.sent(),W($t,e);case 3:return[2]}}))}))},Q2=function(n,e,r){return X(void 0,void 0,void 0,(function(){var s,o,u,c;return Z(this,(function(m){switch(m.label){case 0:return m.trys.push([0,3,,4]),s=new TextEncoder().encode(n),[4,Bb(e)];case 1:return o=m.sent(),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},o,new TextEncoder().encode(r))];case 2:return u=m.sent(),[2,btoa(new Uint8Array(u).reduce((function(g,p){return g+String.fromCharCode(p)}),""))];case 3:throw c=m.sent(),W($t,c);case 4:return[2]}}))}))},Z2=function(n,e,r){return X(void 0,void 0,void 0,(function(){var s,o,u,c,m,g,p;return Z(this,(function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),s=new TextEncoder().encode(n),[4,Bb(e)];case 1:for(o=y.sent(),u=atob(r),c=new Uint8Array(u.length),m=0;m<u.length;m++)c[m]=u.charCodeAt(m);return[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},o,c.buffer)];case 2:return g=y.sent(),[2,new TextDecoder().decode(new Uint8Array(g))];case 3:throw p=y.sent(),W($t,p);case 4:return[2]}}))}))},eT=function(n,e){return so(n)===so(e)},so=function(n){return"".concat(n.identifier,"-").concat(n.action,"-").concat(n.timestamp)},tT=function(n){return Object.keys(Ye).map((function(e){return Ye[e]})).includes(n)?yu.BROADCAST:yu.COMMAND};function nT(){var n=document.createElement("form");n.method="POST",n.action="$MESSAGE_HANDLER_URL";var e=document.createElement("input");e.type="hidden",e.name="identifier",e.value="$IDENTIFIER",n.appendChild(e),document.body.appendChild(n),n.submit()}var rT=function(n){n===void 0&&(n=ao.MAIN);var e=this;this.identification={identifier:"",cryptoKey:""},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return X(e,void 0,void 0,(function(){var r,s,o,u,c;return Z(this,(function(m){switch(m.label){case 0:return r=new URLSearchParams(window.location.search),s=function(g){var p=r.get("liff.state");return p?new URLSearchParams(p).get(g):null},o=this,c={identifier:this.windowType===ao.MAIN?Ws(12):r.get("liff.subwindow.identifier")||s("liff.subwindow.identifier")||""},this.windowType!==ao.MAIN?[3,2]:[4,X(void 0,void 0,void 0,(function(){var g,p,y;return Z(this,(function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return g=b.sent(),[4,window.crypto.subtle.exportKey("jwk",g)];case 2:if(!(p=b.sent())||!p.k)throw W($t,"failed to generate key");return[2,p.k];case 3:throw y=b.sent(),W($t,y);case 4:return[2]}}))}))];case 1:return u=m.sent(),[3,3];case 2:u=r.get(Wf)||s(Wf)||"",m.label=3;case 3:return o.identification=(c.cryptoKey=u,c),[2]}}))}))},this.hasIdentification=function(){var r=e.identification,s=r.identifier,o=r.cryptoKey;return typeof s=="string"&&typeof o=="string"&&s.length>0&&o.length>0},this.isReady=function(){return e.hasIdentification()&&!!e.messageHandlerInstance},this.setup=function(){return X(e,void 0,void 0,(function(){var r,s,o,u,c,m=this;return Z(this,(function(g){switch(g.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(g.sent(),!(r=this.identification.identifier))return[2];if(s=/^[a-zA-Z0-9]+$/gm,!r.match(s))throw W($t,"Invalid identifier");return(o=document.createElement("iframe")).style.display="none",o.src="about:blank",document.body.appendChild(o),(c=o?.contentWindow)===null||c===void 0||c.window.eval("(".concat(nT.toString().replace("$MESSAGE_HANDLER_URL","".concat("https://liff-subwindow.line.me/liff/v2/sub/messageHandler")).replace("$IDENTIFIER",r.split("'")[0]),")()")),u="iframe-".concat(r,"-ready"),[4,new Promise((function(p){var y=function(b){b.data[u]&&(m.messageHandlerInstance=o,window.addEventListener("message",m.proxyToListeners),p(),document.removeEventListener("message",y))};window.addEventListener("message",y)}))];case 2:return[2,g.sent()]}}))}))},this.teardown=function(){return X(e,void 0,void 0,(function(){var r,s;return Z(this,(function(o){switch(o.label){case 0:return this.isReady()?[4,this.send({eventName:ou.TEARDOWN})]:[3,2];case 1:o.sent(),window.removeEventListener("message",this.proxyToListeners),this.listeners.clear(),(s=(r=this.messageHandlerInstance)===null||r===void 0?void 0:r.parentNode)===null||s===void 0||s.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,o.label=2;case 2:return[2]}}))}))},this.listen=function(r){e.listeners.set(r,r)},this.listenRepliedEvent=function(r,s){var o=function(u){u.replyTarget&&eT(u.replyTarget,r)&&(s(u),e.listeners.delete(o))};e.listeners.set(o,o)},this.send=function(r){return X(e,void 0,void 0,(function(){var s,o,u,c,m=this;return Z(this,(function(g){switch(g.label){case 0:if(!this.isReady())throw W("message bus is not ready to send message");return o={action:tT(r.eventName),identifier:this.identification.identifier||"",timestamp:new Date().getTime()},[4,this.getEncryptedContext(r)];case 1:return o.context=g.sent(),s=o,(c=(u=this.messageHandlerInstance)===null||u===void 0?void 0:u.contentWindow)===null||c===void 0||c.postMessage({messageBusEvent:s},"*"),this.sentMessages.push(so(s)),[4,new Promise((function(p){m.listenRepliedEvent(s,(function(y){p(y.context)}))}))];case 2:return[2,g.sent()]}}))}))},this.reply=function(r,s){return X(e,void 0,void 0,(function(){var o,u,c,m;return Z(this,(function(g){switch(g.label){case 0:if(!this.isReady())throw W("message bus is not ready to send message");if(!r.identifier||!r.timestamp)throw W($t,"target message is not valid");return u={action:yu.BROADCAST},[4,this.getEncryptedContext(s)];case 1:return u.context=g.sent(),u.identifier=this.identification.identifier||"",u.timestamp=new Date().getTime(),u.replyTarget={action:r.action,identifier:r.identifier,timestamp:r.timestamp},o=u,(m=(c=this.messageHandlerInstance)===null||c===void 0?void 0:c.contentWindow)===null||m===void 0||m.postMessage({messageBusEvent:o},"*"),this.sentMessages.push(so(o)),[2]}}))}))},this.setData=function(r,s){r===void 0&&(r="appData"),e.send({eventName:ou.SET_DATA,key:r,data:s})},this.getData=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return X(e,mt([],Re(r),!1),void 0,(function(o){return o===void 0&&(o="appData"),Z(this,(function(u){switch(u.label){case 0:return[4,this.send({eventName:ou.GET_DATA,key:o})];case 1:return[2,u.sent()]}}))}))},this.proxyToListeners=function(r){return X(e,void 0,void 0,(function(){var s,o=this;return Z(this,(function(u){return s=r.data.messageBusEvent,r.origin!=="https://liff-subwindow.line.me"?[2]:s?(this.sentMessages.includes(so(s))||s.identifier!==this.identification.identifier||s.action!==yu.BROADCAST&&!s.replyTarget||this.listeners.forEach((function(c){return X(o,void 0,void 0,(function(){var m,g,p;return Z(this,(function(y){switch(y.label){case 0:return m=c,g=[Ze({},s)],p={},[4,this.getDecryptedContext(s.context)];case 1:return m.apply(void 0,[Ze.apply(void 0,g.concat([(p.context=y.sent(),p)]))]),[2]}}))}))})),[2]):[2]}))}))},this.getEncryptedContext=function(r){return X(e,void 0,void 0,(function(){var s,o,u,c,m,g,p;return Z(this,(function(y){switch(y.label){case 0:return s=this.identification,o=s.identifier,u=s.cryptoKey,m=(c=JSON).stringify,p={eventName:r.eventName,key:r.key?r.key:void 0},r.data?[4,Q2(o,u,JSON.stringify(r.data))]:[3,2];case 1:return g=y.sent(),[3,3];case 2:g=void 0,y.label=3;case 3:return[2,m.apply(c,[(p.data=g,p)])]}}))}))},this.getDecryptedContext=function(r){return X(e,void 0,void 0,(function(){var s,o,u,c,m,g,p,y;return Z(this,(function(b){switch(b.label){case 0:return s=this.identification,o=s.identifier,u=s.cryptoKey,(c=JSON.parse(r)).data&&typeof c.data=="string"?(y=(p=JSON).parse,[4,Z2(o,u,c.data)]):[3,2];case 1:return g=y.apply(p,[b.sent()]),[3,3];case 2:g=void 0,b.label=3;case 3:return m=g,[2,Ze(Ze({},c),{data:m})]}}))}))},this.windowType=n};function aT(n){return new CustomEvent(fb,{detail:n})}(function(){if(typeof window<"u"&&typeof window.CustomEvent!="function"){let e=function(r,s){var o=s||{},u=o.bubbles,c=u!==void 0&&u,m=o.cancelable,g=m!==void 0&&m,p=o.detail,y=p===void 0?void 0:p,b=document.createEvent("CustomEvent");return b.initCustomEvent(r,c,g,y),b};var n=e;e.prototype=Event.prototype,window.CustomEvent=e}})();var Is={},Dy=!1;function Dh(n,e){Dy||(Dy=!0,window.addEventListener(fb,(function(r){r&&r.detail&&r.detail.type&&Is[r.detail.type]&&Is[r.detail.type].forEach((function(s){return s(r)}))}))),Is[n]?Is[n].push(e):Is[n]=[e]}function Uh(n,e){var r=Is[n];if(r&&Array.isArray(r)){var s=r.indexOf(e);s>=0&&r.splice(s,1)}}function sT(n){var e={};try{e=JSON.parse(n)}catch(s){throw W(tt,s.message)}var r=aT(e);Ce.debug("[client dispatchEvent to js]",{type:r.type,detail:r.detail}),window.dispatchEvent(r)}function $b(n,e,r){e===void 0&&(e={}),r===void 0&&(r="");var s=Eo();if(!s)throw W(ze,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw W(tt,"postMessage is not available from client");Ce.debug("[js postMessage to client]",n,r,e),window._liff.postMessage(n,s,r,JSON.stringify(e))}function Zs(n,e,r){return e===void 0&&(e={}),r===void 0&&(r={once:!0}),Eo()?(r=Ze({callbackId:Ws(12),once:!0},r),new Promise((function(s,o){var u=function(c){if(c&&c.detail){var m=c.detail.callbackId===r.callbackId,g=typeof c.detail.callbackId!="string";(m||g)&&(r.once&&Uh(n,u),Ce.debug("[callback detail]",c.detail),c.detail.error?o(c.detail.error):c.detail.data?s(c.detail.data):o(c.detail))}o()};Dh(n,u),$b(n,e,r.callbackId)}))):Promise.reject(W(ze,"Invalid featureToken for client features"))}function qs(){var n=lr();n!==null&&(Vt()==="ios"&&Bn(n,"9.19")>=0||Vt()==="android"&&Bn(n,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?n!==null&&Bn(n,"10.15.0")>=0?Vt()==="ios"?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):Zs("closeWindow"):window.close()}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"closeWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return qs()}},e})(xe);function zb(n){var e=rt("subWindowGetOrigin");return gt(e(n))}var oa={};function Ys(n,e){n&&oa[n]&&oa[n].forEach((function(r){r(e)}))}function Pb(n,e){oa[n]||(oa[n]=[]),oa[n].push(e)}function Hb(n,e){if(oa[n]){var r=oa[n].indexOf(e);r>=0&&oa[n].splice(r,1)}}var qb,Fb,Vb,Gb,Yf,Wb=(function(){function n(e){this.storage=e}return n.prototype.getItem=function(e){return this.storage.getItem("".concat(this.getKeyPrefix(),":").concat(e))},n.prototype.setItem=function(e,r){this.storage.setItem("".concat(this.getKeyPrefix(),":").concat(e),r)},n.prototype.removeItem=function(e){this.storage.removeItem("".concat(this.getKeyPrefix(),":").concat(e))},n.prototype.clear=function(){this.storage.clear()},n.prototype.getKeyPrefix=function(){return"".concat(Wn,":").concat(this.getLiffId())},n.prototype.getLiffId=function(){var e=ct().liffId;if(!e)throw W(ir,"liffId is necessary for liff.init()");return e},n})(),Yb=new Wb(new gb);function vu(){var n=Yb.getItem("subWindowStatusUpdated");return n!==null&&JSON.parse(n)}function qa(n){Yb.setItem("subWindowStatusUpdated",String(n))}function Kf(n){qb=n}function io(){return qb}function Jf(){return Vb}function Uy(){return Gb}function Kb(){return X(this,arguments,void 0,(function(n){return n===void 0&&(n=ao.MAIN),Z(this,(function(e){switch(e.label){case 0:return[4,(Yf=new rT(n)).setup()];case 1:return e.sent(),[2,Yf]}}))}))}function ei(){return Yf}var iT=new gb,Jb=new Wb(wb()?iT:window.sessionStorage);function oT(n){Jb.setItem("mainWindowOrigin",n)}function Xb(){return Jb.getItem("mainWindowOrigin")}function Qb(n){return X(this,arguments,void 0,(function(e,r){var s,o,u,c,m,g,p,y;return r===void 0&&(r={}),Z(this,(function(b){switch(b.label){case 0:if((s=ei())!=null&&s.isReady())return[3,5];if(o=JSON.stringify(r),u=ct().liffId,c=Xb(),!window.opener||!c||!u)throw W(Hf);m=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,zb(u)];case 2:return g=b.sent(),m=g.subwindowCommonModule,[3,4];case 3:throw p=b.sent(),Ce.debug(p),W(Hf);case 4:return y=m?c:location.origin,[2,new Promise((function(w){window.addEventListener("message",(function E(_){lT(_)&&(window.removeEventListener("message",E),w({status:e,result:o}))})),window.opener.postMessage({status:e,result:o},y)}))];case 5:return s.send({eventName:e,data:r}),[4,new Promise((function(w){setTimeout(w,500)}))];case 6:return b.sent(),[2,{status:e,result:JSON.stringify(r)}]}}))}))}function lT(n){return!(!n.data||typeof n.data.type!="string"||![Ye.SUBMIT,Ye.CANCEL].includes(n.data.type))}function Lh(n){var e,r=Uy();if(n.origin===r){var s=n.data;if(s){var o,u=s.status,c=s.result;try{o=JSON.parse(c||"{}")}catch{o={}}switch(u){case gu:window.clearInterval(Jf()),Mh();break;case Ye.CANCEL:case Ye.SUBMIT:qa(!0),window.clearInterval(Jf()),window.removeEventListener("message",Lh),Ys(u,o),(e=io())===null||e===void 0||e.postMessage({type:u},Uy());break;default:Ce.debug("unexpected message")}}}}var uT=function(n){return X(void 0,void 0,void 0,(function(){var e,r,s,o;return Z(this,(function(u){if(vu())return[2];switch(e=n.context,r=e.eventName,s=e.data,o=ei(),r){case Ye.INIT:ew(!s.hasOpener);break;case Ye.CANCEL:case Ye.SUBMIT:qa(!0),Ys(r,s),o?.reply(n,{eventName:r});break;case Ye.CLOSE:vu()===!1&&(qa(!0),Ys(Ye.CLOSE,{})),Mh()}return[2]}))}))};function Zb(){window.clearInterval(Fb),window.clearInterval(Jf()),window.removeEventListener("message",Lh)}function ew(n){if(n===void 0&&(n=!1),Zb(),qa(!1),n){var e=io();e&&(e.close(),Kf(null))}}function Mh(){return X(this,void 0,void 0,(function(){var n;return Z(this,(function(e){switch(e.label){case 0:return(n=ei())?[4,n.teardown()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}function cT(n){return X(this,void 0,void 0,(function(){var e,r,s,o,u,c,m,g,p,y,b,w;return Z(this,(function(E){switch(E.label){case 0:return(e=jh(n.url))?(ew(!0),[4,Mh()]):[2,Promise.reject(W(tt,"params.url must be liff url or mini url"))];case 1:return E.sent(),Kf(Vt()!=="ios"||Nh()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),r=n.url,s=n.appData,(o=new URL(r)).searchParams.append(mb,"true"),[4,Kb()];case 2:return u=E.sent(),o.searchParams.append(Ib,u.identification.identifier),o.searchParams.append(Wf,u.identification.cryptoKey),o.hostname=(function(T){var S=Re(T.split(".")),A=S[0],j=S.slice(1);return mt(["".concat(A,"-ext")],Re(j),!1).join(".")})(o.hostname),c=o.toString(),[4,zb(e)];case 3:if(m=E.sent(),g=m.origin,p=m.subwindowCommonModule,!(y=io()))throw W(Pf);if(!p)return y.close(),[2];(function(T){Gb=T})(g),u.listen(uT),u.setData("appData",s),window.addEventListener("message",Lh),E.label=4;case 4:return E.trys.push([4,6,,7]),[4,(w=n.onBeforeTransition)===null||w===void 0?void 0:w.call(n)];case 5:return E.sent(),[3,7];case 6:throw b=E.sent(),y.close(),b;case 7:return y.location.href=c,_=(function(T,S){var A=io(),j={type:gu};return S&&(j.message=JSON.stringify(S)),window.setInterval((function(){A?.postMessage(j,T)}),hb)})(g,s),Vb=_,(function(T){Fb=T})(window.setInterval((function(){var T=io();T&&T.closed&&(Zb(),Kf(null),vu()===!1&&(qa(!0),Ys(Ye.CLOSE,{})))}),s2)),[2]}var _}))}))}var eo=null;function tw(n){return X(this,void 0,void 0,(function(){var e,r,s,o,u,c,m,g,p,y,b,w,E,_,T=this;return Z(this,(function(S){switch(S.label){case 0:if(e=n.msit,r=n.mstChallenge,s=n.reconnectCount,o=s===void 0?0:s,u=function(){return X(T,void 0,void 0,(function(){return Z(this,(function(A){switch(A.label){case 0:return[4,(j=1e3,new Promise((function(N){return setTimeout(N,j)})))];case 1:return A.sent(),[4,tw({msit:e,mstChallenge:r,onSuccess:n.onSuccess,onError:n.onError,reconnectCount:o+1})];case 2:return A.sent(),[2]}var j}))}))},c=function(){for(var A=[],j=0;j<arguments.length;j++)A[j]=arguments[j];eo=null,n.onSuccess.apply(n,mt([],Re(A),!1))},m=function(){for(var A=[],j=0;j<arguments.length;j++)A[j]=arguments[j];eo=null,n.onError.apply(n,mt([],Re(A),!1))},g=Date.now(),eo===null&&(eo=g),p=g-eo,o>=10||p>6e5)return m(W($t,"Failed to connect")),[2];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,J2(rt("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:e,mstChallenge:r})})];case 2:return y=S.sent(),[3,5];case 3:return S.sent(),[4,u()];case 4:return S.sent(),[2];case 5:return y.status>=500?[4,u()]:[3,7];case 6:return S.sent(),[3,17];case 7:return y.status>=400&&500>y.status?[4,Ly(y)]:[3,9];case 8:return w=S.sent(),b=w?W(tt,w.errorDetail):W($t,"Some error happened in the server"),m(b),[3,17];case 9:return y.status!==200?[3,16]:[4,Ly(y)];case 10:if(!(w=S.sent()))return m(W($t,"Some error happened in the server")),[2];switch(E=w.status,_=w.result,E){case Ye.ERROR:return[3,11];case Ye.CLOSE:case Ye.CANCEL:case Ye.SUBMIT:return[3,13]}return[3,14];case 11:return[4,u()];case 12:return S.sent(),[3,15];case 13:return c(E,_),[3,15];case 14:m(W($t,"Some error happened in the server")),S.label=15;case 15:return[3,17];case 16:m(W($t,"Some error happened in the server")),S.label=17;case 17:return[2]}}))}))}function Ly(n){return X(this,void 0,void 0,(function(){return Z(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.json()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,null];case 3:return[2]}}))}))}function dT(n){var e={};return Object.keys(n).forEach((function(r){r==="closeButtonColor"?n[r]==="white"?e[r]="#ffffff":e[r]="#000000":e[r]=n[r]})),e}var fT={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function hT(n){var e=n.appData,r=n.native,s=ct().liffId,o=Eb(),u=jh(n.url);if(!s)return Promise.reject(W(jt,"liffId is invalid"));if(!o)return Promise.reject(W(jt,"mst_challenge is invalid"));if(!u)return Promise.reject(W(tt,"params.url must be liff url or mini url"));var c=Object.assign({},fT,r);return(function(m){var g=m.mainLiffId,p=m.subLiffId,y=m.mstChallenge,b=m.appData,w=m.view;return g&&y?gt(rt("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:g,subLiffId:p,mstChallenge:y,appData:b,view:w})}):Promise.reject(W(tt,"no proper argument"))})({mainLiffId:s,subLiffId:u,mstChallenge:o,appData:e,view:dT(c)}).then((function(m){var g=m.msit;return tw({msit:g,mstChallenge:o,onSuccess:function(p,y){Ys(p,y)},onError:function(p){Ys(Ye.ERROR,p)}}),g})).then((function(m){return(function(g,p){return X(this,void 0,void 0,(function(){var y,b,w;return Z(this,(function(E){switch(E.label){case 0:return y=g.url,(b=new URLSearchParams).set("msit",p),[4,(w=g.onBeforeTransition)===null||w===void 0?void 0:w.call(g)];case 1:return E.sent(),location.href="".concat(a2,"?url=").concat(encodeURIComponent(y),"&").concat(b.toString()),[2]}}))}))})(n,m)}))}function nw(n){return Or.subwindowOpen(),Be()?hT(n):cT(n)}function Ih(n){if(!n.mst||!n.status)return Promise.reject(W(tt,"no proper argument"));var e=JSON.stringify(n);return gt(rt("subWindowPost"),{method:"POST",body:e})}function ku(){if(!tr())throw W(jt,"this api can be only called in child window")}function rw(n){return n===void 0&&(n={}),ku(),Be()?(function(){return X(this,arguments,void 0,(function(e){var r,s;return e===void 0&&(e={}),Z(this,(function(o){switch(o.label){case 0:return(r=Au())?[4,Ih({mst:r,status:Ye.CANCEL,result:e})]:[2,Promise.reject(W(jt,"mst is invalid"))];case 1:return s=o.sent(),qa(!0),[2,s]}}))}))})(n):(function(e){return e===void 0&&(e={}),Qb(Ye.CANCEL,e)})(n)}function aw(n){return n===void 0&&(n={}),ku(),Be()?(function(){return X(this,arguments,void 0,(function(e){var r,s;return e===void 0&&(e={}),Z(this,(function(o){switch(o.label){case 0:return(r=Au())?[4,Ih({mst:r,status:Ye.SUBMIT,result:e})]:[2,Promise.reject(W(jt,"mst is invalid"))];case 1:return s=o.sent(),qa(!0),[2,s]}}))}))})(n):(function(e){return e===void 0&&(e={}),Qb(Ye.SUBMIT,e)})(n)}function sw(){return ku(),Be()?(function(){return X(this,void 0,void 0,(function(){var n;return Z(this,(function(e){switch(e.label){case 0:return vu()!==!1?[3,2]:(n=Au())?[4,Ih({mst:n,status:Ye.CLOSE,result:{}})]:[2,Promise.reject(W(jt,"mst is invalid"))];case 1:e.sent(),e.label=2;case 2:return qs(),[2]}}))}))})():(function(){return X(this,void 0,void 0,(function(){var n;return Z(this,(function(e){return(n=ei())!=null&&n.isReady()?(n.send({eventName:Ye.CLOSE}),[2,new Promise((function(r){setTimeout((function(){qs(),r()}),hb)}))]):(qs(),[2,Promise.resolve()])}))}))})()}function iw(){return ku(),(function(){var n,e=v2();try{n=e?JSON.parse(e):{}}catch{n={}}return Promise.resolve(n)})()}function mT(n){var e=n.msit,r=n.mstVerifier;return e&&r?gt(rt("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:e,mstVerifier:r})}):Promise.reject(W(tt,"no proper argument"))}function pT(n){var e=n.mst;return e?gt(rt("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:e})}):Promise.reject(W(tt,"no proper argument"))}var xn={on:Pb,off:Hb,open:nw,cancel:rw,submit:aw,close:sw,getAppData:iw};(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"subWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){var r=this;return{on:Pb.bind(this),off:Hb.bind(this),open:function(s){return nw.call(r,Ze(Ze({},s),{onBeforeTransition:void 0}))},cancel:rw.bind(this),submit:aw.bind(this),close:sw.bind(this),getAppData:iw.bind(this)}},e})(xe);var lu={exports:{}},gT=lu.exports,My;function yT(){return My||(My=1,(function(n){(function(e,r){n.exports?n.exports=r():e.sha256=r()})(gT,function(){var e=function r(s){function o(me,pe){return me>>>pe|me<<32-pe}for(var u=Math.pow,c=u(2,32),m="length",g,p,y="",b=[],w=s[m]*8,E=r.h=r.h||[],_=r.k=r.k||[],T=_[m],S={},A=2;T<64;A++)if(!S[A]){for(g=0;g<313;g+=A)S[g]=A;E[T]=u(A,.5)*c|0,_[T++]=u(A,.3333333333333333)*c|0}for(s+="";s[m]%64-56;)s+="\0";for(g=0;g<s[m];g++){if(p=s.charCodeAt(g),p>>8)return;b[g>>2]|=p<<(3-g)%4*8}for(b[b[m]]=w/c|0,b[b[m]]=w,p=0;p<b[m];){var j=b.slice(p,p+=16),N=E;for(E=E.slice(0,8),g=0;g<64;g++){var R=j[g-15],L=j[g-2],q=E[0],B=E[4],J=E[7]+(o(B,6)^o(B,11)^o(B,25))+(B&E[5]^~B&E[6])+_[g]+(j[g]=g<16?j[g]:j[g-16]+(o(R,7)^o(R,18)^R>>>3)+j[g-7]+(o(L,17)^o(L,19)^L>>>10)|0),K=(o(q,2)^o(q,13)^o(q,22))+(q&E[1]^q&E[2]^E[1]&E[2]);E=[J+K|0].concat(E),E[4]=E[4]+J|0}for(g=0;g<8;g++)E[g]=E[g]+N[g]|0}for(g=0;g<8;g++)for(p=3;p+1;p--){var ee=E[g]>>p*8&255;y+=(ee<16?0:"")+ee.toString(16)}return y};return e.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',e})})(lu)),lu.exports}var vT=yT();const bT=$v(vT);var wT=function(){var n=this;this.type="sync",this.fns=new Set,this.on=function(e){n.fns.add(e)},this.call=function(){for(var e,r,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];try{for(var u=So(n.fns),c=u.next();!c.done;c=u.next()){var m=c.value;m.apply(void 0,mt([],Re(s),!1))}}catch(g){e={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}},to=function(){var n=this;this.type="async",this.fns=new Set,this.on=function(e){n.fns.add(e)},this.call=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return X(n,void 0,void 0,(function(){var s,o,u,c,m,g;return Z(this,(function(p){switch(p.label){case 0:s=[];try{for(o=So(this.fns),u=o.next();!u.done;u=o.next())c=u.value,s.push(c.apply(void 0,mt([],Re(e),!1)))}catch(y){m={error:y}}finally{try{u&&!u.done&&(g=o.return)&&g.call(o)}finally{if(m)throw m.error}}return[4,Promise.all(s)];case 1:return p.sent(),[2]}}))}))}},oo=function(n){var e,r=Ws(43),s=l2(bT(r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o=ct();if(!o||!o.liffId)throw W(ir,"You need to define `liffId` for liff.login()");var u={app_id:o.liffId,state:Ws(12),response_type:"code",code_challenge_method:"S256",code_challenge:s,liff_sdk_version:Cu()};n&&n.redirectUri&&(u.redirect_uri=n.redirectUri),tr()&&!Be()&&(!((e=ei())===null||e===void 0)&&e.isReady()?u.redirect_uri=window.location.href:u.disable_auto_login="true"),N2({codeVerifier:r});var c=rt("authorize")+"?"+Ft.stringify(u);Ce.debug("[Redirect] ".concat(c)),window.location.href=c},xT=(function(n){function e(){var r=n.apply(this,mt([],Re(arguments),!1))||this;return r.hooks={before:new wT},r}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this._login.bind(this)},e.prototype._login=function(r){this.hooks.before.call(r),oo(r)},e})(xe),xf,uu=typeof navigator>"u"?"en":(xf=navigator.language)!==null&&xf!==void 0?xf:"en",Xf=null;function _T(n){return X(this,void 0,void 0,(function(){return Z(this,(function(e){switch(e.label){case 0:return uu=n,[4,ow()];case 1:return e.sent(),[2]}}))}))}function ow(){return X(this,void 0,void 0,(function(){var n,e;return Z(this,(function(r){switch(r.label){case 0:return[4,gt("".concat("https://liffsdk.line-scdn.net/xlt/manifest.json"),{method:"GET",headers:{Accept:"application/json"}})];case 1:return n=r.sent(),e="".concat(uu),!n.languages[e]&&uu.includes("-")&&(e=uu.split("-")[0]),n.languages[e]||(e="en"),[4,gt("".concat("https://liffsdk.line-scdn.net/xlt","/").concat(n.languages[e]),{method:"GET",headers:{Accept:"application/json"}})];case 2:return Xf=r.sent(),[2]}}))}))}function _f(n){if(Xf===null)throw W(pt,"please call xlt after liff.init");return Xf[n]}var ST=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"i18n"},enumerable:!1,configurable:!0}),e.prototype.install=function(r){return r.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)),{setLang:_T}},e.prototype.beforeInitFinished=function(){return X(this,void 0,void 0,(function(){return Z(this,(function(r){switch(r.label){case 0:return[4,ow()];case 1:return r.sent(),[2]}}))}))},e})(xe),ET=new ST,Iy={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},By={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function TT(){var n;Ht("color-scheme",(((n=At())==null?void 0:n.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var e=window.matchMedia("(prefers-color-scheme: dark)");Sf({matches:e?.matches,media:e?.media}),e.addEventListener?e.addEventListener("change",Sf):e.addListener&&e.addListener(Sf)}function Sf(n){var e=At(),r=e?.menuColorSetting||{adaptableColorSchemes:["light"],lightModeColor:Iy,darkModeColor:By},s=r.adaptableColorSchemes,o=r.lightModeColor,u=r.darkModeColor,c=s.includes("dark");n.matches&&c?$y(Ze(Ze({},By),u)):$y(Ze(Ze({},Iy),o))}function $y(n){var e=n.iconColor,r=n.statusBarColor,s=n.titleTextColor,o=n.titleSubtextColor,u=n.titleButtonColor,c=n.titleBackgroundColor,m=n.progressBarColor,g=n.progressBackgroundColor,p=n.titleButtonAreaBackgroundColor,y=n.titleButtonAreaBorderColor,b=n.baseBackgroundColor,w=n.baseTextColor,E=n.lightButtonBorderColor;Ht("--liff-base-background-color",b),Ht("--liff-base-text-color",w),Ht("--liff-base-background-rgb-color",_y(b)),Ht("--liff-base-text-rgb-color",_y(w)),Ht("--liff-light-button-border-color",E),Ht("--liff-title-text-color",s),Ht("--liff-title-background-color",c),Ht("--liff-title-button-color",u),Ht("--liff-icon-color",e),Ht("--liff-status-bar-color",r),Ht("--liff-title-subtext-color",o),Ht("--liff-progress-bar-color",m),Ht("--liff-progress-background-color",g),Ht("--liff-title-button-area-background-color",xy(p)),Ht("--liff-title-button-area-border-color",xy(y))}function Ht(n,e){document.documentElement.style.setProperty(n,e)}var jT={addToHomeScreen:function(n){if(!new wf(n).invoke("addToHomeScreen"))throw W(ze,"No permission for liff.addToHomeScreen()")},scanCode:function(n){if(!new wf(n).invoke("scanCode"))return Promise.reject(W(ze,"No permission for liff.scanCode()"))},getAdvertisingId:function(n){if(!new wf(n).invoke("getAdvertisingId"))return Promise.reject(W(ze,"No permission for liff.getAdvertisingId()"))},initPlugins:function(){}};function NT(n){return X(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:return[4,H2()];case 1:return(e=r.sent())?(e.install(n,jT),[2]):[2]}}))}))}function AT(){return X(this,void 0,void 0,(function(){return Z(this,(function(n){switch(n.label){case 0:return[4,gt(rt("certs"))];case 1:return[2,n.sent()]}}))}))}function OT(n,e,r){return X(this,void 0,void 0,(function(){var s;return Z(this,(function(o){switch(o.label){case 0:return[4,crypto.subtle.importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return s=o.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},s,r,e)];case 2:return[2,o.sent()]}}))}))}function lw(n,e){return X(this,void 0,void 0,(function(){var r,s,o,u,c,m,g,p,y,b,w,E,_,T,S,A;return Z(this,(function(j){switch(j.label){case 0:return r=n.split("."),s=Re(r,3),o=s[0],u=s[1],c=s[2],m=JSON.parse(yf.decode(o)),g=JSON.parse(yf.decodeUnicode(u)),p=Sy(yf.decode(c)),y=Sy("".concat(o,".").concat(u)),[4,AT()];case 1:if(b=j.sent(),!(w=b.keys.find((function(N){return N.kid===m.kid}))))return[3,6];if(delete w.alg,m.alg!=="ES256")throw W(Oa,'Invalid "alg" value in ID_TOKEN');E=void 0,j.label=2;case 2:return j.trys.push([2,4,,5]),[4,OT(w,y,p)];case 3:return E=j.sent(),[3,5];case 4:throw _=j.sent(),W(Oa,"".concat("Failed to use Crypto API to verify ID_TOKEN",": ").concat(_));case 5:if(E){if(T=g.iss!=="https://access.".concat("line.me"),S=g.aud!==e,A=1e3*g.exp<Date.now(),T)throw W(Oa,'Invalid "iss" value in ID_TOKEN');if(S)throw W(Oa,'Invalid "aud" value in ID_TOKEN');if(A)throw W(Oa,'Invalid "exp" value in ID_TOKEN');return[2,g]}throw W(Oa,"Invalid signature in ID_TOKEN");case 6:throw W(Oa,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}}))}))}function Bh(n){var e=n.split(".");if(e[1])try{var r=e[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(r))}catch{return null}return null}function uw(n){var e=n.pathname,r=n.query,s=r?"?".concat(Ft.stringify(r)):"",o="".concat("liff://").concat(e).concat(s);location.href=o}var Qf=null;function RT(){typeof Qf=="boolean"&&Ce.warn("liff.init is not expected to be called more than once"),Qf=!!g2()||!(!Be()||Ft.parse(window.location.hash).feature_token||Eo())&&(y2(!0),!0)}function Zf(){return!!Qf}function CT(n,e){return X(this,void 0,void 0,(function(){var r;return Z(this,(function(s){switch(s.label){case 0:return(r=Au())?[2,r]:n&&e?[4,mT({msit:n,mstVerifier:e})]:[3,2];case 1:return[2,s.sent().mst];case 2:return[2,null]}}))}))}function kT(n){return gt("".concat(rt("apps"),"/").concat(n,"/featureToken"))}function DT(n){return X(this,void 0,void 0,(function(){var e,r,s,o;return Z(this,(function(u){switch(u.label){case 0:return e=Ft.parse(window.location.hash),r=(function(c){for(var m,g,p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];var b=function(_){Object.keys(_).filter((function(T){return _[T]!==null&&_[T]!==void 0})).forEach((function(T){c[T]=_[T]}))};try{for(var w=So(p),E=w.next();!E.done;E=w.next())b(E.value)}catch(_){m={error:_}}finally{try{E&&!E.done&&(g=w.return)&&g.call(w)}finally{if(m)throw m.error}}return c})({access_token:or(),context_token:j2(),feature_token:Eo(),id_token:Ou(),client_id:T2(),mst_challenge:Eb(),mst_verifier:b2(),msit:x2()},e),Zf()?zt()?[4,kT(n)]:[3,2]:[3,3];case 1:s=u.sent().featureToken,r.feature_token||(r.feature_token=s),u.label=2;case 2:(o=Th(n))&&(r.client_id=o),u.label=3;case 3:return[2,r]}}))}))}function UT(n){if(n.persisted&&To("multipleLiffTransition"))if(Vt()==="ios")window.location.reload();else{var e=ct().liffId,r=Eo();if(!e)throw W(pt,"Invalid LIFF ID.");if(!r)throw W(ze,"Invalid featureToken for client features");uw({pathname:"app/".concat(e),query:{feature_token:r}})}}function LT(n){return X(this,void 0,void 0,(function(){var e,r,s,o,u,c,m,g,p,y,b,w,E,_,T,S,A,j,N;return Z(this,(function(R){switch(R.label){case 0:return[4,new Promise((function(L){var q=lr();if(!q||Bn(q,"9.5.0")<0)L();else if(window._liff&&window._liff.features)L();else{Ce.debug("cannot find window._liff.features, listen to ready event");var B=function(){Ce.debug("ready event is fired"),Uh("ready",B),L()};Dh("ready",B)}}))];case 1:return R.sent(),RT(),[4,DT(n.liffId)];case 2:if(e=R.sent(),r=e.access_token,s=e.context_token,o=e.feature_token,u=e.id_token,c=e.client_id,m=e.mst_verifier,g=e.mst_challenge,p=e.msit,s){if(typeof s!="string")throw W(pt,"Cannot get context token, perhaps there is an incorrect parameter in permanent link");Ah(Bh(s))}if(((j=At())===null||j===void 0?void 0:j.liffId)!==void 0&&((N=At())===null||N===void 0?void 0:N.liffId)!==n.liffId)throw W(pt,"Invalid LIFF ID");return!tr()&&o&&((function(L,q){To("multipleLiffTransition")&&uw({pathname:"app/".concat(L),query:{feature_token:q}})})(n.liffId,o),Zf()&&Ay(o)),g&&E2(g),m&&w2(m),c&&Tb(c),p&&_2(p),window.addEventListener("pageshow",UT),zt()?[3,5]:o&&r?[3,5]:Zf()?(y=fo(location.href,{"liff.hback":"2"}),oo({redirectUri:y}),[4,new Promise((function(){}))]):[3,4];case 3:R.sent(),R.label=4;case 4:throw oo(),W(pt,"Failed to parse feature_token or access_token");case 5:return r&&o?[4,kh(r)]:[3,7];case 6:if(b=R.sent(),w=b.client_id,E=b.expires_in,_=Th(n.liffId),w!==_)throw oo(),W(pt,"Failed to verify access_token");Ay(o),Ob(new Date(Date.now()+1e3*E)),Oh(r),R.label=7;case 7:return[4,CT(p,m)];case 8:return(T=R.sent())?(S2(T),[4,pT({mst:T})]):[3,10];case 9:(S=R.sent().data)&&Vf(JSON.stringify(S)),R.label=10;case 10:return u&&!Ou()&&jb(u),u&&c&&!Ru()?[4,lw(u,c)]:[3,12];case 11:(A=R.sent())&&Rb(A),R.label=12;case 12:return[2]}}))}))}function MT(n){return X(this,void 0,void 0,(function(){var e,r,s,o,u,c,m;return Z(this,(function(g){switch(g.label){case 0:return e=rt("apps"),r="".concat(e,"/").concat(n,"/contextToken"),s=or(),o={"Content-Type":"application/json",Accept:"application/json"},s&&(o.Authorization="Bearer ".concat(s)),[4,gt(r,{headers:o})];case 1:if(u=g.sent(),!(c=u.contextToken))throw W(pt,"Can not get context from server.");if(!(m=Bh(c)))throw W(pt,"Invalid context token.");return[2,m]}}))}))}function cw(){return X(this,void 0,void 0,(function(){var n,e;return Z(this,(function(r){switch(r.label){case 0:if(!(n=ct().liffId))throw W(pt,"Invalid LIFF ID.");return[4,MT(n)];case 1:return e=r.sent(),Ah(e),[2]}}))}))}function IT(n){return X(this,void 0,void 0,(function(){var e,r,s,o=this;return Z(this,(function(u){switch(u.label){case 0:e=function(){return X(o,void 0,void 0,(function(){var c,m,g,p,y,b;return Z(this,(function(w){switch(w.label){case 0:return[4,(E=ct(),_=Ft.parse(window.location.search),T=Ab(),S={grant_type:"authorization_code",client_id:_.liffClientId,appId:E.liffId,code:_.code,code_verifier:T.codeVerifier,redirect_uri:E.redirectUri||_.liffRedirectUri,id_token_key_type:"JWK"},A=Ft.stringify(S),gt(rt("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:A}))];case 1:return c=w.sent(),m=c.access_token,g=c.id_token,p=c.expires_in,Tb(n),Oh(m),Ob(new Date(Date.now()+1e3*p)),Oy(),g?(jb(g),[4,lw(g,n)]):[3,3];case 2:(y=w.sent())&&Rb(y),w.label=3;case 3:return(b=Ft.parse(location.hash).context_token)?(Ah(Bh(b)),[3,6]):[3,4];case 4:return[4,cw()];case 5:w.sent(),w.label=6;case 6:return[2]}var E,_,T,S,A}))}))},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e()];case 2:return u.sent(),[3,4];case 3:throw r=u.sent(),s=r,Oy(),s;case 4:return[2]}}))}))}function dw(){return X(this,void 0,void 0,(function(){var n,e,r,s,o,u,c=this;return Z(this,(function(m){switch(m.label){case 0:return(e=ei())?[3,2]:[4,Kb(ao.SUB)];case 1:e=m.sent(),m.label=2;case 2:return(n=e).isReady()?(r=Ws(8),[4,n.getData("appData")]):[3,8];case 3:return s=m.sent(),o=s.eventName,u=s.data,o!==ou.NOT_FOUND?[3,6]:[4,n.teardown()];case 4:return m.sent(),[4,dw()];case 5:return[2,m.sent()];case 6:u&&Vf(JSON.stringify(u)),m.label=7;case 7:return n.listen((function(g){return X(c,void 0,void 0,(function(){var p,y;return Z(this,(function(b){return p=g.context,y=p.data,p.eventName===Ye.INIT&&y?.subWindowId!==r&&qs(),p.eventName!==Ye.CANCEL&&p.eventName!==Ye.SUBMIT||n.teardown(),[2]}))}))})),zt()&&n.send({eventName:Ye.INIT,data:{subWindowId:r,hasOpener:!!window.opener}}),[3,10];case 8:return Xb()?[3,10]:[4,new Promise((function(g){window.addEventListener("message",(function(p){return function y(b){var w=b.data,E=b.source,_=b.origin;if(w){var T=w.type,S=w.message;T===gu&&(window.removeEventListener("message",y),S&&Vf(S),oT(_),E&&E.postMessage&&E.postMessage({status:gu},_),p())}}})(g))}))];case 9:return[2,m.sent()];case 10:return[2]}}))}))}var BT=new((function(){function n(){var e=this;this.getAndValidateContext=function(){var r=At();if(!r)throw W(pt,"Could not get Context from server.");if(!r.endpointUrl)throw W(pt,"Could not get endpointUrl from server.");if(!r.permanentLinkPattern)throw W(pt,"Could not get permanentLinkPattern from server.");return r},this.decodeState=function(r){var s=e.getAndValidateContext();r=r.replace(/\n/g,"%0D%0A");var o=e.hasTrailingSlash(s.endpointUrl)||e.hasTrailingSlash(r),u=new URL(s.endpointUrl),c=u.origin,m=u.pathname,g=u.search,p=new URL("".concat(c).concat(e.attachSlashAtStart(r))),y=p.pathname,b=p.search,w=p.hash,E="".concat(g).concat(g?b.replace(/\?/g,"&"):b),_="".concat(m).concat(e.attachSlashAtStart(y)).replace("//","/");return(_=e.attachSlashAtStart("".concat(_))).endsWith("/")&&!o&&(_=_.substring(0,_.length-1)),"".concat(c).concat(_).concat(E).concat(w).replace(/%0D%0A/g,`
`)}}return n.prototype.attachSlashAtStart=function(e){return"".concat(e&&e.length>0&&!e.startsWith("/")?"/":"").concat(e)},n.prototype.hasTrailingSlash=function(e){var r=e.indexOf("?"),s=e.indexOf("#"),o=-1;return(o=r===-1&&s===-1?e.length:r===-1?s:s===-1?r:Math.min(r,s))>0&&e[o-1]==="/"},n.prototype.invoke=function(){return X(this,void 0,void 0,(function(){var e,r,s,o,u;return Z(this,(function(c){switch(c.label){case 0:if(e=Ft.parse(window.location.search),typeof(r=e["liff.state"])!="string")return[2];c.label=1;case 1:return c.trys.push([1,4,,5]),s=location.href,(o=this.decodeState(r))===s?[3,3]:(e["liff.hback"]?location.replace(fo(o,{"liff.hback":e["liff.hback"]})):location.replace(o),[4,new Promise((function(){}))]);case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if((u=c.sent()).code===pt)throw u;return Ce.debug(u),[3,5];case 5:return[2]}}))}))},n})());function $T(n,e){return X(this,void 0,void 0,(function(){var r,s;return Z(this,(function(o){switch(o.label){case 0:if(!n.liffId)throw W(ir,"liffId is necessary for liff.init()");return m2(n),!Be()&&zt()&&(A2()||Rh()),r=Ft.parse(window.location.search),!tr()||Be()?[3,2]:[4,dw()];case 1:o.sent(),o.label=2;case 2:if(r.error&&r.liffOAuth2Error)throw m=r.error,g=r.error_description,p=g.replace(/\+/g," "),y="".concat(m,": ").concat(p),W(pt,y);return u=r.code,c=Ab(),u&&!zt()&&c&&c.codeVerifier?[4,IT(r.liffClientId)]:[3,4];case 3:o.sent(),o.label=4;case 4:return Be()?[4,LT(n)]:[3,6];case 5:return o.sent(),[3,8];case 6:return zt()?[3,8]:[4,cw()];case 7:o.sent(),o.label=8;case 8:return[4,BT.invoke()];case 9:if(o.sent(),s=At())try{Ch(location.href,s.endpointUrl)}catch{Ce.warn(`liff.init() was called with a current URL that is not related to the endpoint URL.
`.concat(location.href," is not under ").concat(s.endpointUrl))}return[4,e()];case 10:return o.sent(),d2(window.location.href),[2]}var u,c,m,g,p,y}))}))}var fw=function(n,e){return new Promise((function(r,s){if(n){var o=document.createElement("script");o.type="module",o.onload=function(){r()},o.src=n,document.head.appendChild(o)}else s(W(ir,e))}))},zT=function(n){var e="https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js";return e&&n&&(e=e.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/,n)),fw(e,"LUI_ALERT_URL is not defined")},Ef=function(){return X(void 0,void 0,void 0,(function(){var n;return Z(this,(function(e){switch(e.label){case 0:return n=(function(){var s,o=document.querySelector('script[src*="luivendor.js"]');if(o&&(!((s=o.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g))===null||s===void 0)&&s.length))return o.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0]})(),n?[3,2]:[4,fw("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js","LUI_VENDOR_URL is not defined")];case 1:e.sent(),e.label=2;case 2:return[4,zT(n)];case 3:return e.sent(),[4,(r=Ws(6),new Promise((function(){var s=document.createElement("div");s.innerHTML='<lui-alert id="'.concat("liffAlert","-").concat(r,'" shown title="').concat(_f("alert.android.extBrowser.autoLoginWorkaround.title"),'" message="').concat(_f("alert.android.extBrowser.autoLoginWorkaround.desc"),'" button="').concat(_f("alert.android.extBrowser.autoLoginWorkaround.button.text"),'"></lui-alert>'),document.body.appendChild(s);var o=document.getElementById("".concat("liffAlert","-").concat(r));o&&o.addEventListener("lui-button-click",(function(){var u=window.open(fo(window.location.href,{liffIsEscapedFromApp:"true"}),"_blank");u&&(u.location.href=fo(window.location.href,{liffIsEscapedFromApp:"true"}),window.close())}))})))];case 4:return e.sent(),[2]}var r}))}))},zy=function(n){try{return new URL(n).searchParams.get("lineAppVersion")}catch{return null}};function PT(){return X(this,void 0,void 0,(function(){var n,e,r;return Z(this,(function(s){switch(s.label){case 0:return n=(r=zy(window.location.href))!==null&&r!==void 0?r:zy(window.document.referrer),n&&Bn(n,"13.10.0")>=0?[2]:Be()||Vt()!=="android"||(e=Ft.parse(window.location.search))[Ib]||e.liffIsEscapedFromApp?[2]:e.liffClientId&&document.referrer.includes("access.".concat("line.me"))?(window.location.href=fo(window.location.href,{liffIsEscapedFromApp:"true"}),[2]):e.liffClientId&&document.referrer.includes("android-app://")?[4,Ef()]:[3,2];case 1:s.sent(),s.label=2;case 2:return e.liffClientId&&document.referrer===""&&window.history.length===1?[4,Ef()]:[3,4];case 3:s.sent(),s.label=4;case 4:return!document.referrer.includes("liffClientId")||document.referrer.includes("liffIsEscapedFromApp")?[3,6]:[4,Ef()];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))}var HT=(function(n){function e(){var r=n.apply(this,mt([],Re(arguments),!1))||this;return r.hooks={before:new to,after:new to},r.internalHooks={beforeFinished:new to,beforeSuccess:new to,error:new to},r}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),e.prototype.install=function(r){var s=r.liff;return this.liffForWindow=s,this.init.bind(this)},e.prototype.init=function(r,s,o){return X(this,void 0,void 0,(function(){var u;return Z(this,(function(c){switch(c.label){case 0:return[4,this.hooks.before.call()];case 1:c.sent(),m=this.liffForWindow,window&&!window.liff&&(window.liff=m),c.label=2;case 2:return c.trys.push([2,9,,11]),[4,Promise.all([NT(this.liffForWindow),$T(r,this.internalHooks.beforeFinished.call)])];case 3:return c.sent(),TT(),[4,this.internalHooks.beforeSuccess.call()];case 4:return c.sent(),!r.withLoginOnExternalBrowser||zt()?[3,6]:(oo(),[4,new Promise((function(){}))]);case 5:c.sent(),c.label=6;case 6:return[4,PT()];case 7:return c.sent(),[4,this.hooks.after.call()];case 8:return c.sent(),typeof s=="function"&&s(),db(),[3,11];case 9:return u=c.sent(),[4,this.internalHooks.error.call(u)];case 10:throw c.sent(),typeof o=="function"&&o(u),u;case 11:return[2]}var m}))}))},e})(xe);function hw(){return{liffApp:"https://liff.".concat("line.me"),liffServer:"https://api.".concat("line.me"),miniApp:"https://miniapp.".concat("line.me")}}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getOrigins"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return hw()}},e})(xe);function mw(){return navigator.language}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getLanguage"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return mw()}},e})(xe);function pw(){var n=lr();if(!n||!Be()||Vt()!=="ios")return navigator.language;if(Bn(n,"14.11.0")>=0){var e=window.prompt("LIFF:GET_APP_LANGUAGE");if(e)return e}return navigator.language}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getAppLanguage"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(){return pw()}},e})(xe);function gw(n){return X(this,void 0,void 0,(function(){var e,r,s,o,u,c,m;return Z(this,(function(g){switch(g.label){case 0:return(function(p){if(!i2.includes(p))throw W(tt,"Unexpected permission name.");var y=At();return!!y?.scope.includes(p)})(n)?(e=or())?[4,kh(e)]:[3,2]:[2,{state:"unavailable"}];case 1:r=g.sent(),s=unescape(r.scope).split(" ");try{for(o=So(s),u=o.next();!u.done;u=o.next())if(u.value.includes(n))return[2,{state:"granted"}]}catch(p){c={error:p}}finally{try{u&&!u.done&&(m=o.return)&&m.call(o)}finally{if(c)throw c.error}}return[2,{state:"prompt"}];case 2:throw W(jt,"Need access_token for api call, Please login first")}}))}))}function yw(){var n,e,r=At();return!!r&&r.type!=="square_chat"&&(To("skipChannelVerificationScreen")||!Be()&&((e=(n=r.availability)===null||n===void 0?void 0:n.skipChannelVerificationScreen)===null||e===void 0?void 0:e.permission))}function qT(){var n=ct().liffId;if(n)return gt("".concat(rt("unauthorizedPermissions"),"?liffId=").concat(n),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(or())}});throw W(jt,"liffId is required")}var cu,Ql=xn.on,Zl=xn.off,FT=xn.open,VT=(function(){function n(e,r){var s=this;this.onSubmit=function(o){return X(s,[o],void 0,(function(u){var c=u.newAccessToken,m=u.ICA_ERROR;return Z(this,(function(g){return c?this.resolve({newAccessToken:c}):m&&this.reject(W($t,m)),this.teardown(),[2]}))}))},this.onClose=function(){return X(s,void 0,void 0,(function(){return Z(this,(function(o){return this.reject(W(jt,"user didn't allow the agreement")),this.teardown(),[2]}))}))},this.onCancel=function(){return X(s,void 0,void 0,(function(){return Z(this,(function(o){return this.reject(W(jt,"user didn't allow the agreement")),this.teardown(),[2]}))}))},this.onError=function(o){return X(s,void 0,void 0,(function(){return Z(this,(function(u){return this.reject(o),this.teardown(),[2]}))}))},this.resolve=e,this.reject=r,this.setup()}return n.prototype.setup=function(){Ql("submit",this.onSubmit),Ql("close",this.onClose),Ql("cancel",this.onCancel),Ql("error",this.onError)},n.prototype.teardown=function(){Zl("submit",this.onSubmit),Zl("close",this.onClose),Zl("cancel",this.onCancel),Zl("error",this.onError),cu=void 0},n.prototype.open=function(e){var r=ct().liffId;r?FT({url:"".concat("https://liff.line.me/1656032314-Xgrw5Pmk"),appData:{liffId:r,channelId:Th(r),accessToken:or()},onBeforeTransition:e}).catch(this.reject):this.reject(W(jt,"liffId is required"))},n})();function vw(){return X(this,void 0,void 0,(function(){var n,e,r=this;return Z(this,(function(s){switch(s.label){case 0:if(!yw())throw W(ze,"SkipChannelVerificationScreen is unavailable.");return cu&&cu.teardown(),n=function(){return X(r,void 0,void 0,(function(){var o;return Z(this,(function(u){switch(u.label){case 0:return[4,qT()];case 1:if(o=u.sent(),(Be()?o:o.filter((function(c){return c!=="chat_message.write"}))).length<=0)throw W(ze,"All permissions have already been approved.");return[2]}}))}))},[4,new Promise((function(o,u){(cu=new VT(o,u)).open(n)}))];case 1:return e=s.sent().newAccessToken,Oh(e),[2]}}))}))}function GT(){return X(this,void 0,void 0,(function(){var n,e;return Z(this,(function(r){switch(r.label){case 0:if(!(n=or()))throw W(jt,"Need access_token for api call, Please login first");return[4,kh(n)];case 1:return e=r.sent(),[2,decodeURIComponent(e.scope).split(" ").filter((function(s){return s!==""}))]}}))}))}function Fs(n,e){var r=this;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return X(r,void 0,void 0,(function(){var u,c,m;return Z(this,(function(g){switch(g.label){case 0:return u=(s.length>0?s[s.length-1]:{}).ignorePermissionCheck,c=u!==void 0&&u,[4,gw(e)];case 1:if((m=g.sent().state)!=="unavailable")return[3,2];throw W(ze,"The permission is not in LIFF app scope.");case 2:return m!=="prompt"||!yw()||c||!Be()&&e==="chat_message.write"?[3,4]:[4,vw()];case 3:return g.sent(),[3,5];case 4:c&&s.pop(),g.label=5;case 5:return[4,n.apply(void 0,mt([],Re(s),!1))];case 6:return[2,g.sent()]}}))}))}}var WT=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"permission"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return{query:gw,requestAll:vw,getGrantedAll:GT}},e})(xe),YT=new WT;function $h(){return gt(rt("profile"))}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getProfile"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return Fs($h,"profile")},e})(xe);var KT=function(n,e){return n?"&".concat(n.split("&").filter((function(r){return r.indexOf("is_liff_external_open_window")===-1})).join("&").concat("".concat(e?"#".concat(e):""))):"".concat(e?"#".concat(e):"")};function Du(n){if(!(function(u){if(!u||typeof u!="object")return!1;var c=u,m=c.url,g=c.external,p=Re([typeof m,typeof g],2),y=p[0],b=p[1];return y==="string"&&m!==""&&(b==="undefined"||b==="boolean")})(n))throw W(tt,"Invalid parameters for liff.openWindow()");var e=lr();if(Be())if(e!==null&&Vt()==="ios"&&Bn(e,"9.19")>=0||!window._liff.postMessage){var r=n.url,s=n.external,o=s!==void 0&&s;window.open((function(u,c){var m,g,p,y,b,w,E,_,T;(function(A){return A.indexOf("#")!==-1&&A.indexOf("?")!==-1&&A.indexOf("#")<A.indexOf("?")})(u)||(function(A){return A.indexOf("?")===-1&&A.indexOf("#")!==-1})(u)?(E=(m=Re(u.split("#"),2))[0],g=m[1],_=(p=Re((g===void 0?"":g).split("?"),2))[0],T=p[1]):(E=(y=Re(u.split("?"),2))[0],b=y[1],T=(w=Re((b===void 0?"":b).split("#"),2))[0],_=w[1]);var S=KT(T,_);return"".concat(E,"?").concat("is_liff_external_open_window","=").concat(!!c).concat(S)})(r,o))}else Zs("openWindow",n);else window.open(n.url,"_blank")}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"openWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(r){return Du(r)}},e})(xe);var JT=function(n){return typeof n=="object"&&n!==null&&(function(e){return typeof e=="string"||e instanceof String})(n.type)};function Py(n){return Promise.reject(W(tt,n))}function bw(n){if(!(function(r){return Array.isArray(r)&&r.every(JT)})(n))return Py("Parameter 'messages' must be an array of { type, ... }");var e=n.length;return e<1||e>5?Py("Number of messages should be in range 1 to ".concat(5,".")):gt(rt("message"),{method:"POST",body:JSON.stringify({messages:n})}).catch(XT)}var XT=function(n){if(n.code==="403"){var e=lr()==="12.0.0",r=Vt()==="ios",s=Nh();e&&(r||s)&&window.alert(`LINELINE 12.0.1
Please update your LINE app to LINE 12.0.1 or later.`)}throw n};(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"sendMessages"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return Fs(bw,"chat_message.write")},e})(xe);function ww(){return gt(rt("friendship"))}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"getFriendship"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return Fs(ww,"profile")},e})(xe);function QT(){return X(this,void 0,void 0,(function(){var n,e;return Z(this,(function(r){switch(r.label){case 0:if(!zt())return[3,6];r.label=1;case 1:return r.trys.push([1,5,,6]),(n=Ru())&&n.sub?[2,n.sub]:[3,2];case 2:return[4,$h()];case 3:if((e=r.sent())&&e.userId)return[2,e.userId];r.label=4;case 4:return[3,6];case 5:return r.sent(),Ce.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}}))}))}function ZT(){return X(this,void 0,void 0,(function(){var n;return Z(this,(function(e){switch(e.label){case 0:return[4,QT()];case 1:return(n=e.sent())&&n.substring(0,1)==="u"?[2,n]:[2]}}))}))}var ej=(function(n){function e(){var r=n.apply(this,mt([],Re(arguments),!1))||this;return r.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},r.injected=!1,r}return Te(e,n),Object.defineProperty(e,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),e.prototype.install=function(r){var s=r.liff,o=r.internalHooks;this.liffCore=s,o.init.beforeFinished(this.beforeInitFinished.bind(this)),o.init.beforeSuccess(this.beforeInitSuccess.bind(this)),o.init.error(this.initError.bind(this))},e.prototype.createDeprecatedUtsProxy=function(r){var s="LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.";return new Proxy(r,{get:function(o,u){var c=o[u];return typeof c=="function"?function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];return Ce.warn("[LIFF Analytics] ".concat(s," Called method: ").concat(String(u))),c.apply(o,m)}:c}})},e.prototype.changeRatioToUTSFormat=function(r){if(r&&Number.isFinite(r))return Math.round(100*r)},e.prototype.setExtra=function(){var r,s=this.utsExtra,o=s.isLiffSuccessful,u=s.isLoggedIn,c=s.id,m=s.version,g=(u?e.LiffUtsLoginStatus.isLoggedIn:0)|(o?e.LiffUtsLoginStatus.isLiffSuccessful:0);(r=this.uts)===null||r===void 0||r.setExtra("liff",{id:c,loginStatus:g,version:m})},e.prototype.assignUtsExtra=function(r){Object.assign(this.utsExtra,r)},e.prototype.setVersion=function(r){this.assignUtsExtra({version:r}),Ce.debug("[LIFFUTS][SDK version] ".concat(r)),this.setExtra()},e.prototype.setLiffId=function(r){this.assignUtsExtra({id:r}),Ce.debug("[LIFFUTS][LIFFID] ".concat(r)),this.setExtra()},e.prototype.setIsLoggedIn=function(r){this.assignUtsExtra({isLoggedIn:r}),Ce.debug("[LIFFUTS][isLoggedIn] ".concat(r)),this.setExtra()},e.prototype.sendLiffInit=function(){var r;Ce.debug("[LIFFUTS][sendCustom] liff.init"),(r=this.uts)===null||r===void 0||r.sendCustom({type:e.CUSTOMTYPE,params:{placeId:e.CUSTOMPLACEID_INIT}})},e.prototype.setIsLiffSuccessful=function(r){this.assignUtsExtra({isLiffSuccessful:r}),Ce.debug("[LIFFUTS][isLiffInitSuccessful] ".concat(r)),this.setExtra()},e.prototype.prepareReferrer=function(r){var s={};Object.keys(r).forEach((function(o){if(r2.includes(o)){var u=r[o];typeof u=="string"&&u&&(s[o.replace(/^liff\.ref\./,"")]=u)}})),Object.keys(s).length>0&&(this.referrer=s)},e.prototype.beforeInitFinished=function(){return X(this,void 0,void 0,(function(){var r,s,o,u,c,m,g,p,y,b,w,E;return Z(this,(function(_){switch(_.label){case 0:if(r=Ft.parse(window.location.search),this.prepareReferrer(r),s=At(),!(o=s?.utsTracking))return[2];if(u=ct(),c=u.liffId,m=u.analytics,o.mode!=="auto"||!m)return[3,6];Ce.warn("[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions."),Ce.debug("[LIFFUTS] ".concat(new Date().toUTCString())),_.label=1;case 1:return _.trys.push([1,3,,4]),g=this,[4,new Promise((function(T,S){var A=window.uts,j=document.createElement("script");j.type="text/javascript",j.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",j.onload=function(){var N=window.uts;T(N),window.uts=A},j.onerror=function(N){S(N)},document.getElementsByTagName("head")[0].appendChild(j)}))];case 2:return g.uts=_.sent(),[3,4];case 3:return p=_.sent(),Ce.debug("[LIFFUTS] cannot load UTS, reason: ".concat(p)),[2];case 4:return y=Ze(Ze({},m.context),{utsId:m.context.utsId,appName:m.context.appName,appEnv:m.context.appEnv||"release"}),b=Ze(Ze({endpoint:"https://uts-front.line-apps.com"},m.options),{sampleRate:this.changeRatioToUTSFormat(o.sendRatio),version:"current"}),this.uts.init(y,b),[4,ZT()];case 5:(w=_.sent())&&(Ce.debug("[LIFFUTS][mid] ".concat(w)),this.uts.setMid(w)),s?.tid&&(Ce.debug("[LIFFUTS][tid] ".concat(s.tid)),this.uts.setTid(s.tid)),this.referrer&&(Ce.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),c&&this.setLiffId(c),this.setIsLoggedIn(zt()),this.setVersion(Cu()),E=yb(location.href),Ce.debug("[LIFFUTS][url] ".concat(E)),this.uts.setUrl(E),this.liffCore.analytics=this.createDeprecatedUtsProxy(this.uts),this.injected=!0,_.label=6;case 6:return[2]}}))}))},e.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},e.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},e})(xe),tj=function(n){Ce.warn("[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions. Called function: sendShareTargetPicker"),Ce.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),n.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})},Bs,nj=(function(){function n(e,r){var s=this;this.resolve=e,this.reject=r,this.onSubmit=function(o){var u=o.message;s.resolve({value:u}),s.destroy()},this.onClose=function(){s.resolve({value:null}),s.destroy()},this.onCancel=function(){s.resolve({value:null}),s.destroy()},this.onError=function(o){s.reject(o),s.destroy()},this.start()}return n.prototype.start=function(){xn.on("submit",this.onSubmit),xn.on("close",this.onClose),xn.on("cancel",this.onCancel),xn.on("error",this.onError)},n.prototype.destroy=function(){xn.off("submit",this.onSubmit),xn.off("close",this.onClose),xn.off("cancel",this.onCancel),xn.off("error",this.onError),Bs=void 0},n})();function rj(){return X(this,void 0,void 0,(function(){return Z(this,(function(n){return Or.scanCodeV2(),Bs&&Bs.destroy(),[2,new Promise((function(e,r){Bs=new nj(e,r),xn.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch((function(s){Bs?.destroy(),r(s)}))}))]}))}))}var aj=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return rj},e})(xe),sj=new aj,xw={};function ij(){return xw}function oj(n,e){var r=ij(),s=Re(e.split("."),1)[0],o=r[e];o&&n.removeEventListener(s,o),r[e]=null}var Hy=!1,qy=!1;function lj(n,e,r,s){Hy||(qy=(function(){var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){return u=!0,!1}});window.addEventListener("test",c,c),window.removeEventListener("test",c,c)}catch{u=!1}return u})(),Hy=!0);var o=Re(e.split("."),1)[0];return new Promise((function(u){var c=function(m){u(m),r&&r(m)};(function(m,g){xw[m]=g})(e,c),n.addEventListener(o,c,!!qy&&s)}))}function Fy(n,e,r,s){if(r===void 0&&(r={}),typeof n!="object"||!n.postMessage)throw W(tt,"target must be window object");if(typeof e!="string")throw W(tt,"keyname must be string");if(typeof r!="object")throw W(tt,"incorrect body format. It should be Object or Array comprised of Object");if(!s)throw W(tt,"serverEndPointUrl isn't passed. please fill up with proper url");if(s==="*")throw new Error("serverEndPointUrl doesn't allow to set '*'");var o={name:e,body:r};n.postMessage(o,s)}function uj(n,e,r,s){lj(n,"message.".concat(e),(function(o,u,c){return function(m){Ce.debug("messageReceive",m),m.origin===c&&m.data.name===o&&u(m)}})(e,r,s))}var cj=(function(){function n(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return n.getInstance=function(){return n.instance?n.instance.reset():n.instance=new n,n.instance},n.prototype.init=function(e){return X(this,void 0,void 0,(function(){var r,s;return Z(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.liffId=e.referrer.liffId,this.doesWaitForSubwindowResult=!(!e.options||!e.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(e),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return o.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return r=o.sent(),this.finalize(),[2,r];case 3:case 6:return[2];case 4:return[3,6];case 5:if(s=o.sent(),this.finalize(),s.name!=="AbortError")throw s;return[3,6]}}))}))},n.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},n.prototype.reset=function(){this.finalize(),this.resetAllVariables()},n.prototype.finalize=function(){var e,r;this.abortController&&this.abortController.abort(),Be()||(e=this.timeoutIDForHealthCheck,r=this.popupWindow,oj(window,"message.receivedHealthcheck"),e&&clearTimeout(e),r&&!r.closed&&r.close())},n.prototype.buildPayloadToShareTargetPicker=function(e){return{messages:e.messages,isMultiple:e.isMultiple,referrer:e.referrer}},n.prototype.initAllowPostMessageOrigin=function(e){return e===void 0&&(e=rt("shareTargetPicker")),f2(e)},n.prototype.initOtt=function(){return X(this,void 0,void 0,(function(){var e,r,s;return Z(this,(function(o){switch(o.label){case 0:return this.abortController&&(e=this.abortController.signal),r="".concat(rt("shareTargetPickerOtt"),"/").concat(this.liffId,"/ott"),s=this,[4,gt(r,{method:"GET",signal:e}).then((function(u){return u.ott}))];case 1:return s.ott=o.sent(),[2]}}))}))},n.prototype.prepareAnotherWindow=function(){Be()||(Vt()!=="ios"||Nh()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},n.prototype.openAnotherWindow=function(){if(Be()&&this.payloadToShareTargetPicker)e=this.liffId,r=this.ott,s=this.payloadToShareTargetPicker,o={liffId:e,ott:r,data:JSON.stringify(s),closeModals:!1},location.href="".concat("line://picker","?").concat(Ft.stringify(o));else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw W(Pf);(function(u,c,m){var g={liffId:c,ott:m};u.location.href="".concat(rt("shareTargetPicker"),"?").concat(Ft.stringify(g))})(this.popupWindow,this.liffId,this.ott)}var e,r,s,o},n.prototype.initListener=function(){var e,r;Be()||(e=this.onReceivedHealthcheck.bind(this),r=this.allowPostMessageOrigin,uj(window,"receivedHealthcheck",e,r))},n.prototype.healthCheck=function(){return X(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.internalError=e,[3,4];case 4:return[3,6];case 5:this.finalize(),r.label=6;case 6:return[3,8];case 7:s=this.popupWindow,o=this.allowPostMessageOrigin,Fy(s,"healthcheck",void 0,o),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),r.label=8;case 8:return[2]}var s,o}))}))},n.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw W(Pf);var e,r,s;e=this.popupWindow,r=this.payloadToShareTargetPicker,s=this.allowPostMessageOrigin,Fy(e,"ready",r,s)},n.prototype.onCanceled=function(){return X(this,void 0,void 0,(function(){var e,r;return Z(this,(function(s){switch(s.label){case 0:if(Be()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(e=this.abortController.signal),r={liffId:this.liffId,ott:this.ott},[4,gt("".concat(rt("shareTargetPickerResult"),"?").concat(Ft.stringify(r)),{method:"POST",signal:e,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,s.sent().status==="ok"]}}))}))},n.prototype.getShareResult=function(){return X(this,void 0,void 0,(function(){var e,r;return Z(this,(function(s){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(e=this.abortController.signal),r={liffId:this.liffId,ott:this.ott},Ce.debug("fetch: getShareResult"),[2,gt("".concat(rt("shareTargetPickerResult"),"?").concat(Ft.stringify(r)),{method:"GET",headers:{Accept:"application/json"},signal:e})]}))}))},n.isPollingTimeOut=function(e,r){return(r-e)/6e4>=10},n.prototype.pollingShareResult=function(){return X(this,void 0,void 0,(function(){var e,r;return Z(this,(function(s){switch(s.label){case 0:e=Date.now(),s.label=1;case 1:if(n.isPollingTimeOut(e,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((r=s.sent())&&r.result)switch(r.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];default:throw new Error(r.resultDescription)}return[4,new Promise((function(o){setTimeout(o,500)}))];case 3:return s.sent(),[3,1];case 4:throw new Error("Timeout: not finished within ".concat(10,"min"))}}))}))},n})(),dj=(function(n){function e(){var r=n.apply(this,mt([],Re(arguments),!1))||this;return r.shareTargetPicker=function(s){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return X(r,mt([s],Re(o),!1),void 0,(function(c,m){var g,p,y,b,w,E,_;return m===void 0&&(m={}),Z(this,(function(T){switch(T.label){case 0:if(Or.shareTargetPicker(),!c||!Array.isArray(c)||c.length===0)throw W(tt,"no proper argument");if(c.length>n2)throw W(tt,"exceed the limit of num of messages");if(!(g=ct().liffId))throw W(ir);window.liff&&(p=window.liff).analytics&&tj(p.analytics),y=m.isMultiple===void 0||m.isMultiple,T.label=1;case 1:return T.trys.push([1,3,,4]),b=cj.getInstance(),w=lr(),E={waitForSubwindowResult:!0},Be()&&w&&Bn(w,"10.11.0")<0&&(E.waitForSubwindowResult=!1),[4,b.init({messages:c,isMultiple:y,referrer:{liffId:g,url:location.origin},options:E})];case 2:return[2,T.sent()];case 3:throw(_=T.sent())instanceof pb?_:W(Hf,_.message);case 4:return[2]}}))}))},r}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"shareTargetPicker"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.shareTargetPicker},e})(xe),fj=new dj;function _w(n,e){return X(this,void 0,void 0,(function(){var r,s;return Z(this,(function(o){switch(o.label){case 0:return r=rt("createShortcutOnHomeScreen"),(s=new URL(r)).searchParams.append("liffId",n),s.searchParams.append("url",e.url),e.description&&s.searchParams.append("description",e.description),[4,gt(s.toString())];case 1:return[2,o.sent().shortcutPageUrl]}}))}))}function Sw(n){if(Ff(n))throw W(tt,"LINE URL scheme are not supported in the current environment.")}function hj(n,e){return X(this,void 0,void 0,(function(){var r;return Z(this,(function(s){switch(s.label){case 0:return Be()?[2]:[4,new Promise((function(o){setTimeout(o,1e3)}))];case 1:return s.sent(),document.visibilityState==="hidden"?[2]:(Sw(e.url),[4,_w(n,e)]);case 2:return r=s.sent(),Du({url:r,external:!0}),[2]}}))}))}function mj(n,e){return X(this,void 0,void 0,(function(){var r,s;return Z(this,(function(o){switch(o.label){case 0:return r={liffId:n,targetUrl:e.url,description:e.description},s="".concat("line://shortcut/liff","?").concat(Ft.stringify(r)),location.href=s,[4,hj(n,e)];case 1:return o.sent(),[2]}}))}))}function pj(n,e){return X(this,void 0,void 0,(function(){var r;return Z(this,(function(s){switch(s.label){case 0:return Sw(e.url),[4,_w(n,e)];case 1:return r=s.sent(),Du({url:r,external:!0}),[2]}}))}))}function Ew(n){var e;if(n.url===void 0||n.url===null||n.url==="")throw W(tt,"no proper argument");var r=At();if(!(!((e=r?.availability.addToHomeLineScheme)===null||e===void 0)&&e.permission)){if(Ff(n.url))throw W(ze,"No permission to specify line schema in url.");if(n.description)throw W(ze,"No permission to specify description.")}if(!Ff(n.url)){if(!r)throw W(ze,"Could not get Context from server.");r.liffId!==jh(n.url)&&Ch(n.url,r.endpointUrl)}}function gj(n){return X(this,void 0,void 0,(function(){return Z(this,(function(e){switch(e.label){case 0:return Ew(n),Or.internalCreateShortcutOnHomeScreen(),[4,Tw(n)];case 1:return e.sent(),[2]}}))}))}function yj(n){return X(this,void 0,void 0,(function(){return Z(this,(function(e){switch(e.label){case 0:return Ew(n),Or.createShortcutOnHomeScreen(),[4,Tw(n)];case 1:return e.sent(),[2]}}))}))}function Tw(n){return X(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:if(!(e=ct().liffId))throw W(pt,"Invalid LIFF ID.");return Vt()==="ios"?[4,pj(e,n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,mj(e,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}var vj=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"createShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(r){return yj(r)}},e})(xe),bj=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"internalCreateShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return function(r){return gj(r)}},e})(xe);function wj(n){return X(this,arguments,void 0,(function(e){var r=e.productIds;return Z(this,(function(s){switch(s.label){case 0:return[4,Zs("iap.getPlatformProducts",{productIds:r}).catch((function(o){throw o.code&&o.description?W(o.code,o.description):W($t,"Failed to get platform products",{cause:o})}))];case 1:return[2,s.sent().products]}}))}))}var xj=function(n){return X(void 0,[n],void 0,(function(e){var r=e.productId,s=e.orderId;return Z(this,(function(o){switch(o.label){case 0:if(!window.confirm("Proceed with a test in-app purchase?"))throw W("CANCELED","Transaction was canceled.");return[4,gt(rt("iapVirtualConfirm"),{method:"POST",body:JSON.stringify({productId:r,orderId:s})})];case 1:return o.sent(),[2]}}))}))},_j=function(n){return X(void 0,[n],void 0,(function(e){var r,s=e.productId,o=e.orderId;return Z(this,(function(u){switch(u.label){case 0:return(r=At())!=null&&r.isIapSandbox?[4,xj({productId:s,orderId:o})]:[3,2];case 1:case 3:return u.sent(),[2];case 2:return[4,Zs("iap.createPayment",{productId:s,orderId:o}).catch((function(c){throw c.code&&c.description?W(c.code,c.description):W($t,"Failed to get platform products",{cause:c})}))]}}))}))},Sj=(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"iap"},enumerable:!1,configurable:!0}),e.prototype.install=function(){var r=this;return{getPlatformProducts:function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return X(r,void 0,void 0,(function(){return Z(this,(function(u){return Or.iap(),[2,wj.apply(void 0,mt([],Re(s),!1))]}))}))},createPayment:function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return X(r,void 0,void 0,(function(){return Z(this,(function(u){return Or.iap(),[2,_j.apply(void 0,mt([],Re(s),!1))]}))}))},requestConsentAgreement:function(){return X(r,void 0,void 0,(function(){return Z(this,(function(s){return Or.iap(),[2,X(void 0,void 0,void 0,(function(){return Z(this,(function(o){switch(o.label){case 0:return[4,Zs("iap.requestConsentAgreement").catch((function(u){throw u.code&&u.description?W(u.code,u.description):W($t,"Failed to request consent agreement",{cause:u})}))];case 1:return o.sent(),[2]}}))}))]}))}))}}},e})(xe),Ej={},zh=Object.defineProperties(Ej,{getOS:{value:Vt,enumerable:!0,writable:!0},getVersion:{value:Cu,enumerable:!0,writable:!0},getLanguage:{value:mw,enumerable:!0,writable:!0},getAppLanguage:{value:pw,enumerable:!0,writable:!0},getOrigins:{value:hw,enumerable:!0,writable:!0},isInClient:{value:Be,enumerable:!0,writable:!0},isLoggedIn:{value:zt,enumerable:!0,writable:!0},logout:{value:Rh,enumerable:!0,writable:!0},getAccessToken:{value:or,enumerable:!0,writable:!0},getIDToken:{value:Ou,enumerable:!0,writable:!0},getDecodedIDToken:{value:Ru,enumerable:!0,writable:!0},getContext:{value:At,enumerable:!0,writable:!0},openWindow:{value:Du,enumerable:!0,writable:!0},closeWindow:{value:qs,enumerable:!0,writable:!0},getFriendship:{value:Fs(ww,"profile"),enumerable:!0,writable:!0},getAId:{value:xb,enumerable:!0,writable:!0},getProfilePlus:{value:Sb,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:_b,enumerable:!0,writable:!0},getLineVersion:{value:lr,enumerable:!0,writable:!0},isApiAvailable:{value:To,enumerable:!0,writable:!0},getProfile:{value:Fs($h,"profile"),enumerable:!0,writable:!0},sendMessages:{value:Fs(bw,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:xn,enumerable:!0,writable:!0},ready:{value:t2,enumerable:!0,writable:!0},id:{get:function(){return ct().liffId||null},enumerable:!0},_dispatchEvent:{value:sT,enumerable:!0,writable:!0},_call:{value:Zs,enumerable:!0,writable:!0},_addListener:{value:Dh,enumerable:!0,writable:!0},_removeListener:{value:Uh,enumerable:!0,writable:!0},_postMessage:{value:$b,enumerable:!0,writable:!0}}),Ph=new e2,jw=new ZE(Ph,zh),Tj=new cb(Ph,jw).install();function jj(n){Tj.call(zh,n)}[new cb(Ph,jw),new xT,new HT,new ej,sj,Y2,Cb,YT,fj,ET,new z2,new vj,new bj,new Sj].forEach(jj);var Zn=zh;const Nw=C.createContext(void 0),jo=()=>{const n=C.useContext(Nw);if(n===void 0)throw new Error("useLiff must be used within a LiffProvider");return n},Nj=({children:n})=>{const[e,r]=C.useState(null),[s,o]=C.useState(!1),[u,c]=C.useState(null),[m,g]=C.useState(null),[p,y]=C.useState(!0),b={userId:"mock-user-id",displayName:"",pictureUrl:"https://via.placeholder.com/150",statusMessage:""},w=async()=>{try{y(!0),g(null);const S=Zn.isInClient();console.log(" LIFF Environment Check:",{isInLineApp:S,hostname:window.location.hostname,userAgent:navigator.userAgent,url:window.location.href});const A="2008933336-FQOc7tz9";console.log(" LIFF ID Check:",{liffId:A}),console.log(" Initializing LIFF with ID:",A);try{if(await Zn.init({liffId:A}),r(Zn),console.log(" LIFF initialized successfully"),Zn.isLoggedIn()){const j=await Zn.getProfile();c(j),o(!0),console.log(" LIFF initialized and user logged in:",j)}else console.log(" User not logged in, prompting login..."),o(!1)}catch(j){console.error(" LIFF initialization error:",j);const N=j instanceof Error?j.message:String(j);console.error(" Error details:",{message:N,error:j}),g(S?`LIFF : ${N}

:
1. LIFF ID: ${A}
2. Domain : ${window.location.hostname}
3.  LINE : ${S?"":""}
4. LIFF `:`  LINE 

 LINE :
1.  https://department-store-scheduling.vercel.app 
2.  LINE 

LIFF  LINE 

: ${N}`),r(null),o(!1)}}catch(S){console.error(" General initialization failed:",S),g(S instanceof Error?S.message:"LIFF initialization failed"),r(null),o(!1)}finally{y(!1)}},E=async()=>{try{if(console.log(" Starting login process..."),e&&e.mock){console.log(" Using mock login"),o(!0),c(b);return}if(e&&!e.mock)if(console.log(" Using real LIFF login"),Zn.isLoggedIn()){console.log(" User already logged in, getting profile...");const S=await Zn.getProfile();c(S),o(!0),console.log(" User profile loaded:",S)}else{console.log(" User not logged in, starting LIFF login..."),await Zn.login(),console.log(" Getting user profile after login...");const S=await Zn.getProfile();c(S),o(!0),console.log(" User logged in successfully:",S)}else console.log(" No LIFF object available, reinitializing..."),await w()}catch(S){console.error(" Login failed:",S),g(S instanceof Error?S.message:"Login failed")}},_=async()=>{try{console.log(" Starting logout process..."),e&&!e.mock&&(console.log(" Logging out from LIFF..."),await Zn.logout(),console.log(" LIFF logout successful")),o(!1),c(null),g(null),console.log(" User logged out and states reset")}catch(S){console.error(" Logout failed:",S),g(S instanceof Error?S.message:"Logout failed")}};C.useEffect(()=>{w()},[]);const T={liffObject:e,isLoggedIn:s,profile:u,error:m,isLoading:p,login:E,logout:_};return d.jsx(Nw.Provider,{value:T,children:n})},Ae={SYSTEM_ADMIN:"system_admin",HQ_ADMIN:"hq_admin",AREA_MANAGER:"area_manager",STORE_MANAGER:"store_manager",FLOOR_MANAGER:"floor_manager",STAFF:"staff",TESTER:"tester"},Aj=(n,e)=>{const r={[Ae.SYSTEM_ADMIN]:7,[Ae.TESTER]:6,[Ae.HQ_ADMIN]:5,[Ae.AREA_MANAGER]:4,[Ae.FLOOR_MANAGER]:3,[Ae.STORE_MANAGER]:2,[Ae.STAFF]:1};return r[n]>=r[e]},re={SYSTEM_OVERVIEW:"system_overview",SYSTEM_SETTINGS:"system_settings",MANAGE_ALL_COMPANIES:"manage_all_companies",VIEW_ALL_DATA:"view_all_data",SYSTEM_DEBUG:"system_debug",SWITCH_ROLES:"switch_roles",TEST_ALL_FEATURES:"test_all_features",DEBUG_MODE:"debug_mode",MANAGE_STORES:"manage_stores",MANAGE_AREAS:"manage_areas",SET_GLOBAL_RULES:"set_global_rules",ASSIGN_PERMISSIONS:"assign_permissions",VIEW_AREA_STATS:"view_area_stats",APPROVE_CROSS_STORE_LEAVE:"approve_cross_store_leave",VIEW_DEPARTMENT_STORES:"view_department_stores",VIEW_STORE_SCHEDULES:"view_store_schedules",VIEW_STORE_STAFF:"view_store_staff",MANAGE_STORE_SCHEDULE:"manage_store_schedule",APPROVE_STAFF_LEAVE:"approve_staff_leave",SET_STORE_ACTIVITIES:"set_store_activities",VIEW_OWN_SCHEDULE:"view_own_schedule",REQUEST_LEAVE:"request_leave",VIEW_OWN_HOURS:"view_own_hours"},Vy={[Ae.SYSTEM_ADMIN]:[re.SYSTEM_OVERVIEW,re.SYSTEM_SETTINGS,re.MANAGE_ALL_COMPANIES,re.VIEW_ALL_DATA,re.SYSTEM_DEBUG,re.MANAGE_STORES,re.MANAGE_AREAS,re.SET_GLOBAL_RULES,re.ASSIGN_PERMISSIONS,re.VIEW_AREA_STATS,re.APPROVE_CROSS_STORE_LEAVE,re.MANAGE_STORE_SCHEDULE,re.APPROVE_STAFF_LEAVE,re.SET_STORE_ACTIVITIES,re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS],[Ae.TESTER]:[re.SWITCH_ROLES,re.TEST_ALL_FEATURES,re.DEBUG_MODE,re.MANAGE_STORES,re.MANAGE_AREAS,re.SET_GLOBAL_RULES,re.ASSIGN_PERMISSIONS,re.VIEW_AREA_STATS,re.APPROVE_CROSS_STORE_LEAVE,re.MANAGE_STORE_SCHEDULE,re.APPROVE_STAFF_LEAVE,re.SET_STORE_ACTIVITIES,re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS],[Ae.HQ_ADMIN]:[re.MANAGE_STORES,re.MANAGE_AREAS,re.SET_GLOBAL_RULES,re.ASSIGN_PERMISSIONS,re.VIEW_AREA_STATS,re.APPROVE_CROSS_STORE_LEAVE,re.MANAGE_STORE_SCHEDULE,re.APPROVE_STAFF_LEAVE,re.SET_STORE_ACTIVITIES,re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS],[Ae.AREA_MANAGER]:[re.VIEW_AREA_STATS,re.APPROVE_CROSS_STORE_LEAVE,re.MANAGE_STORE_SCHEDULE,re.APPROVE_STAFF_LEAVE,re.SET_STORE_ACTIVITIES,re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS],[Ae.FLOOR_MANAGER]:[re.VIEW_DEPARTMENT_STORES,re.VIEW_STORE_SCHEDULES,re.VIEW_STORE_STAFF,re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS],[Ae.STORE_MANAGER]:[re.MANAGE_STORE_SCHEDULE,re.APPROVE_STAFF_LEAVE,re.SET_STORE_ACTIVITIES,re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS],[Ae.STAFF]:[re.VIEW_OWN_SCHEDULE,re.REQUEST_LEAVE,re.VIEW_OWN_HOURS]},Hh=C.createContext(void 0),Oj=[{id:"0",lineUserId:"SYSTEM_ADMIN",name:"",email:"admin@banban.com",phone:"0911111111",role:Ae.SYSTEM_ADMIN,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"5",lineUserId:"TESTER_USER",name:"",email:"tester@banban.com",phone:"0955555555",role:Ae.TESTER,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"999",lineUserId:"U4cf9d8371be1642c600fbbb319386f82",name:"",email:"admin@your-company.com",phone:"0999999999",role:Ae.SYSTEM_ADMIN,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"1",lineUserId:"U1234567890",name:"",email:"hq@department-store.com",phone:"0912345678",role:Ae.HQ_ADMIN,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"2",lineUserId:"U2345678901",name:"",email:"area@department-store.com",phone:"0923456789",role:Ae.AREA_MANAGER,areaId:"area-1",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"3",lineUserId:"U3456789012",name:"",email:"manager@department-store.com",phone:"0934567890",role:Ae.STORE_MANAGER,storeId:"store-1",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"4",lineUserId:"U4567890123",name:"",email:"staff@department-store.com",phone:"0945678901",role:Ae.STAFF,storeId:"store-1",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],Aw=[{id:"store-1",name:"",code:"TAICHUNG_LALA",areaId:"area-1",managerId:"3",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"store-2",name:"",code:"NANGANG_LALA",areaId:"area-1",managerId:"5",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],Rj=[{id:"area-1",name:"",managerId:"2",stores:Aw,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],Cj=({children:n})=>{const[e,r]=C.useState(null),[s,o]=C.useState(null),[u,c]=C.useState(null),[m,g]=C.useState(null),[p,y]=C.useState([]),[b,w]=C.useState(!0),[E,_]=C.useState(null),T=async L=>Oj.find(q=>q.lineUserId===L)||null,S=async L=>{try{w(!0),_(null);const q=await T(L);if(q){if(r(q),o(q.role),y(Vy[q.role]),q.storeId){const B=Aw.find(J=>J.id===q.storeId);c(B||null)}if(q.areaId){const B=Rj.find(J=>J.id===q.areaId);g(B||null)}}else{const B={id:Date.now().toString(),lineUserId:L,name:"",email:"",phone:"",role:Ae.STAFF,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(B),o(Ae.STAFF),y(Vy[Ae.STAFF])}console.log(" :",{user:e?.name,role:s,permissions:p.length})}catch(q){console.error(" :",q),_(q instanceof Error?q.message:"")}finally{w(!1)}},A=L=>p.includes(L),j=L=>s?Aj(s,L):!1,N=L=>{S(L)};C.useEffect(()=>{N("U4cf9d8371be1642c600fbbb319386f82")},[]);const R={currentUser:e,userRole:s,userStore:u,userArea:m,permissions:p,hasPermission:A,canAccessRole:j,loading:b,error:E};return d.jsx(Hh.Provider,{value:R,children:n})},ua=()=>{const n=C.useContext(Hh);if(n===void 0)throw new Error("usePermission must be used within a PermissionProvider");return n},kj=()=>{if(!C.useContext(Hh))throw new Error("useDevUserSwitch must be used within a PermissionProvider");return{switchToRole:r=>{const s={[Ae.SYSTEM_ADMIN]:"SYSTEM_ADMIN",[Ae.TESTER]:"TESTER_USER",[Ae.HQ_ADMIN]:"U1234567890",[Ae.AREA_MANAGER]:"U2345678901",[Ae.STORE_MANAGER]:"U3456789012",[Ae.STAFF]:"U4567890123"};console.log(` : ${r} (LINE ID: ${s[r]})`),console.log(" "),setTimeout(()=>{window.location.reload()},500)}}},Dj=({children:n})=>{const e=la(),[r,s]=C.useState(!1),{profile:o,logout:u}=jo(),{hasPermission:c}=ua();C.useEffect(()=>{s(!1)},[e.pathname]);const m=p=>e.pathname===p,g=[{path:"/",label:"",icon:"",permission:null},{path:"/schedules",label:"",icon:"",permission:"manage_store_schedule"},{path:"/leave-requests",label:"",icon:"",permission:"approve_staff_leave"},{path:"/staff",label:"",icon:"",permission:"manage_stores"},{path:"/my-schedule",label:"",icon:"",permission:"view_own_schedule"},{path:"/cross-store-support",label:"",icon:"",permission:"manage_store_schedule"},{path:"/work-hours-report",label:"",icon:"",permission:"view_area_stats"},{path:"/system-admin",label:"",icon:"",permission:"system_overview"},{path:"/profile",label:"",icon:"",permission:null}];return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""})}),d.jsx("nav",{className:"hidden md:flex space-x-8",children:g.filter(p=>!p.permission||c(p.permission)).map(p=>d.jsxs(an,{to:p.path,className:`inline-flex items-center px-1 pt-1 text-sm font-medium ${m(p.path)?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[d.jsx("span",{className:"mr-2",children:p.icon}),p.label]},p.path))}),d.jsxs("div",{className:"flex items-center space-x-4",children:[o&&d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:o.pictureUrl||"https://via.placeholder.com/32",alt:o.displayName,className:"w-8 h-8 rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:o.displayName}),d.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700 text-sm",children:""})]}),d.jsx("button",{onClick:()=>s(!r),className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:d.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),r&&d.jsx("div",{className:"md:hidden border-t border-gray-200",children:d.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-2 space-y-1",children:[d.jsx(an,{to:"/",className:`block px-3 py-2 text-sm font-medium transition-colors ${m("/")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:""}),d.jsx(an,{to:"/my-schedule",className:`block px-3 py-2 text-sm font-medium transition-colors ${m("/my-schedule")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:""}),d.jsx(an,{to:"/schedules",className:`block px-3 py-2 text-sm font-medium transition-colors ${m("/schedules")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:""}),d.jsx(an,{to:"/leave-requests",className:`block px-3 py-2 text-sm font-medium transition-colors ${m("/leave-requests")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:""}),d.jsx(an,{to:"/staff",className:`block px-3 py-2 text-sm font-medium transition-colors ${m("/staff")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:""}),d.jsx(an,{to:"/profile",className:`block px-3 py-2 text-sm font-medium transition-colors ${m("/profile")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:""}),d.jsx("div",{className:"pt-2 border-t border-gray-200 mt-2",children:o&&d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2",children:[d.jsx("img",{src:o.pictureUrl||"https://via.placeholder.com/32",alt:o.displayName,className:"w-8 h-8 rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.displayName})]})})]})})]}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n}),d.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-500",children:" 2026 . All rights reserved."})})})]})};function Ow(n,e){return function(){return n.apply(e,arguments)}}const{toString:Uj}=Object.prototype,{getPrototypeOf:qh}=Object,{iterator:Uu,toStringTag:Rw}=Symbol,Lu=(n=>e=>{const r=Uj.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=n=>(n=n.toLowerCase(),e=>Lu(e)===n),Mu=n=>e=>typeof e===n,{isArray:ti}=Array,Ks=Mu("undefined");function No(n){return n!==null&&!Ks(n)&&n.constructor!==null&&!Ks(n.constructor)&&sn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Cw=Yn("ArrayBuffer");function Lj(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Cw(n.buffer),e}const Mj=Mu("string"),sn=Mu("function"),kw=Mu("number"),Ao=n=>n!==null&&typeof n=="object",Ij=n=>n===!0||n===!1,du=n=>{if(Lu(n)!=="object")return!1;const e=qh(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Rw in n)&&!(Uu in n)},Bj=n=>{if(!Ao(n)||No(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},$j=Yn("Date"),zj=Yn("File"),Pj=Yn("Blob"),Hj=Yn("FileList"),qj=n=>Ao(n)&&sn(n.pipe),Fj=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||sn(n.append)&&((e=Lu(n))==="formdata"||e==="object"&&sn(n.toString)&&n.toString()==="[object FormData]"))},Vj=Yn("URLSearchParams"),[Gj,Wj,Yj,Kj]=["ReadableStream","Request","Response","Headers"].map(Yn),Jj=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oo(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let s,o;if(typeof n!="object"&&(n=[n]),ti(n))for(s=0,o=n.length;s<o;s++)e.call(null,n[s],s,n);else{if(No(n))return;const u=r?Object.getOwnPropertyNames(n):Object.keys(n),c=u.length;let m;for(s=0;s<c;s++)m=u[s],e.call(null,n[m],m,n)}}function Dw(n,e){if(No(n))return null;e=e.toLowerCase();const r=Object.keys(n);let s=r.length,o;for(;s-- >0;)if(o=r[s],e===o.toLowerCase())return o;return null}const $a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Uw=n=>!Ks(n)&&n!==$a;function eh(){const{caseless:n,skipUndefined:e}=Uw(this)&&this||{},r={},s=(o,u)=>{const c=n&&Dw(r,u)||u;du(r[c])&&du(o)?r[c]=eh(r[c],o):du(o)?r[c]=eh({},o):ti(o)?r[c]=o.slice():(!e||!Ks(o))&&(r[c]=o)};for(let o=0,u=arguments.length;o<u;o++)arguments[o]&&Oo(arguments[o],s);return r}const Xj=(n,e,r,{allOwnKeys:s}={})=>(Oo(e,(o,u)=>{r&&sn(o)?n[u]=Ow(o,r):n[u]=o},{allOwnKeys:s}),n),Qj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Zj=(n,e,r,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},eN=(n,e,r,s)=>{let o,u,c;const m={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),u=o.length;u-- >0;)c=o[u],(!s||s(c,n,e))&&!m[c]&&(e[c]=n[c],m[c]=!0);n=r!==!1&&qh(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},tN=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const s=n.indexOf(e,r);return s!==-1&&s===r},nN=n=>{if(!n)return null;if(ti(n))return n;let e=n.length;if(!kw(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},rN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&qh(Uint8Array)),aN=(n,e)=>{const s=(n&&n[Uu]).call(n);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(n,u[0],u[1])}},sN=(n,e)=>{let r;const s=[];for(;(r=n.exec(e))!==null;)s.push(r);return s},iN=Yn("HTMLFormElement"),oN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),Gy=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),lN=Yn("RegExp"),Lw=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),s={};Oo(r,(o,u)=>{let c;(c=e(o,u,n))!==!1&&(s[u]=c||o)}),Object.defineProperties(n,s)},uN=n=>{Lw(n,(e,r)=>{if(sn(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=n[r];if(sn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},cN=(n,e)=>{const r={},s=o=>{o.forEach(u=>{r[u]=!0})};return ti(n)?s(n):s(String(n).split(e)),r},dN=()=>{},fN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function hN(n){return!!(n&&sn(n.append)&&n[Rw]==="FormData"&&n[Uu])}const mN=n=>{const e=new Array(10),r=(s,o)=>{if(Ao(s)){if(e.indexOf(s)>=0)return;if(No(s))return s;if(!("toJSON"in s)){e[o]=s;const u=ti(s)?[]:{};return Oo(s,(c,m)=>{const g=r(c,o+1);!Ks(g)&&(u[m]=g)}),e[o]=void 0,u}}return s};return r(n,0)},pN=Yn("AsyncFunction"),gN=n=>n&&(Ao(n)||sn(n))&&sn(n.then)&&sn(n.catch),Mw=((n,e)=>n?setImmediate:e?((r,s)=>($a.addEventListener("message",({source:o,data:u})=>{o===$a&&u===r&&s.length&&s.shift()()},!1),o=>{s.push(o),$a.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",sn($a.postMessage)),yN=typeof queueMicrotask<"u"?queueMicrotask.bind($a):typeof process<"u"&&process.nextTick||Mw,vN=n=>n!=null&&sn(n[Uu]),P={isArray:ti,isArrayBuffer:Cw,isBuffer:No,isFormData:Fj,isArrayBufferView:Lj,isString:Mj,isNumber:kw,isBoolean:Ij,isObject:Ao,isPlainObject:du,isEmptyObject:Bj,isReadableStream:Gj,isRequest:Wj,isResponse:Yj,isHeaders:Kj,isUndefined:Ks,isDate:$j,isFile:zj,isBlob:Pj,isRegExp:lN,isFunction:sn,isStream:qj,isURLSearchParams:Vj,isTypedArray:rN,isFileList:Hj,forEach:Oo,merge:eh,extend:Xj,trim:Jj,stripBOM:Qj,inherits:Zj,toFlatObject:eN,kindOf:Lu,kindOfTest:Yn,endsWith:tN,toArray:nN,forEachEntry:aN,matchAll:sN,isHTMLForm:iN,hasOwnProperty:Gy,hasOwnProp:Gy,reduceDescriptors:Lw,freezeMethods:uN,toObjectSet:cN,toCamelCase:oN,noop:dN,toFiniteNumber:fN,findKey:Dw,global:$a,isContextDefined:Uw,isSpecCompliantForm:hN,toJSONObject:mN,isAsyncFn:pN,isThenable:gN,setImmediate:Mw,asap:yN,isIterable:vN};function ve(n,e,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}P.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Iw=ve.prototype,Bw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Bw[n]={value:n}});Object.defineProperties(ve,Bw);Object.defineProperty(Iw,"isAxiosError",{value:!0});ve.from=(n,e,r,s,o,u)=>{const c=Object.create(Iw);P.toFlatObject(n,c,function(y){return y!==Error.prototype},p=>p!=="isAxiosError");const m=n&&n.message?n.message:"Error",g=e==null&&n?n.code:e;return ve.call(c,m,g,r,s,o),n&&c.cause==null&&Object.defineProperty(c,"cause",{value:n,configurable:!0}),c.name=n&&n.name||"Error",u&&Object.assign(c,u),c};const bN=null;function th(n){return P.isPlainObject(n)||P.isArray(n)}function $w(n){return P.endsWith(n,"[]")?n.slice(0,-2):n}function Wy(n,e,r){return n?n.concat(e).map(function(o,u){return o=$w(o),!r&&u?"["+o+"]":o}).join(r?".":""):e}function wN(n){return P.isArray(n)&&!n.some(th)}const xN=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Iu(n,e,r){if(!P.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!P.isUndefined(S[T])});const s=r.metaTokens,o=r.visitor||y,u=r.dots,c=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(o))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(P.isDate(_))return _.toISOString();if(P.isBoolean(_))return _.toString();if(!g&&P.isBlob(_))throw new ve("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(_)||P.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function y(_,T,S){let A=_;if(_&&!S&&typeof _=="object"){if(P.endsWith(T,"{}"))T=s?T:T.slice(0,-2),_=JSON.stringify(_);else if(P.isArray(_)&&wN(_)||(P.isFileList(_)||P.endsWith(T,"[]"))&&(A=P.toArray(_)))return T=$w(T),A.forEach(function(N,R){!(P.isUndefined(N)||N===null)&&e.append(c===!0?Wy([T],R,u):c===null?T:T+"[]",p(N))}),!1}return th(_)?!0:(e.append(Wy(S,T,u),p(_)),!1)}const b=[],w=Object.assign(xN,{defaultVisitor:y,convertValue:p,isVisitable:th});function E(_,T){if(!P.isUndefined(_)){if(b.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));b.push(_),P.forEach(_,function(A,j){(!(P.isUndefined(A)||A===null)&&o.call(e,A,P.isString(j)?j.trim():j,T,w))===!0&&E(A,T?T.concat(j):[j])}),b.pop()}}if(!P.isObject(n))throw new TypeError("data must be an object");return E(n),e}function Yy(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Fh(n,e){this._pairs=[],n&&Iu(n,this,e)}const zw=Fh.prototype;zw.append=function(e,r){this._pairs.push([e,r])};zw.toString=function(e){const r=e?function(s){return e.call(this,s,Yy)}:Yy;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function _N(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pw(n,e,r){if(!e)return n;const s=r&&r.encode||_N;P.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let u;if(o?u=o(e,r):u=P.isURLSearchParams(e)?e.toString():new Fh(e,r).toString(s),u){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class Ky{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Hw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SN=typeof URLSearchParams<"u"?URLSearchParams:Fh,EN=typeof FormData<"u"?FormData:null,TN=typeof Blob<"u"?Blob:null,jN={isBrowser:!0,classes:{URLSearchParams:SN,FormData:EN,Blob:TN},protocols:["http","https","file","blob","url","data"]},Vh=typeof window<"u"&&typeof document<"u",nh=typeof navigator=="object"&&navigator||void 0,NN=Vh&&(!nh||["ReactNative","NativeScript","NS"].indexOf(nh.product)<0),AN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ON=Vh&&window.location.href||"http://localhost",RN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vh,hasStandardBrowserEnv:NN,hasStandardBrowserWebWorkerEnv:AN,navigator:nh,origin:ON},Symbol.toStringTag,{value:"Module"})),qt={...RN,...jN};function CN(n,e){return Iu(n,new qt.classes.URLSearchParams,{visitor:function(r,s,o,u){return qt.isNode&&P.isBuffer(r)?(this.append(s,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function kN(n){return P.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DN(n){const e={},r=Object.keys(n);let s;const o=r.length;let u;for(s=0;s<o;s++)u=r[s],e[u]=n[u];return e}function qw(n){function e(r,s,o,u){let c=r[u++];if(c==="__proto__")return!0;const m=Number.isFinite(+c),g=u>=r.length;return c=!c&&P.isArray(o)?o.length:c,g?(P.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!m):((!o[c]||!P.isObject(o[c]))&&(o[c]=[]),e(r,s,o[c],u)&&P.isArray(o[c])&&(o[c]=DN(o[c])),!m)}if(P.isFormData(n)&&P.isFunction(n.entries)){const r={};return P.forEachEntry(n,(s,o)=>{e(kN(s),o,r,0)}),r}return null}function UN(n,e,r){if(P.isString(n))try{return(e||JSON.parse)(n),P.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(n)}const Ro={transitional:Hw,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,u=P.isObject(e);if(u&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return o?JSON.stringify(qw(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return CN(e,this.formSerializer).toString();if((m=P.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Iu(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||o?(r.setContentType("application/json",!1),UN(e)):e}],transformResponse:[function(e){const r=this.transitional||Ro.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(m){if(c)throw m.name==="SyntaxError"?ve.from(m,ve.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],n=>{Ro.headers[n]={}});const LN=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MN=n=>{const e={};let r,s,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||e[r]&&LN[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},Jy=Symbol("internals");function no(n){return n&&String(n).trim().toLowerCase()}function fu(n){return n===!1||n==null?n:P.isArray(n)?n.map(fu):String(n)}function IN(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(n);)e[s[1]]=s[2];return e}const BN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Tf(n,e,r,s,o){if(P.isFunction(s))return s.call(this,e,r);if(o&&(e=r),!!P.isString(e)){if(P.isString(s))return e.indexOf(s)!==-1;if(P.isRegExp(s))return s.test(e)}}function $N(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function zN(n,e){const r=P.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+r,{value:function(o,u,c){return this[s].call(this,e,o,u,c)},configurable:!0})})}let on=class{constructor(e){e&&this.set(e)}set(e,r,s){const o=this;function u(m,g,p){const y=no(g);if(!y)throw new Error("header name must be a non-empty string");const b=P.findKey(o,y);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||g]=fu(m))}const c=(m,g)=>P.forEach(m,(p,y)=>u(p,y,g));if(P.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(P.isString(e)&&(e=e.trim())&&!BN(e))c(MN(e),r);else if(P.isObject(e)&&P.isIterable(e)){let m={},g,p;for(const y of e){if(!P.isArray(y))throw TypeError("Object iterator must return a key-value pair");m[p=y[0]]=(g=m[p])?P.isArray(g)?[...g,y[1]]:[g,y[1]]:y[1]}c(m,r)}else e!=null&&u(r,e,s);return this}get(e,r){if(e=no(e),e){const s=P.findKey(this,e);if(s){const o=this[s];if(!r)return o;if(r===!0)return IN(o);if(P.isFunction(r))return r.call(this,o,s);if(P.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=no(e),e){const s=P.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||Tf(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let o=!1;function u(c){if(c=no(c),c){const m=P.findKey(s,c);m&&(!r||Tf(s,s[m],m,r))&&(delete s[m],o=!0)}}return P.isArray(e)?e.forEach(u):u(e),o}clear(e){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const u=r[s];(!e||Tf(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const r=this,s={};return P.forEach(this,(o,u)=>{const c=P.findKey(s,u);if(c){r[c]=fu(o),delete r[u];return}const m=e?$N(u):String(u).trim();m!==u&&delete r[u],r[m]=fu(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return P.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=e&&P.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[Jy]=this[Jy]={accessors:{}}).accessors,o=this.prototype;function u(c){const m=no(c);s[m]||(zN(o,c),s[m]=!0)}return P.isArray(e)?e.forEach(u):u(e),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(on.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[r]=s}}});P.freezeMethods(on);function jf(n,e){const r=this||Ro,s=e||r,o=on.from(s.headers);let u=s.data;return P.forEach(n,function(m){u=m.call(r,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function Fw(n){return!!(n&&n.__CANCEL__)}function ni(n,e,r){ve.call(this,n??"canceled",ve.ERR_CANCELED,e,r),this.name="CanceledError"}P.inherits(ni,ve,{__CANCEL__:!0});function Vw(n,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):e(new ve("Request failed with status code "+r.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function PN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function HN(n,e){n=n||10;const r=new Array(n),s=new Array(n);let o=0,u=0,c;return e=e!==void 0?e:1e3,function(g){const p=Date.now(),y=s[u];c||(c=p),r[o]=g,s[o]=p;let b=u,w=0;for(;b!==o;)w+=r[b++],b=b%n;if(o=(o+1)%n,o===u&&(u=(u+1)%n),p-c<e)return;const E=y&&p-y;return E?Math.round(w*1e3/E):void 0}}function qN(n,e){let r=0,s=1e3/e,o,u;const c=(p,y=Date.now())=>{r=y,o=null,u&&(clearTimeout(u),u=null),n(...p)};return[(...p)=>{const y=Date.now(),b=y-r;b>=s?c(p,y):(o=p,u||(u=setTimeout(()=>{u=null,c(o)},s-b)))},()=>o&&c(o)]}const bu=(n,e,r=3)=>{let s=0;const o=HN(50,250);return qN(u=>{const c=u.loaded,m=u.lengthComputable?u.total:void 0,g=c-s,p=o(g),y=c<=m;s=c;const b={loaded:c,total:m,progress:m?c/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&y?(m-c)/p:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};n(b)},r)},Xy=(n,e)=>{const r=n!=null;return[s=>e[0]({lengthComputable:r,total:n,loaded:s}),e[1]]},Qy=n=>(...e)=>P.asap(()=>n(...e)),FN=qt.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,qt.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,VN=qt.hasStandardBrowserEnv?{write(n,e,r,s,o,u,c){if(typeof document>"u")return;const m=[`${n}=${encodeURIComponent(e)}`];P.isNumber(r)&&m.push(`expires=${new Date(r).toUTCString()}`),P.isString(s)&&m.push(`path=${s}`),P.isString(o)&&m.push(`domain=${o}`),u===!0&&m.push("secure"),P.isString(c)&&m.push(`SameSite=${c}`),document.cookie=m.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function GN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function WN(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Gw(n,e,r){let s=!GN(e);return n&&(s||r==!1)?WN(n,e):e}const Zy=n=>n instanceof on?{...n}:n;function Fa(n,e){e=e||{};const r={};function s(p,y,b,w){return P.isPlainObject(p)&&P.isPlainObject(y)?P.merge.call({caseless:w},p,y):P.isPlainObject(y)?P.merge({},y):P.isArray(y)?y.slice():y}function o(p,y,b,w){if(P.isUndefined(y)){if(!P.isUndefined(p))return s(void 0,p,b,w)}else return s(p,y,b,w)}function u(p,y){if(!P.isUndefined(y))return s(void 0,y)}function c(p,y){if(P.isUndefined(y)){if(!P.isUndefined(p))return s(void 0,p)}else return s(void 0,y)}function m(p,y,b){if(b in e)return s(p,y);if(b in n)return s(void 0,p)}const g={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:m,headers:(p,y,b)=>o(Zy(p),Zy(y),b,!0)};return P.forEach(Object.keys({...n,...e}),function(y){const b=g[y]||o,w=b(n[y],e[y],y);P.isUndefined(w)&&b!==m||(r[y]=w)}),r}const Ww=n=>{const e=Fa({},n);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:c,auth:m}=e;if(e.headers=c=on.from(c),e.url=Pw(Gw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&c.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),P.isFormData(r)){if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const g=r.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([y,b])=>{p.includes(y.toLowerCase())&&c.set(y,b)})}}if(qt.hasStandardBrowserEnv&&(s&&P.isFunction(s)&&(s=s(e)),s||s!==!1&&FN(e.url))){const g=o&&u&&VN.read(u);g&&c.set(o,g)}return e},YN=typeof XMLHttpRequest<"u",KN=YN&&function(n){return new Promise(function(r,s){const o=Ww(n);let u=o.data;const c=on.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=o,y,b,w,E,_;function T(){E&&E(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function A(){if(!S)return;const N=on.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),L={data:!m||m==="text"||m==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:N,config:n,request:S};Vw(function(B){r(B),T()},function(B){s(B),T()},L),S=null}"onloadend"in S?S.onloadend=A:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(A)},S.onabort=function(){S&&(s(new ve("Request aborted",ve.ECONNABORTED,n,S)),S=null)},S.onerror=function(R){const L=R&&R.message?R.message:"Network Error",q=new ve(L,ve.ERR_NETWORK,n,S);q.event=R||null,s(q),S=null},S.ontimeout=function(){let R=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const L=o.transitional||Hw;o.timeoutErrorMessage&&(R=o.timeoutErrorMessage),s(new ve(R,L.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,n,S)),S=null},u===void 0&&c.setContentType(null),"setRequestHeader"in S&&P.forEach(c.toJSON(),function(R,L){S.setRequestHeader(L,R)}),P.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),m&&m!=="json"&&(S.responseType=o.responseType),p&&([w,_]=bu(p,!0),S.addEventListener("progress",w)),g&&S.upload&&([b,E]=bu(g),S.upload.addEventListener("progress",b),S.upload.addEventListener("loadend",E)),(o.cancelToken||o.signal)&&(y=N=>{S&&(s(!N||N.type?new ni(null,n,S):N),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const j=PN(o.url);if(j&&qt.protocols.indexOf(j)===-1){s(new ve("Unsupported protocol "+j+":",ve.ERR_BAD_REQUEST,n));return}S.send(u||null)})},JN=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let s=new AbortController,o;const u=function(p){if(!o){o=!0,m();const y=p instanceof Error?p:this.reason;s.abort(y instanceof ve?y:new ni(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,u(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const m=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),n=null)};n.forEach(p=>p.addEventListener("abort",u));const{signal:g}=s;return g.unsubscribe=()=>P.asap(m),g}},XN=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let s=0,o;for(;s<r;)o=s+e,yield n.slice(s,o),s=o},QN=async function*(n,e){for await(const r of ZN(n))yield*XN(r,e)},ZN=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},ev=(n,e,r,s)=>{const o=QN(n,e);let u=0,c,m=g=>{c||(c=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:y}=await o.next();if(p){m(),g.close();return}let b=y.byteLength;if(r){let w=u+=b;r(w)}g.enqueue(new Uint8Array(y))}catch(p){throw m(p),p}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},tv=64*1024,{isFunction:eu}=P,eA=(({Request:n,Response:e})=>({Request:n,Response:e}))(P.global),{ReadableStream:nv,TextEncoder:rv}=P.global,av=(n,...e)=>{try{return!!n(...e)}catch{return!1}},tA=n=>{n=P.merge.call({skipUndefined:!0},eA,n);const{fetch:e,Request:r,Response:s}=n,o=e?eu(e):typeof fetch=="function",u=eu(r),c=eu(s);if(!o)return!1;const m=o&&eu(nv),g=o&&(typeof rv=="function"?(_=>T=>_.encode(T))(new rv):async _=>new Uint8Array(await new r(_).arrayBuffer())),p=u&&m&&av(()=>{let _=!1;const T=new r(qt.origin,{body:new nv,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!T}),y=c&&m&&av(()=>P.isReadableStream(new s("").body)),b={stream:y&&(_=>_.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!b[_]&&(b[_]=(T,S)=>{let A=T&&T[_];if(A)return A.call(T);throw new ve(`Response type '${_}' is not supported`,ve.ERR_NOT_SUPPORT,S)})});const w=async _=>{if(_==null)return 0;if(P.isBlob(_))return _.size;if(P.isSpecCompliantForm(_))return(await new r(qt.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(P.isArrayBufferView(_)||P.isArrayBuffer(_))return _.byteLength;if(P.isURLSearchParams(_)&&(_=_+""),P.isString(_))return(await g(_)).byteLength},E=async(_,T)=>{const S=P.toFiniteNumber(_.getContentLength());return S??w(T)};return async _=>{let{url:T,method:S,data:A,signal:j,cancelToken:N,timeout:R,onDownloadProgress:L,onUploadProgress:q,responseType:B,headers:J,withCredentials:K="same-origin",fetchOptions:ee}=Ww(_),me=e||fetch;B=B?(B+"").toLowerCase():"text";let pe=JN([j,N&&N.toAbortSignal()],R),ge=null;const ke=pe&&pe.unsubscribe&&(()=>{pe.unsubscribe()});let be;try{if(q&&p&&S!=="get"&&S!=="head"&&(be=await E(J,A))!==0){let k=new r(T,{method:"POST",body:A,duplex:"half"}),G;if(P.isFormData(A)&&(G=k.headers.get("content-type"))&&J.setContentType(G),k.body){const[te,ne]=Xy(be,bu(Qy(q)));A=ev(k.body,tv,te,ne)}}P.isString(K)||(K=K?"include":"omit");const z=u&&"credentials"in r.prototype,Q={...ee,signal:pe,method:S.toUpperCase(),headers:J.normalize().toJSON(),body:A,duplex:"half",credentials:z?K:void 0};ge=u&&new r(T,Q);let oe=await(u?me(ge,ee):me(T,Q));const Me=y&&(B==="stream"||B==="response");if(y&&(L||Me&&ke)){const k={};["status","statusText","headers"].forEach(fe=>{k[fe]=oe[fe]});const G=P.toFiniteNumber(oe.headers.get("content-length")),[te,ne]=L&&Xy(G,bu(Qy(L),!0))||[];oe=new s(ev(oe.body,tv,te,()=>{ne&&ne(),ke&&ke()}),k)}B=B||"text";let Pe=await b[P.findKey(b,B)||"text"](oe,_);return!Me&&ke&&ke(),await new Promise((k,G)=>{Vw(k,G,{data:Pe,headers:on.from(oe.headers),status:oe.status,statusText:oe.statusText,config:_,request:ge})})}catch(z){throw ke&&ke(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,_,ge),{cause:z.cause||z}):ve.from(z,z&&z.code,_,ge)}}},nA=new Map,Yw=n=>{let e=n&&n.env||{};const{fetch:r,Request:s,Response:o}=e,u=[s,o,r];let c=u.length,m=c,g,p,y=nA;for(;m--;)g=u[m],p=y.get(g),p===void 0&&y.set(g,p=m?new Map:tA(e)),y=p;return p};Yw();const Gh={http:bN,xhr:KN,fetch:{get:Yw}};P.forEach(Gh,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sv=n=>`- ${n}`,rA=n=>P.isFunction(n)||n===null||n===!1;function aA(n,e){n=P.isArray(n)?n:[n];const{length:r}=n;let s,o;const u={};for(let c=0;c<r;c++){s=n[c];let m;if(o=s,!rA(s)&&(o=Gh[(m=String(s)).toLowerCase()],o===void 0))throw new ve(`Unknown adapter '${m}'`);if(o&&(P.isFunction(o)||(o=o.get(e))))break;u[m||"#"+c]=o}if(!o){const c=Object.entries(u).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=r?c.length>1?`since :
`+c.map(sv).join(`
`):" "+sv(c[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const Kw={getAdapter:aA,adapters:Gh};function Nf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ni(null,n)}function iv(n){return Nf(n),n.headers=on.from(n.headers),n.data=jf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Kw.getAdapter(n.adapter||Ro.adapter,n)(n).then(function(s){return Nf(n),s.data=jf.call(n,n.transformResponse,s),s.headers=on.from(s.headers),s},function(s){return Fw(s)||(Nf(n),s&&s.response&&(s.response.data=jf.call(n,n.transformResponse,s.response),s.response.headers=on.from(s.response.headers))),Promise.reject(s)})}const Jw="1.13.2",Bu={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Bu[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const ov={};Bu.transitional=function(e,r,s){function o(u,c){return"[Axios v"+Jw+"] Transitional option '"+u+"'"+c+(s?". "+s:"")}return(u,c,m)=>{if(e===!1)throw new ve(o(c," has been removed"+(r?" in "+r:"")),ve.ERR_DEPRECATED);return r&&!ov[c]&&(ov[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(u,c,m):!0}};Bu.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function sA(n,e,r){if(typeof n!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let o=s.length;for(;o-- >0;){const u=s[o],c=e[u];if(c){const m=n[u],g=m===void 0||c(m,u,n);if(g!==!0)throw new ve("option "+u+" must be "+g,ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ve("Unknown option "+u,ve.ERR_BAD_OPTION)}}const hu={assertOptions:sA,validators:Bu},er=hu.validators;let Pa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ky,response:new Ky}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Fa(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:u}=r;s!==void 0&&hu.assertOptions(s,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),o!=null&&(P.isFunction(o)?r.paramsSerializer={serialize:o}:hu.assertOptions(o,{encode:er.function,serialize:er.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hu.assertOptions(r,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=u&&P.merge(u.common,u[r.method]);u&&P.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),r.headers=on.concat(c,u);const m=[];let g=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(g=g&&T.synchronous,m.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let y,b=0,w;if(!g){const _=[iv.bind(this),void 0];for(_.unshift(...m),_.push(...p),w=_.length,y=Promise.resolve(r);b<w;)y=y.then(_[b++],_[b++]);return y}w=m.length;let E=r;for(;b<w;){const _=m[b++],T=m[b++];try{E=_(E)}catch(S){T.call(this,S);break}}try{y=iv.call(this,E)}catch(_){return Promise.reject(_)}for(b=0,w=p.length;b<w;)y=y.then(p[b++],p[b++]);return y}getUri(e){e=Fa(this.defaults,e);const r=Gw(e.baseURL,e.url,e.allowAbsoluteUrls);return Pw(r,e.params,e.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(e){Pa.prototype[e]=function(r,s){return this.request(Fa(s||{},{method:e,url:r,data:(s||{}).data}))}});P.forEach(["post","put","patch"],function(e){function r(s){return function(u,c,m){return this.request(Fa(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}Pa.prototype[e]=r(),Pa.prototype[e+"Form"]=r(!0)});let iA=class Xw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const c=new Promise(m=>{s.subscribe(m),u=m}).then(o);return c.cancel=function(){s.unsubscribe(u)},c},e(function(u,c,m){s.reason||(s.reason=new ni(u,c,m),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Xw(function(o){e=o}),cancel:e}}};function oA(n){return function(r){return n.apply(null,r)}}function lA(n){return P.isObject(n)&&n.isAxiosError===!0}const rh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rh).forEach(([n,e])=>{rh[e]=n});function Qw(n){const e=new Pa(n),r=Ow(Pa.prototype.request,e);return P.extend(r,Pa.prototype,e,{allOwnKeys:!0}),P.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return Qw(Fa(n,o))},r}const yt=Qw(Ro);yt.Axios=Pa;yt.CanceledError=ni;yt.CancelToken=iA;yt.isCancel=Fw;yt.VERSION=Jw;yt.toFormData=Iu;yt.AxiosError=ve;yt.Cancel=yt.CanceledError;yt.all=function(e){return Promise.all(e)};yt.spread=oA;yt.isAxiosError=lA;yt.mergeConfig=Fa;yt.AxiosHeaders=on;yt.formToJSON=n=>qw(P.isHTMLForm(n)?new FormData(n):n);yt.getAdapter=Kw.getAdapter;yt.HttpStatusCode=rh;yt.default=yt;const{Axios:r4,AxiosError:a4,CanceledError:s4,isCancel:i4,CancelToken:o4,VERSION:l4,all:u4,Cancel:c4,isAxiosError:d4,spread:f4,toFormData:h4,AxiosHeaders:m4,HttpStatusCode:p4,formToJSON:g4,getAdapter:y4,mergeConfig:v4}=yt,uA="https://department-store-scheduling.onrender.com",Et=yt.create({baseURL:uA,timeout:3e4,headers:{"Content-Type":"application/json"}});Et.interceptors.request.use(n=>(console.log("API Request:",n),n),n=>(console.error("API Request Error:",n),Promise.reject(n)));Et.interceptors.response.use(n=>(console.log("API Response:",n),n),n=>(console.error("API Response Error:",n),Promise.reject(n)));const Kt={async getStaff(){try{return(await Et.get("/api/staff")).data}catch(n){throw console.error(":",n),n}},async getStaffById(n){try{return(await Et.get(`/api/staff/${n}`)).data}catch(e){throw console.error(":",e),e}},async createStaff(n){try{return(await Et.post("/api/staff",n)).data}catch(e){throw console.error(":",e),e}},async updateStaff(n,e){try{return(await Et.put(`/api/staff/${n}`,e)).data}catch(r){throw console.error(":",r),r}},async deleteStaff(n){try{await Et.delete(`/api/staff/${n}`)}catch(e){throw console.error(":",e),e}},async getSchedules(){try{return(await Et.get("/api/schedules")).data}catch(n){throw console.error(":",n),n}},async getScheduleById(n){try{return(await Et.get(`/api/schedules/${n}`)).data}catch(e){throw console.error(":",e),e}},async createSchedule(n){try{return(await Et.post("/api/schedules",n)).data}catch(e){throw console.error(":",e),e}},async updateSchedule(n,e){try{return(await Et.put(`/api/schedules/${n}`,e)).data}catch(r){throw console.error(":",r),r}},async deleteSchedule(n){try{await Et.delete(`/api/schedules/${n}`)}catch(e){throw console.error(":",e),e}},async getLeaveRequests(){try{return(await Et.get("/api/leave-requests")).data}catch(n){throw console.error(":",n),n}},async getLeaveRequestById(n){try{return(await Et.get(`/api/leave-requests/${n}`)).data}catch(e){throw console.error(":",e),e}},async createLeaveRequest(n){try{return(await Et.post("/api/leave-requests",n)).data}catch(e){throw console.error(":",e),e}},async updateLeaveRequest(n,e){try{return(await Et.put(`/api/leave-requests/${n}`,e)).data}catch(r){throw console.error(":",r),r}},async deleteLeaveRequest(n){try{await Et.delete(`/api/leave-requests/${n}`)}catch(e){throw console.error(":",e),e}},async getStats(){try{return(await Et.get("/api/stats")).data}catch(n){throw console.error(":",n),n}},async healthCheck(){try{return(await Et.get("/health")).data}catch(n){throw console.error(":",n),n}}};function Wh(n,e=[]){const[r,s]=C.useState(null),[o,u]=C.useState(!0),[c,m]=C.useState(null),g=async()=>{try{u(!0),m(null);const p=await n();s(p)}catch(p){m(p instanceof Error?p.message:"")}finally{u(!1)}};return C.useEffect(()=>{let p=!0;return(async()=>p&&await g())(),()=>{p=!1}},e),{data:r,loading:o,error:c,refetch:g}}function ri(){return Wh(()=>Kt.getStaff())}function Zw(){return Wh(()=>Kt.getSchedules())}function ex(){return Wh(()=>Kt.getLeaveRequests())}const cA=()=>{const{data:n,loading:e,error:r}=ri(),{data:s,loading:o,error:u}=Zw(),{data:c,loading:m,error:g}=ex(),p={totalStaff:n?.length||0,todaySchedules:s?.filter(_=>_.schedule_date===new Date().toISOString().split("T")[0]).length||0,pendingLeaves:c?.filter(_=>_.status==="pending").length||0,conflicts:0},y=s?.filter(_=>_.schedule_date===new Date().toISOString().split("T")[0])||[],b=c?.slice(0,2)||[],w=e||o||m,E=r||u||g;return w?d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"text-center py-8",children:d.jsx("div",{className:"text-gray-500",children:"..."})})}):E?d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"text-center py-8",children:d.jsxs("div",{className:"text-red-500",children:[": ",r||u||g]})})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx(an,{to:"/schedules",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:" "}),d.jsx("button",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:""})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalStaff})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:""})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.todaySchedules})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:""})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.pendingLeaves})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:""})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.conflicts})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),d.jsx("span",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("zh-TW")})]}),d.jsx("div",{className:"space-y-3",children:y.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500",children:""}):y.map(_=>{const T=n?.find(S=>S.id===_.staff_id);return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium",children:T?.name?.[0]||"?"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:T?.name||""}),d.jsx("p",{className:"text-sm text-gray-600",children:_.shift_type_id})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.schedule_date}),d.jsx("p",{className:"text-xs text-green-600",children:" "})]})]},_.id)})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),d.jsx(an,{to:"/leave-requests",className:"text-sm text-blue-600 hover:text-blue-700",children:""})]}),d.jsx("div",{className:"space-y-3",children:b.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500",children:""}):b.map(_=>{const T=n?.find(S=>S.id===_.staff_id);return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-white font-medium",children:T?.name?.[0]||"?"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:T?.name||""}),d.jsxs("p",{className:"text-sm text-gray-600",children:[_.leave_type," - ",_.reason]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.start_date}),d.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${_.status==="pending"?"bg-yellow-100 text-yellow-800":_.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.status==="pending"?"":_.status==="approved"?"":""})]})]},_.id)})})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(an,{to:"/schedules",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors block",children:[d.jsx("span",{className:"text-2xl mb-2 block",children:""}),d.jsx("p",{className:"font-medium text-gray-900",children:""}),d.jsx("p",{className:"text-sm text-gray-600",children:""})]}),d.jsxs(an,{to:"/leave-requests",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors block",children:[d.jsx("span",{className:"text-2xl mb-2 block",children:""}),d.jsx("p",{className:"font-medium text-gray-900",children:""}),d.jsx("p",{className:"text-sm text-gray-600",children:""})]}),d.jsxs(an,{to:"/my-schedule",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors block",children:[d.jsx("span",{className:"text-2xl mb-2 block",children:""}),d.jsx("p",{className:"font-medium text-gray-900",children:""}),d.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})]})]})},dA=({schedule:n,onSave:e,onCancel:r,isSubmitting:s=!1})=>{const{data:o}=ri(),[u,c]=C.useState({staff_id:n?.staff_id||"",shift_type_id:n?.shift_type_id||"",schedule_date:n?.schedule_date||new Date().toISOString().split("T")[0],status:n?.status||"scheduled",notes:n?.notes||"",created_by:n?.created_by||""}),m=p=>{p.preventDefault(),e(u)},g=p=>{const{name:y,value:b}=p.target;c(w=>({...w,[y]:b}))};return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:n?"":""}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"staff_id",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsxs("select",{id:"staff_id",name:"staff_id",value:u.staff_id,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[d.jsx("option",{value:"",children:""}),o?.map(p=>d.jsxs("option",{value:p.id,children:[p.name," (",p.employee_id,")"]},p.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"shift_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsxs("select",{id:"shift_type_id",name:"shift_type_id",value:u.shift_type_id,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"schedule_date",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"date",id:"schedule_date",name:"schedule_date",value:u.schedule_date,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsxs("select",{id:"status",name:"status",value:u.status,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"scheduled",children:""}),d.jsx("option",{value:"pending",children:""}),d.jsx("option",{value:"cancelled",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:g,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"..."})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",disabled:s,children:""}),d.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"...":n?"":""})]})]})]})},tx=({onSearch:n,onFilter:e,onSort:r,searchPlaceholder:s="...",filterOptions:o=[],sortOptions:u=[],showFilter:c=!0,showSort:m=!0,className:g=""})=>{const[p,y]=C.useState(""),[b,w]=C.useState({}),[E,_]=C.useState({field:"",direction:"asc"}),[T,S]=C.useState(!1),[A,j]=C.useState(!1),N=C.useRef(null),R=C.useRef(null);C.useEffect(()=>{const be=z=>{N.current&&!N.current.contains(z.target)&&S(!1),R.current&&!R.current.contains(z.target)&&j(!1)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]);const L=be=>{const z=be.target.value;y(z),n(z)},q=(be,z)=>{const Q={...b,[be]:z};w(Q),e(Q)},B=(be,z)=>{const Q={field:be,direction:z};_(Q),r(Q)},J=()=>{w({}),e({})},K=()=>{y(""),n("")},ee=()=>{_({field:"",direction:"asc"}),r({field:"",direction:"asc"})},me=()=>{K(),J(),ee()},pe=Object.keys(b).length>0,ge=E.field!=="",ke=p!=="";return d.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${g}`,children:d.jsxs("div",{className:"flex flex-col space-y-4",children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx("input",{type:"text",value:p,onChange:L,placeholder:s,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:""}),ke&&d.jsx("button",{onClick:K,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:""})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c&&d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>S(!T),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${pe?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[" ",pe&&d.jsx("span",{className:"ml-1 px-2 py-1 text-xs bg-blue-600 text-white rounded-full",children:Object.keys(b).length})]}),T&&d.jsxs("div",{ref:N,className:"absolute top-full mt-2 left-0 z-10 bg-white border border-gray-200 rounded-lg shadow-lg p-4 w-64",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:""}),d.jsx("div",{className:"space-y-3",children:o.map(be=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm text-gray-700",children:be.label}),d.jsxs("select",{value:b[be.value]||"",onChange:z=>q(be.value,z.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[d.jsx("option",{value:"",children:""}),be.value==="status"&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"scheduled",children:""}),d.jsx("option",{value:"pending",children:""}),d.jsx("option",{value:"cancelled",children:""}),d.jsx("option",{value:"approved",children:""}),d.jsx("option",{value:"rejected",children:""})]}),be.value==="leave_type"&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]}),be.value==="shift_type_id"&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]})]})]},be.value))}),d.jsx("div",{className:"pt-3 border-t border-gray-200",children:d.jsx("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800",children:""})})]})]}),m&&d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>j(!A),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${ge?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:" "}),A&&d.jsxs("div",{ref:R,className:"absolute top-full mt-2 left-0 z-10 bg-white border border-gray-200 rounded-lg shadow-lg p-4 w-48",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:""}),d.jsx("div",{className:"space-y-2",children:u.map(be=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-700",children:be.label}),d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("button",{onClick:()=>B(be.value,"asc"),className:`text-xs px-2 py-1 rounded ${E.field===be.value&&E.direction==="asc"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:""}),d.jsx("button",{onClick:()=>B(be.value,"desc"),className:`text-xs px-2 py-1 rounded ${E.field===be.value&&E.direction==="desc"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:""})]})]},be.value))}),d.jsx("div",{className:"pt-3 border-t border-gray-200",children:d.jsx("button",{onClick:ee,className:"text-sm text-blue-600 hover:text-blue-800",children:""})})]})]}),(ke||pe||ge)&&d.jsx("button",{onClick:me,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors",children:" "})]})]})})},nx=(n,e)=>e.field?[...n].sort((r,s)=>{const o=r[e.field],u=s[e.field];if(o==null)return 1;if(u==null)return-1;const c=o>u?1:o<u?-1:0;return e.direction==="desc"?-c:c}):n,fA=()=>{const{data:n,loading:e,error:r,refetch:s}=Zw(),{data:o}=ri(),[u,c]=C.useState(!1),[m,g]=C.useState(),[p,y]=C.useState(!1),[b,w]=C.useState(""),[E,_]=C.useState(""),[T,S]=C.useState({}),[A,j]=C.useState({field:"schedule_date",direction:"desc"}),N=C.useMemo(()=>{let B=n||[];if(E){const J=E.toLowerCase();B=B.filter(K=>{const ee=o?.find(me=>me.id===K.staff_id);return ee?.name?.toLowerCase().includes(J)||ee?.employee_id?.toLowerCase().includes(J)?!0:["shift_type_id","status","notes"].some(me=>{const pe=K[me];return pe&&pe.toString().toLowerCase().includes(J)})})}for(const[J,K]of Object.entries(T))B=B.filter(ee=>ee[J]===K);return nx(B,A)},[n,o,E,T,A]),R=async B=>{y(!0),w("");try{m?(await Kt.updateSchedule(m.id,B),console.log(":",B),w("")):(await Kt.createSchedule(B),console.log(":",B),w("")),c(!1),g(void 0),s(),setTimeout(()=>w(""),3e3)}catch(J){console.error(":",J),alert("")}finally{y(!1)}},L=B=>{g(B),c(!0)},q=async B=>{if(window.confirm(""))try{await Kt.deleteSchedule(B),console.log(":",B),s()}catch(J){console.error(":",J),alert("")}};return u?d.jsx(dA,{schedule:m,onSave:R,onCancel:()=>{c(!1),g(void 0)},isSubmitting:p}):e?d.jsx("div",{className:"text-center py-8",children:d.jsx("div",{className:"text-gray-500",children:"..."})}):r?d.jsx("div",{className:"text-center py-8",children:d.jsxs("div",{className:"text-red-500",children:[": ",r]})}):d.jsxs("div",{className:"space-y-6",children:[b&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:b}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),d.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:" "})]}),d.jsx(tx,{onSearch:_,onFilter:S,onSort:j,searchPlaceholder:"...",filterOptions:[{value:"status",label:""},{value:"shift_type_id",label:""}],sortOptions:[{value:"schedule_date",label:""},{value:"created_at",label:""},{value:"shift_type_id",label:""}]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["",d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",N.length," )"]})]})}),d.jsx("div",{className:"space-y-3",children:N.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:E||Object.keys(T).length>0?"":""}):N.map(B=>{const J=o?.find(K=>K.id===B.staff_id);return d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium",children:J?.name?.[0]||"?"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:J?.name||""}),d.jsx("p",{className:"text-sm text-gray-600",children:J?.employee_id})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium text-gray-900",children:B.shift_type_id}),d.jsx("p",{className:"text-sm text-gray-600",children:B.schedule_date}),d.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${B.status==="scheduled"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:B.status==="scheduled"?"":""})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>L(B),className:"text-blue-600 hover:text-blue-800 text-sm",children:""}),d.jsx("button",{onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 text-sm",children:""})]})]},B.id)})})]})]})},hA=({leaveRequest:n,onSave:e,onCancel:r,isSubmitting:s=!1})=>{const{data:o}=ri(),[u,c]=C.useState({staff_id:n?.staff_id||"",leave_type:n?.leave_type||"",start_date:n?.start_date||new Date().toISOString().split("T")[0],end_date:n?.end_date||new Date().toISOString().split("T")[0],reason:n?.reason||"",status:n?.status||"pending"}),m=p=>{p.preventDefault(),e(u)},g=p=>{const{name:y,value:b}=p.target;c(w=>({...w,[y]:b}))};return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:n?"":""}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"staff_id",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsxs("select",{id:"staff_id",name:"staff_id",value:u.staff_id,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[d.jsx("option",{value:"",children:""}),o?.map(p=>d.jsxs("option",{value:p.id,children:[p.name," (",p.employee_id,")"]},p.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"leave_type",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsxs("select",{id:"leave_type",name:"leave_type",value:u.leave_type,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"date",id:"start_date",name:"start_date",value:u.start_date,onChange:g,min:new Date().toISOString().split("T")[0],className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"date",id:"end_date",name:"end_date",value:u.end_date,onChange:g,min:u.start_date,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("textarea",{id:"reason",name:"reason",value:u.reason,onChange:g,rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"...",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsxs("select",{id:"status",name:"status",value:u.status,onChange:g,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"pending",children:""}),d.jsx("option",{value:"approved",children:""}),d.jsx("option",{value:"rejected",children:""})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",disabled:s,children:""}),d.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"...":n?"":""})]})]})]})},mA=()=>{const{data:n,loading:e,error:r,refetch:s}=ex(),{data:o}=ri(),[u,c]=C.useState(!1),[m,g]=C.useState(),[p,y]=C.useState(!1),[b,w]=C.useState(""),[E,_]=C.useState(""),[T,S]=C.useState({}),[A,j]=C.useState({field:"created_at",direction:"desc"}),N=C.useMemo(()=>{let K=n||[];if(E){const ee=E.toLowerCase();K=K.filter(me=>{const pe=o?.find(ge=>ge.id===me.staff_id);return pe?.name?.toLowerCase().includes(ee)||pe?.employee_id?.toLowerCase().includes(ee)?!0:["leave_type","status","reason"].some(ge=>{const ke=me[ge];return ke&&ke.toString().toLowerCase().includes(ee)})})}for(const[ee,me]of Object.entries(T))K=K.filter(pe=>pe[ee]===me);return nx(K,A)},[n,o,E,T,A]),R=async K=>{y(!0),w("");try{m?(await Kt.updateLeaveRequest(m.id,K),console.log(":",K),w("")):(await Kt.createLeaveRequest(K),console.log(":",K),w("")),c(!1),g(void 0),s(),setTimeout(()=>w(""),3e3)}catch(ee){console.error(":",ee),alert("")}finally{y(!1)}},L=K=>{g(K),c(!0)},q=async K=>{if(window.confirm(""))try{await Kt.deleteLeaveRequest(K),console.log(":",K),s()}catch(ee){console.error(":",ee),alert("")}},B=async K=>{try{const ee=n?.find(pe=>pe.id===K);if(!ee)throw new Error("");const me={...ee,status:"approved",approved_by:"admin",approved_at:new Date().toISOString()};await Kt.updateLeaveRequest(K,me),console.log(":",K),s()}catch(ee){console.error(":",ee),alert("")}},J=async K=>{try{const ee=n?.find(pe=>pe.id===K);if(!ee)throw new Error("");const me={...ee,status:"rejected",approved_by:"admin",approved_at:new Date().toISOString()};await Kt.updateLeaveRequest(K,me),console.log(":",K),s()}catch(ee){console.error(":",ee),alert("")}};return u?d.jsx(hA,{leaveRequest:m,onSave:R,onCancel:()=>{c(!1),g(void 0)},isSubmitting:p}):e?d.jsx("div",{className:"text-center py-8",children:d.jsx("div",{className:"text-gray-500",children:"..."})}):r?d.jsx("div",{className:"text-center py-8",children:d.jsxs("div",{className:"text-red-500",children:[": ",r]})}):d.jsxs("div",{className:"space-y-6",children:[b&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:b}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),d.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:" "})]}),d.jsx(tx,{onSearch:_,onFilter:S,onSort:j,searchPlaceholder:"...",filterOptions:[{value:"status",label:""},{value:"leave_type",label:""}],sortOptions:[{value:"created_at",label:""},{value:"start_date",label:""},{value:"leave_type",label:""}]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["",d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",N.length," )"]})]})}),d.jsx("div",{className:"space-y-3",children:N.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:E||Object.keys(T).length>0?"":""}):N.map(K=>{const ee=o?.find(me=>me.id===K.staff_id);return d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-white font-medium",children:ee?.name?.[0]||"?"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:ee?.name||""}),d.jsx("p",{className:"text-sm text-gray-600",children:ee?.employee_id})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium text-gray-900",children:K.leave_type}),d.jsxs("p",{className:"text-sm text-gray-600",children:[K.start_date," - ",K.end_date]}),d.jsx("p",{className:"text-sm text-gray-500",children:K.reason}),d.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${K.status==="pending"?"bg-yellow-100 text-yellow-800":K.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.status==="pending"?"":K.status==="approved"?"":""})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>L(K),className:"text-blue-600 hover:text-blue-800 text-sm",children:""}),K.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>B(K.id),className:"text-green-600 hover:text-green-800 text-sm",children:""}),d.jsx("button",{onClick:()=>J(K.id),className:"text-red-600 hover:text-red-800 text-sm",children:""})]}),d.jsx("button",{onClick:()=>q(K.id),className:"text-red-600 hover:text-red-800 text-sm",children:""})]})]},K.id)})})]})]})},pA=({staff:n,onSave:e,onCancel:r,isSubmitting:s=!1})=>{const[o,u]=C.useState({employee_id:n?.employee_id||"",name:n?.name||"",brand_id:n?.brand_id||"brand_1",phone:n?.phone||"",email:n?.email||"",monthly_available_hours:n?.monthly_available_hours||160,min_rest_days_per_month:n?.min_rest_days_per_month||8,is_active:n?.is_active??!0,line_user_id:n?.line_user_id||""}),c=g=>{g.preventDefault(),e(o)},m=g=>{const{name:p,value:y,type:b}=g.target;u(w=>({...w,[p]:b==="checkbox"?g.target.checked:y}))};return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:n?"":""}),d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"employee_id",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"text",id:"employee_id",name:"employee_id",value:o.employee_id,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"brand_id",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsxs("select",{id:"brand_id",name:"brand_id",value:o.brand_id,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[d.jsx("option",{value:"brand_1",children:""}),d.jsx("option",{value:"brand_2",children:""}),d.jsx("option",{value:"brand_3",children:""})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:o.phone,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"monthly_available_hours",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"number",id:"monthly_available_hours",name:"monthly_available_hours",value:o.monthly_available_hours,onChange:m,min:"0",max:"300",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"min_rest_days_per_month",className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),d.jsx("input",{type:"number",id:"min_rest_days_per_month",name:"min_rest_days_per_month",value:o.min_rest_days_per_month,onChange:m,min:"0",max:"30",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"line_user_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"LINE User ID"}),d.jsx("input",{type:"text",id:"line_user_id",name:"line_user_id",value:o.line_user_id,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:" LINE User ID"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:o.is_active,onChange:m,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),d.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:""})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",disabled:s,children:""}),d.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"...":n?"":""})]})]})]})},gA=()=>{const{data:n,loading:e,error:r,refetch:s}=ri(),[o,u]=C.useState(!1),[c,m]=C.useState(),[g,p]=C.useState(!1),[y,b]=C.useState(""),w=async S=>{p(!0),b("");try{c?(await Kt.updateStaff(c.id,S),console.log(":",S),b("")):(await Kt.createStaff(S),console.log(":",S),b("")),u(!1),m(void 0),s(),setTimeout(()=>b(""),3e3)}catch(A){console.error(":",A),alert("")}finally{p(!1)}},E=S=>{m(S),u(!0)},_=async S=>{if(window.confirm(""))try{await Kt.deleteStaff(S),console.log(":",S),s()}catch(A){console.error(":",A),alert("")}},T=async S=>{try{await Kt.updateStaff(S.id,{...S,is_active:!S.is_active}),console.log(":",S.id),s()}catch(A){console.error(":",A),alert("")}};return o?d.jsx(pA,{staff:c,onSave:w,onCancel:()=>{u(!1),m(void 0)},isSubmitting:g}):e?d.jsx("div",{className:"text-center py-8",children:d.jsx("div",{className:"text-gray-500",children:"..."})}):r?d.jsx("div",{className:"text-center py-8",children:d.jsxs("div",{className:"text-red-500",children:[": ",r]})}):d.jsxs("div",{className:"space-y-6",children:[y&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:y}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),d.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:" "})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsx("div",{className:"space-y-3",children:n?.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):n?.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-medium ${S.is_active?"bg-green-500":"bg-red-500"}`,children:S.name[0]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:S.name}),d.jsx("p",{className:"text-sm text-gray-600",children:S.employee_id}),d.jsx("p",{className:"text-sm text-gray-500",children:S.brand_id})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium text-gray-900",children:S.phone}),d.jsx("p",{className:"text-sm text-gray-600",children:S.email}),d.jsxs("p",{className:"text-sm text-gray-500",children:[": ",S.monthly_available_hours," | : ",S.min_rest_days_per_month,""]}),d.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${S.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.is_active?"":""})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>E(S),className:"text-blue-600 hover:text-blue-800 text-sm",children:""}),d.jsx("button",{onClick:()=>T(S),className:`text-sm ${S.is_active?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"}`,children:S.is_active?"":""}),d.jsx("button",{onClick:()=>_(S.id),className:"text-red-600 hover:text-red-800 text-sm",children:""})]})]},S.id))})]})]})},rx=6048e5,yA=864e5,lv=Symbol.for("constructDateFrom");function Cr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&lv in n?n[lv](e):n instanceof Date?new n.constructor(e):new Date(e)}function Jt(n,e){return Cr(e||n,n)}let vA={};function $u(){return vA}function ho(n,e){const r=$u(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Jt(n,e?.in),u=o.getDay(),c=(u<s?7:0)+u-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function wu(n,e){return ho(n,{...e,weekStartsOn:1})}function ax(n,e){const r=Jt(n,e?.in),s=r.getFullYear(),o=Cr(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=wu(o),c=Cr(r,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const m=wu(c);return r.getTime()>=u.getTime()?s+1:r.getTime()>=m.getTime()?s:s-1}function uv(n){const e=Jt(n),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+n-+r}function sx(n,...e){const r=Cr.bind(null,e.find(s=>typeof s=="object"));return e.map(r)}function cv(n,e){const r=Jt(n,e?.in);return r.setHours(0,0,0,0),r}function bA(n,e,r){const[s,o]=sx(r?.in,n,e),u=cv(s),c=cv(o),m=+u-uv(u),g=+c-uv(c);return Math.round((m-g)/yA)}function wA(n,e){const r=ax(n,e),s=Cr(n,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),wu(s)}function xA(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function _A(n){return!(!xA(n)&&typeof n!="number"||isNaN(+Jt(n)))}function SA(n,e){const r=Jt(n,e?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function EA(n,e){const[r,s]=sx(n,e.start,e.end);return{start:r,end:s}}function TA(n,e){const{start:r,end:s}=EA(e?.in,n);let o=+r>+s;const u=o?+r:+s,c=o?s:r;c.setHours(0,0,0,0);let m=1;const g=[];for(;+c<=u;)g.push(Cr(r,c)),c.setDate(c.getDate()+m),c.setHours(0,0,0,0);return o?g.reverse():g}function jA(n,e){const r=Jt(n,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function NA(n,e){const r=Jt(n,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const AA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OA=(n,e,r)=>{let s;const o=AA[n];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Vs(n){return(e={})=>{const r=e.width?String(e.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const RA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DA={date:Vs({formats:RA,defaultWidth:"full"}),time:Vs({formats:CA,defaultWidth:"full"}),dateTime:Vs({formats:kA,defaultWidth:"full"})},UA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LA=(n,e,r,s)=>UA[n];function nr(n){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let o;if(s==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,m=r?.width?String(r.width):c;o=n.formattingValues[m]||n.formattingValues[c]}else{const c=n.defaultWidth,m=r?.width?String(r.width):n.defaultWidth;o=n.values[m]||n.values[c]}const u=n.argumentCallback?n.argumentCallback(e):e;return o[u]}}const MA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$A={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HA=(n,e)=>{const r=Number(n),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qA={ordinalNumber:HA,era:nr({values:MA,defaultWidth:"wide"}),quarter:nr({values:IA,defaultWidth:"wide",argumentCallback:n=>n-1}),month:nr({values:BA,defaultWidth:"wide"}),day:nr({values:$A,defaultWidth:"wide"}),dayPeriod:nr({values:zA,defaultWidth:"wide",formattingValues:PA,defaultFormattingWidth:"wide"})};function rr(n){return(e,r={})=>{const s=r.width,o=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],u=e.match(o);if(!u)return null;const c=u[0],m=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(m)?VA(m,b=>b.test(c)):FA(m,b=>b.test(c));let p;p=n.valueCallback?n.valueCallback(g):g,p=r.valueCallback?r.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function FA(n,e){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&e(n[r]))return r}function VA(n,e){for(let r=0;r<n.length;r++)if(e(n[r]))return r}function ix(n){return(e,r={})=>{const s=e.match(n.matchPattern);if(!s)return null;const o=s[0],u=e.match(n.parsePattern);if(!u)return null;let c=n.valueCallback?n.valueCallback(u[0]):u[0];c=r.valueCallback?r.valueCallback(c):c;const m=e.slice(o.length);return{value:c,rest:m}}}const GA=/^(\d+)(th|st|nd|rd)?/i,WA=/\d+/i,YA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KA={any:[/^b/i,/^(a|c)/i]},JA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XA={any:[/1/i,/2/i,/3/i,/4/i]},QA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aO={ordinalNumber:ix({matchPattern:GA,parsePattern:WA,valueCallback:n=>parseInt(n,10)}),era:rr({matchPatterns:YA,defaultMatchWidth:"wide",parsePatterns:KA,defaultParseWidth:"any"}),quarter:rr({matchPatterns:JA,defaultMatchWidth:"wide",parsePatterns:XA,defaultParseWidth:"any",valueCallback:n=>n+1}),month:rr({matchPatterns:QA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any"}),day:rr({matchPatterns:eO,defaultMatchWidth:"wide",parsePatterns:tO,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:nO,defaultMatchWidth:"any",parsePatterns:rO,defaultParseWidth:"any"})},sO={code:"en-US",formatDistance:OA,formatLong:DA,formatRelative:LA,localize:qA,match:aO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iO(n,e){const r=Jt(n,e?.in);return bA(r,NA(r))+1}function oO(n,e){const r=Jt(n,e?.in),s=+wu(r)-+wA(r);return Math.round(s/rx)+1}function ox(n,e){const r=Jt(n,e?.in),s=r.getFullYear(),o=$u(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=Cr(e?.in||n,0);c.setFullYear(s+1,0,u),c.setHours(0,0,0,0);const m=ho(c,e),g=Cr(e?.in||n,0);g.setFullYear(s,0,u),g.setHours(0,0,0,0);const p=ho(g,e);return+r>=+m?s+1:+r>=+p?s:s-1}function lO(n,e){const r=$u(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=ox(n,e),u=Cr(e?.in||n,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),ho(u,e)}function uO(n,e){const r=Jt(n,e?.in),s=+ho(r,e)-+lO(r,e);return Math.round(s/rx)+1}function Fe(n,e){const r=n<0?"-":"",s=Math.abs(n).toString().padStart(e,"0");return r+s}const aa={y(n,e){const r=n.getFullYear(),s=r>0?r:1-r;return Fe(e==="yy"?s%100:s,e.length)},M(n,e){const r=n.getMonth();return e==="M"?String(r+1):Fe(r+1,2)},d(n,e){return Fe(n.getDate(),e.length)},a(n,e){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(n,e){return Fe(n.getHours()%12||12,e.length)},H(n,e){return Fe(n.getHours(),e.length)},m(n,e){return Fe(n.getMinutes(),e.length)},s(n,e){return Fe(n.getSeconds(),e.length)},S(n,e){const r=e.length,s=n.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return Fe(o,e.length)}},Os={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dv={G:function(n,e,r){const s=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});default:return r.era(s,{width:"wide"})}},y:function(n,e,r){if(e==="yo"){const s=n.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return aa.y(n,e)},Y:function(n,e,r,s){const o=ox(n,s),u=o>0?o:1-o;if(e==="YY"){const c=u%100;return Fe(c,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):Fe(u,e.length)},R:function(n,e){const r=ax(n);return Fe(r,e.length)},u:function(n,e){const r=n.getFullYear();return Fe(r,e.length)},Q:function(n,e,r){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Fe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,e,r){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Fe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,e,r){const s=n.getMonth();switch(e){case"M":case"MM":return aa.M(n,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(n,e,r){const s=n.getMonth();switch(e){case"L":return String(s+1);case"LL":return Fe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(n,e,r,s){const o=uO(n,s);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):Fe(o,e.length)},I:function(n,e,r){const s=oO(n);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},d:function(n,e,r){return e==="do"?r.ordinalNumber(n.getDate(),{unit:"date"}):aa.d(n,e)},D:function(n,e,r){const s=iO(n);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Fe(s,e.length)},E:function(n,e,r){const s=n.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(n,e,r,s){const o=n.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Fe(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,r,s){const o=n.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Fe(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,r){const s=n.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Fe(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(n,e,r){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,r){const s=n.getHours();let o;switch(s===12?o=Os.noon:s===0?o=Os.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,r){const s=n.getHours();let o;switch(s>=17?o=Os.evening:s>=12?o=Os.afternoon:s>=4?o=Os.morning:o=Os.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,r){if(e==="ho"){let s=n.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return aa.h(n,e)},H:function(n,e,r){return e==="Ho"?r.ordinalNumber(n.getHours(),{unit:"hour"}):aa.H(n,e)},K:function(n,e,r){const s=n.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Fe(s,e.length)},k:function(n,e,r){let s=n.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):Fe(s,e.length)},m:function(n,e,r){return e==="mo"?r.ordinalNumber(n.getMinutes(),{unit:"minute"}):aa.m(n,e)},s:function(n,e,r){return e==="so"?r.ordinalNumber(n.getSeconds(),{unit:"second"}):aa.s(n,e)},S:function(n,e){return aa.S(n,e)},X:function(n,e,r){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return hv(s);case"XXXX":case"XX":return ka(s);default:return ka(s,":")}},x:function(n,e,r){const s=n.getTimezoneOffset();switch(e){case"x":return hv(s);case"xxxx":case"xx":return ka(s);default:return ka(s,":")}},O:function(n,e,r){const s=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fv(s,":");default:return"GMT"+ka(s,":")}},z:function(n,e,r){const s=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fv(s,":");default:return"GMT"+ka(s,":")}},t:function(n,e,r){const s=Math.trunc(+n/1e3);return Fe(s,e.length)},T:function(n,e,r){return Fe(+n,e.length)}};function fv(n,e=""){const r=n>0?"-":"+",s=Math.abs(n),o=Math.trunc(s/60),u=s%60;return u===0?r+String(o):r+String(o)+e+Fe(u,2)}function hv(n,e){return n%60===0?(n>0?"-":"+")+Fe(Math.abs(n)/60,2):ka(n,e)}function ka(n,e=""){const r=n>0?"-":"+",s=Math.abs(n),o=Fe(Math.trunc(s/60),2),u=Fe(s%60,2);return r+o+e+u}const mv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},lx=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},cO=(n,e)=>{const r=n.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return mv(n,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",mv(s,e)).replace("{{time}}",lx(o,e))},dO={p:lx,P:cO},fO=/^D+$/,hO=/^Y+$/,mO=["D","DD","YY","YYYY"];function pO(n){return fO.test(n)}function gO(n){return hO.test(n)}function yO(n,e,r){const s=vO(n,e,r);if(console.warn(s),mO.includes(n))throw new RangeError(s)}function vO(n,e,r){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xO=/^'([^]*?)'?$/,_O=/''/g,SO=/[a-zA-Z]/;function Rs(n,e,r){const s=$u(),o=r?.locale??s.locale??sO,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=Jt(n,r?.in);if(!_A(m))throw new RangeError("Invalid time value");let g=e.match(wO).map(y=>{const b=y[0];if(b==="p"||b==="P"){const w=dO[b];return w(y,o.formatLong)}return y}).join("").match(bO).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:EO(y)};if(dv[b])return{isToken:!0,value:y};if(b.match(SO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});o.localize.preprocessor&&(g=o.localize.preprocessor(m,g));const p={firstWeekContainsDate:u,weekStartsOn:c,locale:o};return g.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!r?.useAdditionalWeekYearTokens&&gO(b)||!r?.useAdditionalDayOfYearTokens&&pO(b))&&yO(b,e,String(n));const w=dv[b[0]];return w(m,b,o.localize,p)}).join("")}function EO(n){const e=n.match(xO);return e?e[1].replace(_O,"'"):n}function TO(n,e){return Jt(n,e?.in).getDay()}function pv(n){return+Jt(n)>Date.now()}const jO={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},NO=(n,e,r)=>{let s;const o=jO[n];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?s+"":s+"":s},AO={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},OO={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},RO={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},CO={date:Vs({formats:AO,defaultWidth:"full"}),time:Vs({formats:OO,defaultWidth:"full"}),dateTime:Vs({formats:RO,defaultWidth:"full"})},kO={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},DO=(n,e,r,s)=>kO[n],UO={narrow:["",""],abbreviated:["",""],wide:["",""]},LO={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},MO={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},IO={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},BO={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$O={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},zO=(n,e)=>{const r=Number(n);switch(e?.unit){case"date":return r+"";case"hour":return r+"";case"minute":return r+"";case"second":return r+"";default:return" "+r}},PO={ordinalNumber:zO,era:nr({values:UO,defaultWidth:"wide"}),quarter:nr({values:LO,defaultWidth:"wide",argumentCallback:n=>n-1}),month:nr({values:MO,defaultWidth:"wide"}),day:nr({values:IO,defaultWidth:"wide"}),dayPeriod:nr({values:BO,defaultWidth:"wide",formattingValues:$O,defaultFormattingWidth:"wide"})},HO=/^(\s*)?\d+(|||)?/i,qO=/\d+/i,FO={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},VO={any:[/^()/i,/^()/i]},GO={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},WO={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},YO={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},KO={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},JO={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},XO={any:[//i,//i,//i,//i,//i,//i,//i]},QO={any:/^(?|?||[]|?||?|)/i},ZO={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},eR={ordinalNumber:ix({matchPattern:HO,parsePattern:qO,valueCallback:n=>parseInt(n,10)}),era:rr({matchPatterns:FO,defaultMatchWidth:"wide",parsePatterns:VO,defaultParseWidth:"any"}),quarter:rr({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any",valueCallback:n=>n+1}),month:rr({matchPatterns:YO,defaultMatchWidth:"wide",parsePatterns:KO,defaultParseWidth:"any"}),day:rr({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:XO,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:QO,defaultMatchWidth:"any",parsePatterns:ZO,defaultParseWidth:"any"})},tR={code:"zh-TW",formatDistance:NO,formatLong:CO,formatRelative:DO,localize:PO,match:eR,options:{weekStartsOn:1,firstWeekContainsDate:4}},nR=({shifts:n,requests:e,toggleLeaveRequest:r})=>{const[s,o]=C.useState(new Date),u=jA(s),c=SA(s),m=TA({start:u,end:c}),g=TO(u),p=Array(g).fill(null),y=j=>{const N=Rs(j,"yyyy-MM-dd");return n.find(R=>R.date===N)},b=j=>{const N=Rs(j,"yyyy-MM-dd");return e.find(R=>R.date===N)},w=j=>{switch(j){case"morning":return"bg-orange-500";case"evening":return"bg-blue-500";case"full":return"bg-red-500";default:return"bg-gray-500"}},E=j=>{switch(j){case"morning":return"";case"evening":return"";case"full":return"";default:return""}},_=async j=>{pv(j)&&await r(j)},T=n.reduce((j,N)=>{const R=N.shift_type==="full"?12:8;return j+R},0),S=e.filter(j=>j.status!=="rejected").length,A=["","","","","","",""];return d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:Rs(s,"yyyyMM",{locale:tR})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>o(j=>new Date(j.getFullYear(),j.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsx("button",{onClick:()=>o(j=>new Date(j.getFullYear(),j.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:A.map(j=>d.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2",children:j},j))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[p.map((j,N)=>d.jsx("div",{className:"h-20"},`empty-${N}`)),m.map(j=>{const N=y(j),R=b(j),L=Rs(new Date,"yyyy-MM-dd")===Rs(j,"yyyy-MM-dd"),q=pv(j);return d.jsxs("div",{onClick:()=>_(j),className:`
                h-20 border rounded-lg p-2 relative cursor-pointer transition-all
                ${L?"border-blue-500 bg-blue-50":"border-gray-200"}
                ${q?"hover:bg-gray-50":"bg-gray-50"}
                ${R?"bg-red-50 border-red-200":""}
              `,children:[d.jsx("div",{className:"text-sm font-medium text-gray-700",children:Rs(j,"d")}),N&&d.jsxs("div",{className:"mt-1",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${w(N.shift_type)}`}),d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:E(N.shift_type)})]}),R&&d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx("span",{className:"text-red-500 text-sm",children:""})}),q&&!N&&!R&&d.jsx("div",{className:"absolute bottom-1 right-1",children:d.jsx("div",{className:"w-2 h-2 border-2 border-gray-300 rounded-full"})})]},j.toISOString())})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:d.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),d.jsx("span",{className:"text-gray-600",children:""})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),d.jsx("span",{className:"text-gray-600",children:""})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),d.jsx("span",{className:"text-gray-600",children:""})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-red-500",children:""}),d.jsx("span",{className:"text-gray-600",children:""})]})]})}),d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("div",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-semibold text-gray-800",children:[T,""]})]}),d.jsxs("div",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-semibold text-gray-800",children:[S,""]})]})]})})]})},rR=n=>{const{profile:e}=jo(),r=e?.userId||"mock-user-id",[s,o]=C.useState([]),[u,c]=C.useState([]),[m,g]=C.useState(!0),[p,y]=C.useState(null),w=(()=>{const A=new Date,j=A.getFullYear(),N=A.getMonth();return[{id:"1",user_id:r,date:`${j}-${String(N+1).padStart(2,"0")}-05`,shift_type:"morning",is_published:!0,created_at:"2026-01-01T00:00:00Z",updated_at:"2026-01-01T00:00:00Z"},{id:"2",user_id:r,date:`${j}-${String(N+1).padStart(2,"0")}-12`,shift_type:"evening",is_published:!0,created_at:"2026-01-01T00:00:00Z",updated_at:"2026-01-01T00:00:00Z"},{id:"3",user_id:r,date:`${j}-${String(N+1).padStart(2,"0")}-18`,shift_type:"full",is_published:!0,created_at:"2026-01-01T00:00:00Z",updated_at:"2026-01-01T00:00:00Z"},{id:"4",user_id:r,date:`${j}-${String(N+1).padStart(2,"0")}-25`,shift_type:"morning",is_published:!0,created_at:"2026-01-01T00:00:00Z",updated_at:"2026-01-01T00:00:00Z"}]})(),E=[{id:"1",user_id:r,date:"2026-02-15",status:"pending",reason:"",created_at:"2026-01-01T00:00:00Z",updated_at:"2026-01-01T00:00:00Z"},{id:"2",user_id:r,date:"2026-02-22",status:"approved",reason:"",created_at:"2026-01-01T00:00:00Z",updated_at:"2026-01-01T00:00:00Z"}],_=async()=>{try{g(!0),y(null),await new Promise(A=>setTimeout(A,1e3)),o(w),c(E),console.log(" Schedule data loaded:",{shifts:w,requests:E})}catch(A){console.error("Error fetching schedule data:",A),y(A instanceof Error?A.message:"Failed to fetch schedule data")}finally{g(!1)}},T=async A=>{const j=A.toISOString().split("T")[0],N=u.find(R=>R.date===j);if(N)c(R=>R.filter(L=>L.id!==N.id)),console.log(` Optimistic: Cancelled leave request for ${j}`);else{const R={id:Date.now().toString(),user_id:r,date:j,status:"pending",reason:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c(L=>[...L,R]),console.log(` Optimistic: Added leave request for ${j}`)}try{await new Promise(R=>setTimeout(R,300))}catch(R){console.error("Error toggling leave request:",R),c(N?L=>[...L,N]:L=>L.filter(q=>q.date!==j)),y(R instanceof Error?R.message:"Failed to toggle leave request")}},S=async()=>{await _()};return C.useEffect(()=>{_()},[n]),{shifts:s,requests:u,loading:m,error:p,toggleLeaveRequest:T,refetch:S}},aR=()=>{const[n,e]=C.useState(new Date),{profile:r}=jo(),{shifts:s,requests:o,loading:u,error:c,toggleLeaveRequest:m,refetch:g}=rR(n);return u?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"..."})]})}):c?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600 mb-4",children:c}),d.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:""})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),d.jsxs("p",{className:"text-gray-600",children:["",r?.displayName||"",""]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:""}),d.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",s.length]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",o.length]}),d.jsxs("div",{children:[d.jsx("strong",{children:"ID:"})," ",r?.userId||"N/A"]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",n.toISOString()]})]})]}),d.jsx(nR,{shifts:s,requests:o,toggleLeaveRequest:m}),d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:""}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[d.jsx("li",{children:" "}),d.jsx("li",{children:" "}),d.jsx("li",{children:" "}),d.jsx("li",{children:"  "})]})]})]})})},sR=()=>d.jsx("div",{children:d.jsx(aR,{})}),iR=()=>{const{profile:n,logout:e,isLoggedIn:r,liffObject:s}=jo(),[o,u]=zv.useState(!1);return r?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]}),d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-900 mb-2",children:""}),d.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"LIFF Object:"})," ",s?.mock?"Mock Mode":"Real LIFF"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"User ID:"})," ",n?.userId||"N/A"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Display Name:"})," ",n?.displayName||"N/A"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Picture URL:"})," ",n?.pictureUrl||"N/A"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Status Message:"})," ",n?.statusMessage||"N/A"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Current URL:"})," ",window.location.href]}),d.jsxs("div",{children:[d.jsx("strong",{children:"User Agent:"})," ",navigator.userAgent.substring(0,100),"..."]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Environment:"})," ","production"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"LIFF ID:"})," ","2008933336-FQOc7tz9"]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[d.jsx("div",{className:"flex-shrink-0",children:n?.pictureUrl&&!o?d.jsx("img",{src:n.pictureUrl,alt:n.displayName,className:"w-16 h-16 rounded-full object-cover border-4 border-gray-200",onError:()=>{console.error(" :",n.pictureUrl),u(!0)}}):d.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 border-4 border-gray-200 flex items-center justify-center",children:d.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?.displayName||""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:"LINE "})]}),n?.statusMessage&&d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),d.jsx("span",{children:n.statusMessage})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ID"}),d.jsx("div",{className:"bg-gray-50 px-3 py-2 rounded border border-gray-200",children:d.jsx("code",{className:"text-sm text-gray-600",children:n?.userId||"N/A"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("div",{className:"bg-gray-50 px-3 py-2 rounded border border-gray-200",children:d.jsx("span",{className:"text-gray-900",children:n?.displayName||"N/A"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" URL"}),d.jsx("div",{className:"bg-gray-50 px-3 py-2 rounded border border-gray-200",children:d.jsx("code",{className:"text-xs text-gray-600 break-all",children:n?.pictureUrl||"N/A"})})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("div",{className:"bg-green-50 px-3 py-2 rounded border border-green-200",children:d.jsx("span",{className:"text-green-700",children:""})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LIFF "}),d.jsx("div",{className:`${s?.mock?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200"} px-3 py-2 rounded border`,children:d.jsx("span",{className:`${s?.mock?"text-yellow-700":"text-green-700"}`,children:s?.mock?"Mock Mode":"Real LIFF"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("div",{className:"bg-gray-50 px-3 py-2 rounded border border-gray-200",children:d.jsx("span",{className:"text-gray-900",children:new Date().toLocaleString("zh-TW")})})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("button",{onClick:()=>window.location.href="/my-schedule",className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),""]}),d.jsxs("button",{onClick:()=>{console.log(" ..."),window.location.reload()},className:"flex-1 bg-yellow-600 text-white px-6 py-3 rounded-lg hover:bg-yellow-700 transition-colors flex items-center justify-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),""]}),d.jsxs("button",{onClick:e,className:"flex-1 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),""]})]})]}),d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:""}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[d.jsx("li",{children:"  LINE "}),d.jsx("li",{children:"  LINE "}),d.jsx("li",{children:"  LINE "}),d.jsx("li",{children:" "}),d.jsx("li",{children:" "})]})]})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]})})},ux=()=>{const{hasPermission:n,currentUser:e,userStore:r}=ua(),[s,o]=C.useState([]),[u,c]=C.useState(!0),[m,g]=C.useState(null),p=[{id:"support-1",userId:"4",storeId:"store-2",date:"2026-02-15",shiftType:"full",startTime:"09:00",endTime:"18:00",breakTime:1.5,actualHours:7.5,isSupportShift:!0,originalStoreId:"store-1",targetStoreId:"store-2",status:"scheduled",createdAt:"2026-02-01T00:00:00Z",updatedAt:"2026-02-01T00:00:00Z"},{id:"support-2",userId:"3",storeId:"store-1",date:"2026-02-20",shiftType:"morning",startTime:"09:00",endTime:"13:00",breakTime:.5,actualHours:3.5,isSupportShift:!0,originalStoreId:"store-2",targetStoreId:"store-1",status:"scheduled",createdAt:"2026-02-01T00:00:00Z",updatedAt:"2026-02-01T00:00:00Z"}],y=[{id:"4",lineUserId:"U4567890123",name:"",email:"staff@department-store.com",phone:"0945678901",role:"staff",storeId:"store-1",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],b=[{id:"store-1",name:"",code:"TAICHUNG_LALA",areaId:"area-1",managerId:"3",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"store-2",name:"",code:"NANGANG_LALA",areaId:"area-1",managerId:"5",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],w=async()=>{try{c(!0),g(null),await new Promise(N=>setTimeout(N,500)),o(p),console.log(" :",p.length)}catch(N){console.error(" :",N),g(N instanceof Error?N.message:"")}finally{c(!1)}},E=async N=>{if(!n("manage_store_schedule"))throw new Error("");try{const R={...N,id:`support-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await new Promise(L=>setTimeout(L,300)),o(L=>[...L,R]),console.log(" :",R.id)}catch(R){throw console.error(" :",R),R}},_=async(N,R)=>{if(!n("manage_store_schedule"))throw new Error("");try{await new Promise(L=>setTimeout(L,300)),o(L=>L.map(q=>q.id===N?{...q,...R,updatedAt:new Date().toISOString()}:q)),console.log(" :",N)}catch(L){throw console.error(" :",L),L}},T=async N=>{if(!n("manage_store_schedule"))throw new Error("");try{await new Promise(R=>setTimeout(R,300)),o(R=>R.map(L=>L.id===N?{...L,status:"cancelled",updatedAt:new Date().toISOString()}:L)),console.log(" :",N)}catch(R){throw console.error(" :",R),R}},S=(N,R)=>s.filter(L=>L.targetStoreId===N&&L.date===R&&L.status==="scheduled"),A=(N,R,L)=>s.filter(q=>q.userId===N&&q.date>=R&&q.date<=L&&q.status==="scheduled"),j=(N,R,L)=>y.find(K=>K.id===N)?.storeId===L?{isValid:!1,error:""}:s.find(K=>K.userId===N&&K.date===R&&K.status==="scheduled")?{isValid:!1,error:""}:b.find(K=>K.id===L)?{isValid:!0}:{isValid:!1,error:""};return C.useEffect(()=>{w()},[]),{supportShifts:s,loading:u,error:m,createSupportShift:E,updateSupportShift:_,cancelSupportShift:T,getSupportShiftsForStore:S,getSupportShiftsByUser:A,validateSupportRequest:j}},Yh=({children:n,requiredRole:e,requiredPermission:r,fallback:s})=>{const{canAccessRole:o,hasPermission:u,loading:c}=ua();return c?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"..."})]})}):e&&!o(e)?s||d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]})}):r&&!u(r)?s||d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]})}):d.jsx(d.Fragment,{children:n})},oR=()=>{const{supportShifts:n,loading:e,error:r,createSupportShift:s,cancelSupportShift:o,validateSupportRequest:u}=ux(),{hasPermission:c,currentUser:m,userStore:g}=ua(),[p,y]=C.useState(!1),[b,w]=C.useState({userId:"",date:"",shiftType:"full",startTime:"09:00",endTime:"18:00",breakTime:1.5,targetStoreId:""}),E=[{id:"4",name:"",storeId:"store-1"},{id:"3",name:"",storeId:"store-1"}],_=[{id:"store-1",name:""},{id:"store-2",name:""}],T=[{value:"morning",label:" (09:00-13:00)"},{value:"evening",label:" (14:00-18:00)"},{value:"full",label:" (09:00-18:00)"}],S=R=>{const L={morning:{startTime:"09:00",endTime:"13:00",breakTime:.5},evening:{startTime:"14:00",endTime:"18:00",breakTime:.5},full:{startTime:"09:00",endTime:"18:00",breakTime:1.5}};w(q=>({...q,shiftType:R,...L[R]}))},A=()=>{const R=new Date(`2000-01-01T${b.startTime}`),q=(new Date(`2000-01-01T${b.endTime}`).getTime()-R.getTime())/(1e3*60*60);return Math.max(0,q-b.breakTime)},j=async()=>{try{const R=u(b.userId,b.date,b.targetStoreId);if(!R.isValid){alert(""+R.error);return}const L=E.find(B=>B.id===b.userId),q={userId:b.userId,storeId:b.targetStoreId,date:b.date,shiftType:b.shiftType,startTime:b.startTime,endTime:b.endTime,breakTime:b.breakTime,actualHours:A(),isSupportShift:!0,originalStoreId:L?.storeId,targetStoreId:b.targetStoreId,status:"scheduled"};await s(q),w({userId:"",date:"",shiftType:"full",startTime:"09:00",endTime:"18:00",breakTime:1.5,targetStoreId:""}),y(!1),alert("")}catch(R){console.error(":",R),alert(""+(R instanceof Error?R.message:""))}},N=async R=>{if(confirm(""))try{await o(R),alert("")}catch(L){console.error(":",L),alert(""+(L instanceof Error?L.message:""))}};return e?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"..."})]})}):r?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:r})]})}):d.jsx(Yh,{requiredPermission:"manage_store_schedule",children:d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]}),d.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:" "})]}),p&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),d.jsxs("select",{value:b.userId,onChange:R=>w(L=>({...L,userId:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:""}),E.map(R=>d.jsxs("option",{value:R.id,children:[R.name," (: ",R.storeId==="store-1"?"":"",")"]},R.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),d.jsx("input",{type:"date",value:b.date,onChange:R=>w(L=>({...L,date:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),d.jsx("select",{value:b.shiftType,onChange:R=>S(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:T.map(R=>d.jsx("option",{value:R.value,children:R.label},R.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),d.jsxs("select",{value:b.targetStoreId,onChange:R=>w(L=>({...L,targetStoreId:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:""}),_.map(R=>d.jsx("option",{value:R.id,children:R.name},R.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),d.jsx("input",{type:"time",value:b.startTime,onChange:R=>w(L=>({...L,startTime:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),d.jsx("input",{type:"time",value:b.endTime,onChange:R=>w(L=>({...L,endTime:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),d.jsx("input",{type:"number",step:"0.5",min:"0",max:"4",value:b.breakTime,onChange:R=>w(L=>({...L,breakTime:parseFloat(R.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),d.jsxs("div",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg",children:[A().toFixed(1)," "]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""}),d.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(R=>{const L=E.find(J=>J.id===R.userId),q=_.find(J=>J.id===R.originalStoreId),B=_.find(J=>J.id===R.targetStoreId);return d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L?.name||""}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.date}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.shiftType==="morning"?"":R.shiftType==="evening"?"":""}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q?.name||""}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B?.name||""}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.actualHours.toFixed(1),"h"]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${R.status==="scheduled"?"bg-blue-100 text-blue-800":R.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status==="scheduled"?"":R.status==="completed"?"":""})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:R.status==="scheduled"&&d.jsx("button",{onClick:()=>N(R.id),className:"text-red-600 hover:text-red-900",children:""})})]},R.id)})})]})})]}),d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:""}),d.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",m?.name]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",g?.name||""]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",n.length]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",c("manage_store_schedule")?"":""]})]})]})]})})})},lR=()=>{const{hasPermission:n}=ua(),{supportShifts:e}=ux(),[r,s]=C.useState([]),[o,u]=C.useState(!0),[c,m]=C.useState(null),g=[{id:"regular-1",userId:"4",storeId:"store-1",date:"2026-02-01",shiftType:"full",startTime:"09:00",endTime:"18:00",breakTime:1.5,actualHours:7.5,isSupportShift:!1,status:"completed",createdAt:"2026-02-01T00:00:00Z",updatedAt:"2026-02-01T00:00:00Z"},{id:"regular-2",userId:"4",storeId:"store-1",date:"2026-02-05",shiftType:"morning",startTime:"09:00",endTime:"13:00",breakTime:.5,actualHours:3.5,isSupportShift:!1,status:"completed",createdAt:"2026-02-05T00:00:00Z",updatedAt:"2026-02-05T00:00:00Z"},{id:"regular-3",userId:"4",storeId:"store-1",date:"2026-02-10",shiftType:"evening",startTime:"14:00",endTime:"18:00",breakTime:.5,actualHours:3.5,isSupportShift:!1,status:"completed",createdAt:"2026-02-10T00:00:00Z",updatedAt:"2026-02-10T00:00:00Z"}],p=[{id:"4",lineUserId:"U4567890123",name:"",email:"staff@department-store.com",phone:"0945678901",role:"staff",storeId:"store-1",isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],y=[{id:"store-1",name:""},{id:"store-2",name:""}],b=async(S,A)=>{try{const[j,N]=A.split("-").map(Number),R=`${j}-${N.toString().padStart(2,"0")}-01`,L=`${j}-${N.toString().padStart(2,"0")}-31`,q=g.filter(ge=>ge.userId===S&&ge.date>=R&&ge.date<=L&&ge.status==="completed"),B=e.filter(ge=>ge.userId===S&&ge.date>=R&&ge.date<=L&&ge.status==="completed"),J=q.reduce((ge,ke)=>ge+ke.actualHours,0),K=B.reduce((ge,ke)=>ge+ke.actualHours,0),ee=B.reduce((ge,ke)=>{const be=y.find(z=>z.id===ke.targetStoreId);if(be){const z=ge.find(Q=>Q.targetStoreId===ke.targetStoreId);z?z.hours+=ke.actualHours:ge.push({targetStoreId:ke.targetStoreId||"",targetStoreName:be.name,hours:ke.actualHours})}return ge},[]),me=p.find(ge=>ge.id===S),pe={userId:S,userName:me?.name||"",storeId:me?.storeId||"",period:A,regularHours:J,supportHours:K,totalHours:J+K,supportDetails:ee};return console.log(" :",pe),pe}catch(j){throw console.error(" :",j),j}},w=async(S,A)=>{try{const j=p.filter(B=>B.storeId===S),N=await Promise.all(j.map(B=>b(B.id,A))),R=N.reduce((B,J)=>B+J.regularHours,0),L=N.reduce((B,J)=>B+J.supportHours,0),q=y.find(B=>B.id===S);return{storeId:S,storeName:q?.name||"",totalHours:R+L,regularHours:R,supportHours:L,staffCount:j.length}}catch(j){throw console.error(" :",j),j}},E=async(S,A)=>{if(!n("view_area_stats")&&!n("view_own_hours"))throw new Error("");try{let j=[];if(A){const B=await w(A,S),J=p.filter(K=>K.storeId===A);for(const K of J){const ee=await b(K.id,S);j.push({:ee.userName,ID:ee.userId,:B.storeName,:S,:ee.regularHours,:ee.supportHours,:ee.totalHours,:ee.supportDetails.map(me=>`${me.targetStoreName}: ${me.hours}`).join(", ")||""})}}else for(const B of p){const J=await b(B.id,S),K=y.find(ee=>ee.id===B.storeId);j.push({:J.userName,ID:J.userId,:K?.name||"",:S,:J.regularHours,:J.supportHours,:J.totalHours,:J.supportDetails.map(ee=>`${ee.targetStoreName}: ${ee.hours}`).join(", ")||""})}console.log(" Excel :",j);const N=[Object.keys(j[0]).join(","),...j.map(B=>Object.values(B).map(J=>`"${J}"`).join(","))].join(`
`),R=new Blob([N],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),q=URL.createObjectURL(R);L.setAttribute("href",q),L.setAttribute("download",`_${S}${A?`_${A}`:""}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L),console.log(" Excel ")}catch(j){throw console.error(" Excel :",j),j}},_=async(S,A,j)=>{const N=`${A}-${j.toString().padStart(2,"0")}`;return[await b(S,N)]},T=async()=>{try{u(!0),m(null);const S="2026-02",A=await Promise.all(p.map(j=>b(j.id,S)));s(A),console.log(" :",A.length)}catch(S){console.error(" :",S),m(S instanceof Error?S.message:"")}finally{u(!1)}};return C.useEffect(()=>{T()},[e]),{workHourStats:r,loading:o,error:c,calculateWorkHours:b,getWorkHoursByStore:w,exportToExcel:E,getMonthlyStats:_}},uR=()=>{const{workHourStats:n,loading:e,error:r,getWorkHoursByStore:s,exportToExcel:o}=lR(),{hasPermission:u,userRole:c}=ua(),[m,g]=C.useState("2026-02"),[p,y]=C.useState(""),[b,w]=C.useState(null),[E,_]=C.useState(!1),T=[{id:"",name:""},{id:"store-1",name:""},{id:"store-2",name:""}],S=[{value:"2026-01",label:"20261"},{value:"2026-02",label:"20262"},{value:"2026-03",label:"20263"}],A=async()=>{if(p)try{const N=await s(p,m);w(N)}catch(N){console.error(":",N)}else w(null)},j=async()=>{try{_(!0),await o(m,p||void 0)}catch(N){console.error(":",N),alert(""+(N instanceof Error?N.message:""))}finally{_(!1)}};return zv.useEffect(()=>{A()},[p,m]),e?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"..."})]})}):r?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:r})]})}):d.jsx(Yh,{requiredPermission:"view_area_stats",children:d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),d.jsx("select",{value:m,onChange:N=>g(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(N=>d.jsx("option",{value:N.value,children:N.label},N.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),d.jsx("select",{value:p,onChange:N=>y(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:T.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{onClick:j,disabled:E,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?"...":"  Excel"})})]})}),b&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:[b.storeName," - ",m," "]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.staffCount}),d.jsx("div",{className:"text-sm text-blue-800",children:""})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.totalHours.toFixed(1)}),d.jsx("div",{className:"text-sm text-green-800",children:""})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.regularHours.toFixed(1)}),d.jsx("div",{className:"text-sm text-purple-800",children:""})]}),d.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:b.supportHours.toFixed(1)}),d.jsx("div",{className:"text-sm text-orange-800",children:""})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.filter(N=>!p||N.storeId===p).map(N=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.userName}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.storeId==="store-1"?"":""}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[N.regularHours.toFixed(1),"h"]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[N.supportHours.toFixed(1),"h"]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[N.totalHours.toFixed(1),"h"]}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:N.supportDetails.length>0?d.jsx("div",{className:"space-y-1",children:N.supportDetails.map((R,L)=>d.jsxs("div",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:[R.targetStoreName,": ",R.hours.toFixed(1),"h"]},L))}):d.jsx("span",{className:"text-gray-400",children:""})})]},N.userId))})]})})]}),d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:""}),d.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",c]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",m]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",p||""]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",n.length]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," ",u("view_area_stats")?"":""]})]})]})]})})})},cR=({isOpen:n,onClose:e,title:r,children:s,size:o="md"})=>{if(!n)return null;console.log(" Modal  - title:",r,"size:",o);const u=()=>{console.log(" Modal onClose "),console.log(" Modal title:",r),e()},c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[d.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:u}),d.jsxs("div",{className:`inline-block w-full my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg ${c[o]}`,onClick:m=>m.stopPropagation(),children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),d.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d.jsx("div",{className:"px-6 py-4",children:s})]})]})})},dR=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Kh extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class fR extends Kh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gv extends Kh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yv extends Kh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ah;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ah||(ah={}));class hR{constructor(e,{headers:r={},customFetch:s,region:o=ah.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=dR(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return X(this,arguments,void 0,function*(r,s={}){var o;let u,c;try{const{headers:m,method:g,body:p,signal:y,timeout:b}=s;let w={},{region:E}=s;E||(E=this.region);const _=new URL(`${this.url}/${r}`);E&&E!=="any"&&(w["x-region"]=E,_.searchParams.set("forceFunctionRegion",E));let T;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(w["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(w["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let S=y;b&&(c=new AbortController,u=setTimeout(()=>c.abort(),b),y?(S=c.signal,y.addEventListener("abort",()=>c.abort())):S=c.signal);const A=yield this.fetch(_.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:T,signal:S}).catch(L=>{throw new fR(L)}),j=A.headers.get("x-relay-error");if(j&&j==="true")throw new gv(A);if(!A.ok)throw new yv(A);let N=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return N==="application/json"?R=yield A.json():N==="application/octet-stream"||N==="application/pdf"?R=yield A.blob():N==="text/event-stream"?R=A:N==="multipart/form-data"?R=yield A.formData():R=yield A.text(),{data:R,error:null,response:A}}catch(m){return{data:null,error:m,response:m instanceof yv||m instanceof gv?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var mR=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},pR=class{constructor(n){var e,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,m=null,g=null,p=u.status,y=u.statusText;if(u.ok){var b,w;if(r.method!=="HEAD"){var E;const A=await u.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const T=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),S=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&S&&S.length>1&&(g=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(c={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var _;const T=await u.text();try{c=JSON.parse(T),Array.isArray(c)&&u.status===404&&(m=[],c=null,p=200,y="OK")}catch{u.status===404&&T===""?(p=204,y="No Content"):c={message:T}}if(c&&r.isMaybeSingle&&(!(c==null||(_=c.details)===null||_===void 0)&&_.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&r.shouldThrowOnError)throw new mR(c)}return{error:c,data:m,count:g,status:p,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let m="";const g=u?.cause;if(g){var p,y,b,w;const _=(p=g?.message)!==null&&p!==void 0?p:"",T=(y=g?.code)!==null&&y!==void 0?y:"";m=`${(b=u?.name)!==null&&b!==void 0?b:"FetchError"}: ${u?.message}`,m+=`

Caused by: ${(w=g?.name)!==null&&w!==void 0?w:"Error"}: ${_}`,T&&(m+=` (${T})`),g?.stack&&(m+=`
${g.stack}`)}else{var E;m=(E=u?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(n,e)}returns(){return this}overrideTypes(){return this}},gR=class extends pR{select(n){let e=!1;const r=(n??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:u="text"}={}){var c;const m=[n?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const vv=new RegExp("[,()]");var $s=class extends gR{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&vv.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&vv.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${u}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}},yR=class{constructor(n,{headers:e={},schema:r,fetch:s}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:r=!1,count:s}=e??{},o=r?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",c),s&&g.append("Prefer",`count=${s}`),new $s({method:o,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:r=!0}={}){var s;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),r||c.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);u.searchParams.set("columns",g.join(","))}}return new $s({method:o,url:u,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var u;const c="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&m.searchParams.set("on_conflict",e),s&&g.append("Prefer",`count=${s}`),o||g.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);m.searchParams.set("columns",y.join(","))}}return new $s({method:c,url:m,headers:g,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:e}={}){var r;const s="PATCH",{url:o,headers:u}=this.cloneRequestState();return e&&u.append("Prefer",`count=${e}`),new $s({method:s,url:o,headers:u,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var e;const r="DELETE",{url:s,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new $s({method:r,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},vR=class cx{constructor(e,{headers:r={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:o=!1,count:u}={}){var c;let m;const g=new URL(`${this.url}/rpc/${e}`);let p;const y=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(y)),b=s&&Object.values(r).some(y);b?(m="POST",p=r):s||o?(m=s?"HEAD":"GET",Object.entries(r).filter(([E,_])=>_!==void 0).map(([E,_])=>[E,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([E,_])=>{g.searchParams.append(E,_)})):(m="POST",p=r);const w=new Headers(this.headers);return b?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new $s({method:m,url:g,headers:w,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class bR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const o=s.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wR="2.90.1",xR=`realtime-js/${wR}`,dx="1.0.0",_R="2.0.0",bv=dx,sh=1e4,SR=1e3,ER=100;var sa;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(sa||(sa={}));var Tt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Tt||(Tt={}));var Vn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Vn||(Vn={}));var ih;(function(n){n.websocket="websocket"})(ih||(ih={}));var Ma;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ma||(Ma={}));class TR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,s){var o,u;const c=e.topic,m=(o=e.ref)!==null&&o!==void 0?o:"",g=(u=e.join_ref)!==null&&u!==void 0?u:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+c.length+p.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(E),T=0;_.setUint8(T++,this.KINDS.userBroadcastPush),_.setUint8(T++,g.length),_.setUint8(T++,m.length),_.setUint8(T++,c.length),_.setUint8(T++,p.length),_.setUint8(T++,b.length),_.setUint8(T++,r),Array.from(g,A=>_.setUint8(T++,A.charCodeAt(0))),Array.from(m,A=>_.setUint8(T++,A.charCodeAt(0))),Array.from(c,A=>_.setUint8(T++,A.charCodeAt(0))),Array.from(p,A=>_.setUint8(T++,A.charCodeAt(0))),Array.from(b,A=>_.setUint8(T++,A.charCodeAt(0)));var S=new Uint8Array(E.byteLength+s.byteLength);return S.set(new Uint8Array(E),0),S.set(new Uint8Array(s),E.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,u,c,m,g]=s;return r({join_ref:o,ref:u,topic:c,event:m,payload:g})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,o)}_decodeUserBroadcast(e,r,s){const o=r.getUint8(1),u=r.getUint8(2),c=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=s.decode(e.slice(g,g+o));g=g+o;const y=s.decode(e.slice(g,g+u));g=g+u;const b=s.decode(e.slice(g,g+c));g=g+c;const w=e.slice(g,e.byteLength),E=m===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,_={type:this.BROADCAST_EVENT,event:y,payload:E};return c>0&&(_.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class fx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Je||(Je={}));const wv=(n,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((u,c)=>(u[c]=jR(c,n,e,o),u),{}):{}},jR=(n,e,r,s)=>{const o=e.find(m=>m.name===n),u=o?.type,c=r[n];return u&&!s.includes(u)?hx(u,c):oh(c)},hx=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return RR(e,r)}switch(n){case Je.bool:return NR(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return AR(e);case Je.json:case Je.jsonb:return OR(e);case Je.timestamp:return CR(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return oh(e);default:return oh(e)}},oh=n=>n,NR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},AR=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},OR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},RR=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,s=n[r];if(n[0]==="{"&&s==="}"){let u;const c=n.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(m=>hx(e,m))}return n},CR=n=>typeof n=="string"?n.replace(" ","T"):n,mx=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Af{constructor(e,r,s={},o=sh){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(xv||(xv={}));class lo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:c,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lo.syncState(this.state,o,u,c),this.pendingDiffs.forEach(g=>{this.state=lo.syncDiff(this.state,g,u,c)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=lo.syncDiff(this.state,o,u,c),m())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const u=this.cloneDeep(e),c=this.transformState(r),m={},g={};return this.map(u,(p,y)=>{c[p]||(g[p]=y)}),this.map(c,(p,y)=>{const b=u[p];if(b){const w=y.map(S=>S.presence_ref),E=b.map(S=>S.presence_ref),_=y.filter(S=>E.indexOf(S.presence_ref)<0),T=b.filter(S=>w.indexOf(S.presence_ref)<0);_.length>0&&(m[p]=_),T.length>0&&(g[p]=T)}else m[p]=y}),this.syncDiff(u,{joins:m,leaves:g},s,o)}static syncDiff(e,r,s,o){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(m,g)=>{var p;const y=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(g),y.length>0){const b=e[m].map(E=>E.presence_ref),w=y.filter(E=>b.indexOf(E.presence_ref)<0);e[m].unshift(...w)}s(m,y,g)}),this.map(c,(m,g)=>{let p=e[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),e[m]=p,o(m,p,g),p.length===0&&delete e[m]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _v;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(_v||(_v={}));var uo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(uo||(uo={}));var Nr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class Hs{constructor(e,r={config:{}},s){var o,u;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Af(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new fx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(c,m)=>{this._trigger(this._replyEventName(m),c)}),this.presence=new lo(this),this.broadcastEndpointURL=mx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:c,presence:m,private:g}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[uo.PRESENCE]&&this.bindings[uo.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},w={broadcast:c,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Nr.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Nr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e?.(Nr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(_=T?.length)!==null&&_!==void 0?_:0,A=[];for(let j=0;j<S;j++){const N=T[j],{filter:{event:R,schema:L,table:q,filter:B}}=N,J=E&&E[j];if(J&&J.event===R&&Hs.isFilterValueEqual(J.schema,L)&&Hs.isFilterValueEqual(J.table,q)&&Hs.isFilterValueEqual(J.filter,B))A.push(Object.assign(Object.assign({},N),{id:J.id}));else{this.unsubscribe(),this.state=Tt.errored,e?.(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Nr.SUBSCRIBED);return}}).receive("error",E=>{this.state=Tt.errored,e?.(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Tt.joined&&e===uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=e,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,m,g;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(m=(c=this.params)===null||c===void 0?void 0:c.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Af(this,Vn.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),c}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Af(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ER){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,u;const c=e.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=Vn;if(s&&[m,g,p,y].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,r,s);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var _,T,S;return((_=E.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(T=E.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(E=>E.callback(w,s)):(u=this.bindings[c])===null||u===void 0||u.filter(E=>{var _,T,S,A,j,N,R,L;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const q=E.id,B=(_=E.filter)===null||_===void 0?void 0:_.event;return q&&((T=r.ids)===null||T===void 0?void 0:T.includes(q))&&(B==="*"||B?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((A=E.filter)===null||A===void 0)&&A.table)||E.filter.table===((j=r.data)===null||j===void 0?void 0:j.table))}else{const q=(R=(N=E?.filter)===null||N===void 0?void 0:N.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return q==="*"||q===((L=r?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:T,table:S,commit_timestamp:A,type:j,errors:N}=_;w=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:A,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(_))}E.callback(w,s)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),u={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&Hs.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vn.close,{},e)}_onError(e){this._on(Vn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=wv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=wv(e.columns,e.old_record)),r}}const Of=()=>{},tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kR=[1e3,2e3,5e3,1e4],DR=1e4,UR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LR{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sh,this.transport=null,this.heartbeatIntervalMs=tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Of,this.ref=0,this.reconnectTimer=null,this.vsn=bv,this.logger=Of,this.conn=null,this.sendBuffer=[],this.serializer=new TR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ih.websocket}`,this.httpEndpoint=mx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return Ma.Connecting;case sa.open:return Ma.Open;case sa.closing:return Ma.Closing;default:return Ma.Closed}}isConnected(){return this.connectionState()===Ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new Hs(`realtime:${e}`,r,this);return this.channels.push(u),u}}push(e){const{topic:r,event:s,payload:o,ref:u}=e,c=()=>{this.encode(e,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${s} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(SR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:u,ref:c}=r,m=c?`(${c})`:"",g=u.status||"";this.log("receive",`${g} ${s} ${o} ${m}`.trim(),u),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sa.open||this.conn.readyState===sa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([UR],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:xR};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Vn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new fx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,u,c,m,g,p,y,b,w,E;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:sh,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:tu.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(m=e?.heartbeatCallback)!==null&&m!==void 0?m:Of,this.vsn=(g=e?.vsn)!==null&&g!==void 0?g:bv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>kR[_-1]||DR),this.vsn){case dx:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((_,T)=>T(JSON.stringify(_))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((_,T)=>T(JSON.parse(_)));break;case _R:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(E=e?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var mo=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function MR(n,e,r){const s=new URL(e,n);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function IR(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function BR(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:u,headers:c}){const m=MR(n.baseUrl,s,o),g=await IR(n.auth),p=await e(m,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...g,...c},body:u?JSON.stringify(u):void 0}),y=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),w=b&&y?JSON.parse(y):y;if(!p.ok){const E=b?w:void 0,_=E?.error;throw new mo(_?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:_?.type,icebergCode:_?.code,details:E})}return{status:p.status,headers:p.headers,data:w}}}}function nu(n){return n.join("")}var $R=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:nu(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nu(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nu(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nu(n.namespace)}`}),!0}catch(e){if(e instanceof mo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof mo&&r.status===409)return;throw r}}};function Cs(n){return n.join("")}var zR=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof mo&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof mo&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},PR=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=BR({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new $R(this.client,e),this.tableOps=new zR(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},zu=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function nt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var HR=class extends zu{constructor(n,e,r){super(n),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lh=class extends zu{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const Jh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),qR=()=>Response,uh=n=>{if(Array.isArray(n))return n.map(r=>uh(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[o]=uh(s)}),e},FR=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},VR=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function po(n){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(n)}function GR(n,e){if(po(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(po(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WR(n){var e=GR(n,"string");return po(e)=="symbol"?e:e+""}function YR(n,e,r){return(e=WR(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Sv(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,s)}return r}function de(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sv(Object(r),!0).forEach(function(s){YR(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}const Rf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},KR=async(n,e,r)=>{n instanceof await qR()&&!r?.noResolveJson?n.json().then(s=>{const o=n.status||500,u=s?.statusCode||o+"";e(new HR(Rf(s),o,u))}).catch(s=>{e(new lh(Rf(s),s))}):e(new lh(Rf(n),n))},JR=(n,e,r,s)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||!s?o:(FR(s)?(o.headers=de({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),de(de({},o),r))};async function Co(n,e,r,s,o,u){return new Promise((c,m)=>{n(r,JR(e,s,o,u)).then(g=>{if(!g.ok)throw g;return s?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>KR(g,m,s))})}async function go(n,e,r,s){return Co(n,"GET",e,r,s)}async function Fn(n,e,r,s,o){return Co(n,"POST",e,s,o,r)}async function ch(n,e,r,s,o){return Co(n,"PUT",e,s,o,r)}async function XR(n,e,r,s){return Co(n,"HEAD",e,de(de({},r),{},{noResolveJson:!0}),s)}async function Xh(n,e,r,s,o){return Co(n,"DELETE",e,s,o,r)}var QR=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}}};let px;px=Symbol.toStringTag;var ZR=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[px]="BlobDownloadBuilder",this.promise=null}asStream(){return new QR(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}}};const eC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ev={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tC=class{constructor(n,e={},r,s){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=r,this.fetch=Jh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,r,s){var o=this;try{let u;const c=de(de({},Ev),s);let m=de(de({},o.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),g&&u.append("metadata",o.encodeMetadata(g)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),g&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(g))):(u=r,m["cache-control"]=`max-age=${c.cacheControl}`,m["content-type"]=c.contentType,g&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),s?.headers&&(m=de(de({},m),s.headers));const p=o._removeEmptyFolders(e),y=o._getFinalPath(p),b=await(n=="PUT"?ch:Fn)(o.fetch,`${o.url}/object/${y}`,u,de({headers:m},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(nt(u))return{data:null,error:u};throw u}}async upload(n,e,r){return this.uploadOrUpdate("POST",n,e,r)}async uploadToSignedUrl(n,e,r,s){var o=this;const u=o._removeEmptyFolders(n),c=o._getFinalPath(u),m=new URL(o.url+`/object/upload/sign/${c}`);m.searchParams.set("token",e);try{let g;const p=de({upsert:Ev.upsert},s),y=de(de({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{data:{path:u,fullPath:(await ch(o.fetch,m.toString(),g,{headers:y})).Key},error:null}}catch(g){if(o.shouldThrowOnError)throw g;if(nt(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,e){var r=this;try{let s=r._getFinalPath(n);const o=de({},r.headers);e?.upsert&&(o["x-upsert"]="true");const u=await Fn(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(r.url+u.url),m=c.searchParams.get("token");if(!m)throw new zu("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:m},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async update(n,e,r){return this.uploadOrUpdate("PUT",n,e,r)}async move(n,e,r){var s=this;try{return{data:await Fn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async copy(n,e,r){var s=this;try{return{data:{path:(await Fn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async createSignedUrl(n,e,r){var s=this;try{let o=s._getFinalPath(n),u=await Fn(s.fetch,`${s.url}/object/sign/${o}`,de({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${s.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async createSignedUrls(n,e,r){var s=this;try{const o=await Fn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:n},{headers:s.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}download(n,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",u=this._getFinalPath(n),c=()=>go(this.fetch,`${this.url}/${r}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new ZR(c,this.shouldThrowOnError)}async info(n){var e=this;const r=e._getFinalPath(n);try{return{data:uh(await go(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async exists(n){var e=this;const r=e._getFinalPath(n);try{return await XR(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(nt(s)&&s instanceof lh){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,e){const r=this._getFinalPath(n),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const u=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&s.push(c);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}async remove(n){var e=this;try{return{data:await Xh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async list(n,e,r){var s=this;try{const o=de(de(de({},eC),e),{},{prefix:n||""});return{data:await Fn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},r),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async listV2(n,e){var r=this;try{const s=de({},n);return{data:await Fn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},e),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const gx="2.90.1",yx={"X-Client-Info":`storage-js/${gx}`};var nC=class{constructor(n,e={},r,s){this.shouldThrowOnError=!1;const o=new URL(n);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=de(de({},yx),e),this.fetch=Jh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const r=e.listBucketOptionsToQueryString(n);return{data:await go(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async getBucket(n){var e=this;try{return{data:await go(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async createBucket(n,e={public:!1}){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async updateBucket(n,e){var r=this;try{return{data:await ch(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async emptyBucket(n){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async deleteBucket(n){var e=this;try{return{data:await Xh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},rC=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=de(de({},yx),e),this.fetch=Jh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async listBuckets(n){var e=this;try{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const s=r.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await go(e.fetch,o,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async deleteBucket(n){var e=this;try{return{data:await Xh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}from(n){var e=this;if(!VR(n))throw new zu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new PR({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...m)=>{try{return{data:await c.apply(o,m),error:null}}catch(g){if(s)throw g;return{data:null,error:g}}}}})}};const Qh={"X-Client-Info":`storage-js/${gx}`,"Content-Type":"application/json"};var vx=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function _n(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Cf=class extends vx{constructor(n,e,r){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aC=class extends vx{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const Zh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),sC=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Tv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),iC=async(n,e,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const s=n.status||500,o=n;if(typeof o.json=="function")o.json().then(u=>{const c=u?.statusCode||u?.code||s+"";e(new Cf(Tv(u),s,c))}).catch(()=>{const u=s+"";e(new Cf(o.statusText||`HTTP ${s} error`,s,u))});else{const u=s+"";e(new Cf(o.statusText||`HTTP ${s} error`,s,u))}}else e(new aC(Tv(n),n))},oC=(n,e,r,s)=>{const o={method:n,headers:e?.headers||{}};return s?(sC(s)?(o.headers=de({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,de(de({},o),r)):o};async function lC(n,e,r,s,o,u){return new Promise((c,m)=>{n(r,oC(e,s,o,u)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>iC(g,m,s))})}async function Sn(n,e,r,s,o){return lC(n,"POST",e,s,o,r)}var uC=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=de(de({},Qh),e),this.fetch=Zh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async getIndex(n,e){var r=this;try{return{data:await Sn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_n(s))return{data:null,error:s};throw s}}async listIndexes(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async deleteIndex(n,e){var r=this;try{return{data:await Sn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_n(s))return{data:null,error:s};throw s}}},cC=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=de(de({},Qh),e),this.fetch=Zh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sn(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async getVectors(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Sn(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async queryVectors(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sn(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}},dC=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=de(de({},Qh),e),this.fetch=Zh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async getBucket(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async listBuckets(n={}){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async deleteBucket(n){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}},fC=class extends dC{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new hC(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,r=this;return e().call(r,n)}async getBucket(n){var e=()=>super.getBucket,r=this;return e().call(r,n)}async listBuckets(n={}){var e=()=>super.listBuckets,r=this;return e().call(r,n)}async deleteBucket(n){var e=()=>super.deleteBucket,r=this;return e().call(r,n)}},hC=class extends uC{constructor(n,e,r,s){super(n,e,s),this.vectorBucketName=r}async createIndex(n){var e=()=>super.createIndex,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,n)}index(n){return new mC(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},mC=class extends cC{constructor(n,e,r,s,o){super(n,e,o),this.vectorBucketName=r,this.indexName=s}async putVectors(n){var e=()=>super.putVectors,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var e=()=>super.getVectors,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,r=this;return e().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pC=class extends nC{constructor(n,e={},r,s){super(n,e,r,s)}from(n){return new tC(this.url,this.headers,n,this.fetch)}get vectors(){return new fC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rC(this.url+"/iceberg",this.headers,this.fetch)}};const bx="2.90.1",zs=30*1e3,dh=3,kf=dh*zs,gC="http://localhost:9999",yC="supabase.auth.token",vC={"X-Client-Info":`gotrue-js/${bx}`},fh="X-Supabase-Api-Version",wx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wC=600*1e3;class yo extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ie(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class xC extends yo{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function _C(n){return ie(n)&&n.name==="AuthApiError"}class Ia extends yo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class kr extends yo{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class wn extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SC(n){return ie(n)&&n.name==="AuthSessionMissingError"}class ks extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ru extends kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class au extends kr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EC(n){return ie(n)&&n.name==="AuthImplicitGrantRedirectError"}class jv extends kr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TC extends kr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hh extends kr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Df(n){return ie(n)&&n.name==="AuthRetryableFetchError"}class Nv extends kr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class mh extends kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),jC=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Av.length;e+=1)n[Av[e].charCodeAt(0)]=-2;for(let e=0;e<xu.length;e+=1)n[xu[e].charCodeAt(0)]=e;return n})();function Ov(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(xu[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(xu[s]),e.queuedBits-=6}}function xx(n,e,r){const s=jC[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Rv(n){const e=[],r=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{OC(c,s,r)};for(let c=0;c<n.length;c+=1)xx(n.charCodeAt(c),o,u);return e.join("")}function NC(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function AC(n,e){for(let r=0;r<n.length;r+=1){let s=n.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}NC(s,e)}}function OC(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Gs(n){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)xx(n.charCodeAt(o),r,s);return new Uint8Array(e)}function RC(n){const e=[];return AC(n,r=>e.push(r)),new Uint8Array(e)}function za(n){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return n.forEach(o=>Ov(o,r,s)),Ov(null,r,s),e.join("")}function CC(n){return Math.round(Date.now()/1e3)+n}function kC(){return Symbol("auth-callback")}const It=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},_x=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function DC(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{e[u]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const Sx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),UC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ps=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},Ca=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(n,e)=>{await n.removeItem(e)};class Pu{constructor(){this.promise=new Pu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Pu.promiseConstructor=Promise;function Uf(n){const e=n.split(".");if(e.length!==3)throw new mh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!bC.test(e[s]))throw new mh("JWT not in base64url format");return{header:JSON.parse(Rv(e[0])),payload:JSON.parse(Rv(e[1])),signature:Gs(e[2]),raw:{header:e[0],payload:e[1]}}}async function LC(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function MC(n,e){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!e(u,null,c)){s(c);return}}catch(c){if(!e(u,c)){o(c);return}}})()})}function IC(n){return("0"+n.toString(16)).substr(-2)}function BC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,IC).join("")}async function $C(n){const r=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function zC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await $C(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(n,e,r=!1){const s=BC();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Ps(n,`${e}-code-verifier`,o);const u=await zC(s);return[u,s===u?"plain":"s256"]}const PC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HC(n){const e=n.headers.get(fh);if(!e||!e.match(PC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function FC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Us(n){if(!VC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lf(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GC(n,e){return new Proxy(n,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Cv(n){return JSON.parse(JSON.stringify(n))}const Da=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),WC=[502,503,504];async function kv(n){var e;if(!UC(n))throw new hh(Da(n),0);if(WC.includes(n.status))throw new hh(Da(n),n.status);let r;try{r=await n.json()}catch(u){throw new Ia(Da(u),u)}let s;const o=HC(n);if(o&&o.getTime()>=wx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Nv(Da(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Nv(Da(r),n.status,r.weak_password.reasons);throw new xC(Da(r),n.status||500,s)}const YC=(n,e,r,s)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function ce(n,e,r,s){var o;const u=Object.assign({},s?.headers);u[fh]||(u[fh]=wx["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const m=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await KC(n,e,r+m,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function KC(n,e,r,s,o,u){const c=YC(e,s,o,u);let m;try{m=await n(r,Object.assign({},c))}catch(g){throw console.error(g),new hh(Da(g),0)}if(m.ok||await kv(m),s?.noResolveJson)return m;try{return await m.json()}catch(g){await kv(g)}}function qn(n){var e;let r=null;QC(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=CC(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:s},error:null}}function Dv(n){const e=qn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ia(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function JC(n){return{data:n,error:null}}function XC(n){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:u}=n,c=Nu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:u},g=Object.assign({},c);return{data:{properties:m,user:g},error:null}}function Uv(n){return n}function QC(n){return n.access_token&&n.refresh_token&&n.expires_in}const Mf=["global","local","others"];class ZC{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Sx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Mf[0]){if(Mf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mf.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ia})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Nu(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:XC,redirectTo:r?.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ia})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,u,c,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Uv});if(y.error)throw y.error;const b=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);p[`${S}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Us(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ia})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Us(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ia})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Us(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ia})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Us(e.userId);try{const{data:r,error:s}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Us(e.userId),Us(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,u,c,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Uv});if(y.error)throw y.error;const b=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);p[`${S}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ie(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function Lv(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const Ls={debug:!!(globalThis&&_x()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ex extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ek extends Ex{}async function tk(n,e,r){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ek(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ls.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Tx(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function rk(n){return parseInt(n,16)}function ak(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function sk(n){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:m,requestId:g,resources:p,scheme:y,uri:b,version:w}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=Tx(n.address),_=y?`${y}://${s}`:s,T=n.statement?`${n.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${E}

${T}`;let A=`URI: ${b}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),m&&(A+=`
Not Before: ${m.toISOString()}`),g&&(A+=`
Request ID: ${g}`),p){let j=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);j+=`
- ${N}`}A+=j}return`${S}
${A}`}class _t extends Error{constructor({message:e,code:r,cause:s,name:o}){var u;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class _u extends _t{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function ik({error:n,options:e}){var r,s,o;const{publicKey:u}=e;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new _t({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(jx(c)){if(u.rp.id!==c)return new _t({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function ok({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new _t({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(jx(s)){if(r.rpId!==s)return new _t({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class lk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uk=new lk;function ck(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:s}=n,o=Nu(n,["challenge","user","excludeCredentials"]),u=Gs(e).buffer,c=Object.assign(Object.assign({},r),{id:Gs(r.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:u,user:c});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const p=s[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Gs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function dk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,s=Nu(n,["challenge","allowCredentials"]),o=Gs(e).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const m=r[c];u.allowCredentials[c]=Object.assign(Object.assign({},m),{id:Gs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function fk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:za(new Uint8Array(n.response.attestationObject)),clientDataJSON:za(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,s=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:za(new Uint8Array(o.authenticatorData)),clientDataJSON:za(new Uint8Array(o.clientDataJSON)),signature:za(new Uint8Array(o.signature)),userHandle:o.userHandle?za(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jx(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Mv(){var n,e;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mk(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _u("Browser returned unexpected credential type",e)}:{data:null,error:new _u("Empty credential response",e)}}catch(e){return{data:null,error:ik({error:e,options:n})}}}async function pk(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _u("Browser returned unexpected credential type",e)}:{data:null,error:new _u("Empty credential response",e)}}catch(e){return{data:null,error:ok({error:e,options:n})}}}const gk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Su(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of n)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))s[u]=c;else if(r(c))s[u]=c;else if(e(c)){const m=s[u];e(m)?s[u]=Su(m,c):s[u]=Su(c)}else s[u]=c}return s}function vk(n,e){return Su(gk,n,e||{})}function bk(n,e){return Su(yk,n,e||{})}class wk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},u){try{const{data:c,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:m};const g=o??uk.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=vk(c.webauthn.credential_options.publicKey,u?.create),{data:y,error:b}=await mk({publicKey:p,signal:g});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=bk(c.webauthn.credential_options.publicKey,u?.request),{data:y,error:b}=await pk(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new Ia("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new yo("rpId is required for WebAuthn authentication")};try{if(!Mv())return{data:null,error:new Ia("Browser does not support WebAuthn",null)};const{data:c,error:m}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:u});if(!c)return{data:null,error:m};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:s,credential_response:g.credential_response}})}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new Ia("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new yo("rpId is required for WebAuthn registration")};try{if(!Mv())return{data:null,error:new Ia("Browser does not support WebAuthn",null)};const{data:c,error:m}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:u});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new Ia("Unexpected error in register",c)}}}}nk();const xk={url:gC,storageKey:yC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Iv(n,e,r){return await r()}const Ms={};class vo{get jwks(){var e,r;return(r=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},xk),e);if(this.storageKey=u.storageKey,this.instanceID=(r=vo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&It()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new ZC({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Sx(u.fetch),this.lock=u.lock||Iv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&It()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=tk:this.lock=Iv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:_x()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(It()&&(r=DC(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),It()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),EC(u)){const g=(e=u.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",m),await this._saveSession(c),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new Ia("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:qn}),{data:c,error:m}=u;if(m||!c)return this._returnResult({data:{user:null,session:null},error:m});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(e){var r,s,o;try{let u;if("email"in e){const{email:y,password:b,options:w}=e;let E=null,_=null;this.flowType==="pkce"&&([E,_]=await Ds(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:b,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:E,code_challenge_method:_},xform:qn})}else if("phone"in e){const{phone:y,password:b,options:w}=e;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:qn})}else throw new ru("You must provide either an email or phone number and a password");const{data:c,error:m}=u;if(m||!c)return await Mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(e){try{let r;if("email"in e){const{email:u,password:c,options:m}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Dv})}else if("phone"in e){const{phone:u,password:c,options:m}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Dv})}else throw new ru("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new ks;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,u,c,m,g,p,y,b,w;let E,_;if("message"in e)E=e.message,_=e.signature;else{const{chain:T,wallet:S,statement:A,options:j}=e;let N;if(It())if(typeof S=="object")N=S;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")N=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=S}const R=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),L=await N.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Tx(L[0]);let B=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const K=await N.request({method:"eth_chainId"});B=rk(K)}const J={domain:R.host,address:q,statement:A,uri:R.href,version:"1",chainId:B,nonce:(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=j?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=j?.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=sk(J),_=await N.request({method:"personal_sign",params:[ak(E),q]})}try{const{data:T,error:S}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:_},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:qn});if(S)throw S;if(!T||!T.session||!T.user){const A=new ks;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(ie(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var r,s,o,u,c,m,g,p,y,b,w,E;let _,T;if("message"in e)_=e.message,T=e.signature;else{const{chain:S,wallet:A,statement:j,options:N}=e;let R;if(It())if(typeof A=="object")R=A;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))R=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const L=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const q=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),j?{statement:j}:null));let B;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")B=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)B=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)_=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),T=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=N?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((b=(y=N?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...N.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const q=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=q}}try{const{data:S,error:A}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:za(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:qn});if(A)throw A;if(!S||!S.session||!S.user){const j=new ks;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:A})}catch(S){if(ie(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new TC;const{data:u,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:qn});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const m=new ks;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:u,nonce:c}=e,m=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:qn}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const y=new ks;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,u,c;try{if("email"in e){const{email:m,options:g}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ds(this.storage,this.storageKey));const{error:b}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:m,options:g}=e,{data:p,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new ru("You must provide either an email or phone number.")}catch(m){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var r,s;try{let o,u;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,u=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:m}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:qn});if(m)throw m;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o,u,c;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ds(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:JC});return!((u=p.data)===null||u===void 0)&&u.url&&It()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new wn;const{error:o}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:u}=e,{error:c}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:u}=e,{data:c,error:m}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:m})}throw new ru("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<kf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Ca(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Lf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=GC(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ia}):await this._useSession(async r=>{var s,o,u;const{data:c,error:m}=r;if(m)throw m;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ia})})}catch(r){if(ie(r))return SC(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new wn;const c=o.session;let m=null,g=null;this.flowType==="pkce"&&e.email!=null&&([m,g]=await Ds(this.storage,this.storageKey));const{data:p,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:g}),jwt:c.access_token,xform:ia});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wn;const r=Date.now()/1e3;let s=r,o=!0,u=null;const{payload:c}=Uf(e.access_token);if(c.exp&&(s=c.exp,o=s<=r),o){const{data:m,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(e.access_token);if(g)throw g;u={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:c,error:m}=r;if(m)throw m;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new wn;const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!It())throw new au("No browser detected.");if(e.error||e.error_description||e.error_code)throw new au(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jv("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:m,expires_at:g,token_type:p}=e;if(!u||!m||!c||!p)throw new au("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let w=y+b;g&&(w=parseInt(g));const E=w-y;E*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const _=w-b;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:T,error:S}=await this._getUser(u);if(S)throw S;const A={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:w,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(s){if(ie(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:u}=r;if(u)return this._returnResult({error:u});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:m}=await this.admin.signOut(c,e);if(m&&!(_C(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=kC(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:u},error:c}=r;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ds(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async u=>{var c,m,g,p,y;const{data:b,error:w}=u;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return It()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ie(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:c,provider:m,token:g,access_token:p,nonce:y}=e,b=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qn}),{data:w,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ks}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:E}))}catch(o){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:u,error:c}=r;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await MC(async o=>(o>0&&await LC(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&Df(u)&&Date.now()+c-s<zs})}catch(s){if(this._debug(r,"error",s),ie(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),It()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Ca(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Ps(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Lf()}else if(o&&!o.user&&!o.user){const c=await Ca(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Mt(this.storage,this.storageKey+"-user"),await Ps(this.storage,this.storageKey,o)):o.user=Lf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kf;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${kf}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Df(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:m}=await this._getUser(o.access_token);!m&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Pu;const{data:u,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!u.session)throw new wn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),ie(u)){const c={data:null,error:u};return Df(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,r)}catch(g){u.push(g)}});if(await Promise.all(c),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Mt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ps(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=Cv(o);await Ps(this.storage,this.storageKey,u)}else{const o=Cv(r);await Ps(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&It()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${zs}ms, refresh threshold is ${dh} ticks`),o<=dh&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ex)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,c]=await Ds(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(m.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fk(e.webauthn.credential_response):hk(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:m}=c;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:ck(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:dk(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Uf(s.access_token);let c=null;u.aal&&(c=u.aal);let m=c;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new wn})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new wn});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return c.data&&c.data.redirect_url&&It()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new wn});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return c.data&&c.data.redirect_url&&It()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new wn})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(m=>m.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(m=>m.kid===e),s&&this.jwks_cached_at+wC>o)return s;const{data:u,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(m=>m.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:E,error:_}=await this.getSession();if(_||!E.session)return this._returnResult({data:null,error:_});s=E.session.access_token}const{header:o,payload:u,signature:c,raw:{header:m,payload:g}}=Uf(s);r?.allowExpired||qC(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:u,header:o,signature:c},error:null}}const y=FC(o.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,c,RC(`${m}.${g}`)))throw new mh("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}}vo.nextInstanceID={};const _k=vo,Sk="2.90.1";let ro="";typeof Deno<"u"?ro="deno":typeof document<"u"?ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ro="react-native":ro="node";const Ek={"X-Client-Info":`supabase-js-${ro}/${Sk}`},Tk={headers:Ek},jk={schema:"public"},Nk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ak={};function bo(n){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(n)}function Ok(n,e){if(bo(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(bo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rk(n){var e=Ok(n,"string");return bo(e)=="symbol"?e:e+""}function Ck(n,e,r){return(e=Rk(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Bv(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,s)}return r}function lt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bv(Object(r),!0).forEach(function(s){Ck(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Bv(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}const kk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Dk=()=>Headers,Uk=(n,e,r)=>{const s=kk(r),o=Dk();return async(u,c)=>{var m;const g=(m=await e())!==null&&m!==void 0?m:n;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),s(u,lt(lt({},c),{},{headers:p}))}};function Lk(n){return n.endsWith("/")?n:n+"/"}function Mk(n,e){var r,s;const{db:o,auth:u,realtime:c,global:m}=n,{db:g,auth:p,realtime:y,global:b}=e,w={db:lt(lt({},g),o),auth:lt(lt({},p),u),realtime:lt(lt({},y),c),storage:{},global:lt(lt(lt({},b),m),{},{headers:lt(lt({},(r=b?.headers)!==null&&r!==void 0?r:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function Ik(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Bk=class extends _k{constructor(n){super(n)}},$k=class{constructor(n,e,r){var s,o;this.supabaseUrl=n,this.supabaseKey=e;const u=Ik(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:jk,realtime:Ak,auth:lt(lt({},Nk),{},{storageKey:c}),global:Tk},g=Mk(r??{},m);if(this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=Uk(e,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(lt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new vR(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new pC(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new hR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,r;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(e=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:u,flowType:c,lock:m,debug:g,throwOnError:p},y,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bk({url:this.authUrl.href,headers:lt(lt({},w),y),storageKey:u,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:o,flowType:c,lock:m,debug:g,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new LR(this.realtimeUrl.href,lt(lt({},n),{},{params:lt(lt({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zk=(n,e,r)=>new $k(n,e,r);function Pk(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Pk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hk="https://evaknuoxsjlrcznmqqvq.supabase.co",qk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV2YWtudW94c2pscmN6bm1xcXZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NzQ3NjAsImV4cCI6MjA4NDI1MDc2MH0.S9coLBZz9ydlfkwoVKxieJ-h_cp2AhGTDUR55r30rqI",ut=zk(Hk,qk),Fk={async getAll(){const{data:n,error:e}=await ut.from("departments").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]},async getById(n){const{data:e,error:r}=await ut.from("departments").select("*").eq("id",n).single();if(r)throw r;return e},async create(n){const{data:e,error:r}=await ut.from("departments").insert(n).select().single();if(r)throw r;return e},async update(n,e){const{data:r,error:s}=await ut.from("departments").update(e).eq("id",n).select().single();if(s)throw s;return r},async delete(n){const{error:e}=await ut.from("departments").delete().eq("id",n);if(e)throw e}},If={async getAll(){const{data:n,error:e}=await ut.from("companies").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]},async getById(n){const{data:e,error:r}=await ut.from("companies").select("*").eq("id",n).single();if(r)throw r;return e},async create(n){const{data:e,error:r}=await ut.from("companies").insert(n).select().single();if(r)throw r;return e},async update(n,e){const{data:r,error:s}=await ut.from("companies").update(e).eq("id",n).select().single();if(s)throw s;return r},async delete(n){const{error:e}=await ut.from("companies").delete().eq("id",n);if(e)throw e}},Vk={async getAll(){const{data:n,error:e}=await ut.from("stores").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]},async getById(n){const{data:e,error:r}=await ut.from("stores").select("*").eq("id",n).single();if(r)throw r;return e},async getByCompanyId(n){const{data:e,error:r}=await ut.from("stores").select("*").eq("company_id",n).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async create(n){const{data:e,error:r}=await ut.from("stores").insert(n).select().single();if(r)throw r;return e},async update(n,e){const{data:r,error:s}=await ut.from("stores").update(e).eq("id",n).select().single();if(s)throw s;return r},async delete(n){const{error:e}=await ut.from("stores").delete().eq("id",n);if(e)throw e}},Gk={async getAll(){const{data:n,error:e}=await ut.from("users").select("*").order("created_at",{ascending:!1});if(e)throw e;return n||[]},async getById(n){const{data:e,error:r}=await ut.from("users").select("*").eq("id",n).single();if(r)throw r;return e},async getByLineUserId(n){const{data:e,error:r}=await ut.from("users").select("*").eq("line_user_id",n).single();if(r)throw r;return e},async create(n){const{data:e,error:r}=await ut.from("users").insert(n).select().single();if(r)throw r;return e},async update(n,e){const{data:r,error:s}=await ut.from("users").update(e).eq("id",n).select().single();if(s)throw s;return r},async delete(n){const{error:e}=await ut.from("users").delete().eq("id",n);if(e)throw e}},Wk=()=>{const{hasPermission:n}=ua();Tu();const[e,r]=C.useState("overview"),[s,o]=C.useState(!1),[u,c]=C.useState("add"),[m,g]=C.useState(null),[p,y]=C.useState([]),[b,w]=C.useState([]),[E,_]=C.useState([]),[T,S]=C.useState([]),[A,j]=C.useState(!0),[N,R]=C.useState(null);C.useEffect(()=>{L()},[]);const L=async()=>{try{j(!0),R(null);const[ee,me,pe,ge]=await Promise.all([Fk.getAll(),If.getAll(),Vk.getAll(),Gk.getAll()]);y(ee),w(me),_(pe),S(ge)}catch(ee){console.error(":",ee),R("")}finally{j(!1)}},q={totalUsers:156,activeUsers:142,totalStores:12,totalShifts:2847},B=async ee=>{try{console.log(":",ee),u==="add"?(await If.create(ee),alert("")):(await If.update(m.id,ee),alert("")),o(!1),g(null),L()}catch(me){console.error(":",me),alert("")}},J=()=>{o(!1),g(null)},K=[{id:"overview",label:"",icon:""},{id:"department",label:"",icon:""},{id:"company",label:"",icon:""},{id:"stores",label:"",icon:""},{id:"users",label:"",icon:""},{id:"system",label:"",icon:""}];return d.jsx(Yh,{children:d.jsx("div",{className:"min-h-screen bg-gray-50",children:d.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[A&&d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}),N&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:""}),d.jsx("div",{className:"mt-2 text-sm text-red-700",children:d.jsx("p",{children:N})}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{onClick:L,className:"bg-red-100 text-red-800 px-3 py-2 rounded-md text-sm font-medium hover:bg-red-200 transition-colors",children:""})})]})]})}),!A&&!N&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600",children:""})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-md mb-8",children:d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("nav",{className:"flex -mb-px",children:K.map(ee=>d.jsxs("button",{onClick:()=>r(ee.id),className:`py-4 px-6 text-sm font-medium border-b-2 ${e===ee.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx("span",{className:"mr-2",children:ee.icon}),ee.label]},ee.id))})})}),e==="overview"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:q.totalUsers}),d.jsx("div",{className:"text-sm text-blue-800",children:""})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:q.activeUsers}),d.jsx("div",{className:"text-sm text-green-800",children:""})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:q.totalStores}),d.jsx("div",{className:"text-sm text-purple-800",children:""})]}),d.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:q.totalShifts}),d.jsx("div",{className:"text-sm text-orange-800",children:""})]})]})]})}),e!=="overview"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.find(ee=>ee.id===e)?.label}),d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-600 mb-4",children:"..."}),d.jsx("p",{className:"text-sm text-gray-500",children:"UI "})]})]})]}),d.jsx(cR,{isOpen:s,onClose:J,title:u==="add"?"":"",size:"lg",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:m?.name||"",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:m?.tax_id||"",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:m?.manager_name||"",placeholder:""})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[d.jsx("button",{onClick:J,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:""}),d.jsx("button",{onClick:()=>B(m),className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:u==="add"?"":""})]})]})})]})})})},Nx=C.createContext(void 0),Yk=({children:n})=>{const[e,r]=C.useState(null),[s,o]=C.useState(!1),m={currentViewRole:e,isViewMode:s,switchToView:g=>{r(g),o(!0),console.log(` : ${g}`)},exitViewMode:()=>{r(null),o(!1),console.log(" ")}};return d.jsx(Nx.Provider,{value:m,children:n})},Kk=()=>{const n=C.useContext(Nx);if(n===void 0)throw new Error("useRoleSwitch must be used within a RoleSwitchProvider");return n},Jk=()=>{const{userRole:n,hasPermission:e}=ua(),{switchToRole:r}=kj(),{currentViewRole:s,isViewMode:o,switchToView:u,exitViewMode:c}=Kk(),[m,g]=C.useState(!1);if(!e("switch_roles")&&!e("system_debug"))return null;const p=[{value:Ae.SYSTEM_ADMIN,label:"",description:"",color:"bg-purple-100 text-purple-800"},{value:Ae.HQ_ADMIN,label:"",description:"",color:"bg-red-100 text-red-800"},{value:Ae.AREA_MANAGER,label:"",description:"",color:"bg-orange-100 text-orange-800"},{value:Ae.STORE_MANAGER,label:"",description:"",color:"bg-blue-100 text-blue-800"},{value:Ae.STAFF,label:"",description:"",color:"bg-green-100 text-green-800"}],y=p.find(w=>o?w.value===s:w.value===n),b=w=>{n===Ae.SYSTEM_ADMIN?window.confirm(`

  
  `)?r(w):u(w):r(w),g(!1)};return d.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>g(!m),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2",children:[d.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{className:"text-sm font-medium",children:y?.label||""}),d.jsx("svg",{className:`w-4 h-4 transform transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200",children:d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:""}),d.jsx("div",{className:"space-y-2",children:p.map(w=>d.jsx("button",{onClick:()=>b(w.value),className:`w-full text-left p-3 rounded-lg border transition-colors ${n===w.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.color}`,children:w.label}),n===w.value&&d.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]})})},w.value))}),d.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:d.jsx("p",{className:"text-xs text-gray-500",children:" "})})]})})]}),y&&d.jsx("div",{className:"absolute -top-2 -right-2",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.color}`,children:y.label})})]})},Xk=({message:n="Loading..."})=>d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:n}),d.jsx("p",{className:"text-gray-400 text-sm mt-2",children:" LINE LIFF..."})]})}),Qk=()=>{const{id:n}=q1(),e=Tu(),[r,s]=C.useState(!1),[o,u]=C.useState({id:n||"",name:"",code:"NG-001",areaId:"area-1",areaName:"",managerId:"manager-1",managerName:"",companyId:"company-1",companyName:"",address:"123",phone:"02-12345678",email:"ng@banban.com",status:"active",employeeCount:15,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}),c=()=>{console.log(":",o),alert(""),s(!1)},m=()=>{window.confirm(`${o.name}`)&&(console.log(":",o),alert(""),e("/system-admin/stores"))},g=()=>{e("/system-admin/stores")};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("button",{onClick:g,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-2",children:" "}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600 mt-2",children:""})]}),d.jsx("div",{className:"flex justify-end space-x-3 mb-6",children:r?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>s(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:""}),d.jsx("button",{onClick:c,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:""})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:""}),d.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:""})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:o.name,onChange:p=>u({...o,name:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:o.code,onChange:p=>u({...o,code:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsxs("select",{value:o.status,onChange:p=>u({...o,status:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[d.jsx("option",{value:"active",children:""}),d.jsx("option",{value:"inactive",children:""})]})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsxs("select",{value:o.companyId,onChange:p=>u({...o,companyId:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[d.jsx("option",{value:"company-1",children:""}),d.jsx("option",{value:"company-2",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsxs("select",{value:o.areaId,onChange:p=>u({...o,areaId:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[d.jsx("option",{value:"area-1",children:""}),d.jsx("option",{value:"area-2",children:""}),d.jsx("option",{value:"area-3",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"number",value:o.employeeCount,onChange:p=>u({...o,employeeCount:parseInt(p.target.value)}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:o.managerName,onChange:p=>u({...o,managerName:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:o.address,onChange:p=>u({...o,address:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"tel",value:o.phone,onChange:p=>u({...o,phone:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"email",value:o.email,onChange:p=>u({...o,email:p.target.value}),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]})]})})]})})},Zk=()=>{Tu();const[n,e]=C.useState("dept-1"),[r,s]=C.useState(null),o=[{id:"dept-1",name:"",storeCount:12},{id:"dept-2",name:"",storeCount:8},{id:"dept-3",name:"",storeCount:10}],u=[{id:"store-1",name:"A",code:"COS-001",areaId:"area-1",areaName:"",managerId:"manager-1",managerName:"",companyId:"company-1",companyName:"",address:"123",phone:"02-12345678",email:"cos001@banban.com",status:"active",employeeCount:8,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"store-2",name:"B",code:"CLO-002",areaId:"area-1",areaName:"",managerId:"manager-2",managerName:"",companyId:"company-2",companyName:"",address:"456",phone:"02-23456789",email:"clo002@banban.com",status:"active",employeeCount:6,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"},{id:"store-3",name:"C",code:"JEW-003",areaId:"area-1",areaName:"",managerId:"manager-3",managerName:"",companyId:"company-1",companyName:"",address:"789",phone:"02-34567890",email:"jew003@banban.com",status:"active",employeeCount:4,isActive:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-01T00:00:00Z"}],c=[{storeId:"store-1",storeName:"A",staff:[{name:"",position:"",schedule:" 09:00-18:00"},{name:"",position:"",schedule:" 09:00-18:00"},{name:"",position:"",schedule:" 14:00-23:00"},{name:"",position:"",schedule:" 14:00-23:00"}]},{storeId:"store-2",storeName:"B",staff:[{name:"",position:"",schedule:" 09:00-18:00"},{name:"",position:"",schedule:" 09:00-18:00"},{name:"",position:"",schedule:" 14:00-23:00"}]},{storeId:"store-3",storeName:"C",staff:[{name:"",position:"",schedule:" 09:00-18:00"},{name:"",position:"",schedule:" 09:00-18:00"},{name:"",position:"",schedule:" 14:00-23:00"}]}],m=o.find(p=>p.id===n),g=r?c.filter(p=>p.storeId===r):c;return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),d.jsx("p",{className:"text-gray-600 mt-2",children:""})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(p=>d.jsxs("button",{onClick:()=>{e(p.id),s(null)},className:`p-4 rounded-lg border-2 transition-colors ${n===p.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[d.jsx("div",{className:"font-medium text-gray-900",children:p.name}),d.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[p.storeCount," "]})]},p.id))})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[m?.name," - "]}),d.jsxs("div",{className:"text-sm text-gray-600",children:[" ",u.length," "]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(p=>d.jsxs("button",{onClick:()=>s(r===p.id?null:p.id),className:`p-4 rounded-lg border-2 text-left transition-colors ${r===p.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[d.jsx("div",{className:"font-medium text-gray-900",children:p.name}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:p.code}),d.jsxs("div",{className:"text-sm text-gray-600",children:[": ",p.managerName]}),d.jsxs("div",{className:"text-sm text-gray-600",children:[": ",p.employeeCount," "]}),d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${p.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.status==="active"?"":""})})]},p.id))})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r?`${u.find(p=>p.id===r)?.name} - `:`${m?.name} - `}),d.jsxs("div",{className:"text-sm text-gray-600",children:[g.reduce((p,y)=>p+y.staff.length,0)," "]})]}),d.jsx("div",{className:"space-y-6",children:g.map(p=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:p.storeName}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.staff.map((y,b)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:y.name}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:y.position}),d.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:y.schedule})]},b))})]})})]},p.storeId))})]}),d.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:""}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsx("li",{children:" "}),d.jsx("li",{children:" "}),d.jsx("li",{children:" "}),d.jsx("li",{children:" "})]})]})]})})};function e4(){const{isLoading:n,isLoggedIn:e,error:r,login:s}=jo();return n?d.jsx(Xk,{message:" LINE LIFF..."}):r?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"LIFF "}),d.jsx("p",{className:"text-gray-600 mb-4",children:r}),d.jsx("button",{onClick:s,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:""})]})}):e?d.jsx(Cj,{children:d.jsx(Yk,{children:d.jsx(AE,{children:d.jsxs(Dj,{children:[d.jsxs(aE,{children:[d.jsx(Mn,{path:"/",element:d.jsx(cA,{})}),d.jsx(Mn,{path:"/schedules",element:d.jsx(fA,{})}),d.jsx(Mn,{path:"/leave-requests",element:d.jsx(mA,{})}),d.jsx(Mn,{path:"/staff",element:d.jsx(gA,{})}),d.jsx(Mn,{path:"/my-schedule",element:d.jsx(sR,{})}),d.jsx(Mn,{path:"/cross-store-support",element:d.jsx(oR,{})}),d.jsx(Mn,{path:"/work-hours-report",element:d.jsx(uR,{})}),d.jsx(Mn,{path:"/system-admin",element:d.jsx(Wk,{})}),d.jsx(Mn,{path:"/system-admin/stores/:id",element:d.jsx(Qk,{})}),d.jsx(Mn,{path:"/floor-manager",element:d.jsx(Zk,{})}),d.jsx(Mn,{path:"/profile",element:d.jsx(iR,{})})]}),d.jsx(Jk,{})]})})})}):d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-7 14l-5-5 1.41-1.41L12 14.17l3.59-3.59L17 12l-5 5z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),d.jsx("p",{className:"text-gray-600 mb-6",children:" LINE "}),d.jsxs("button",{onClick:s,className:"bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center mx-auto",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-7 14l-5-5 1.41-1.41L12 14.17l3.59-3.59L17 12l-5 5z"})})," LINE "]})]})})}i1.createRoot(document.getElementById("root")).render(d.jsx(C.StrictMode,{children:d.jsx(Nj,{children:d.jsx(e4,{})})}));
//# sourceMappingURL=index-BHv3SXfG.js.map
